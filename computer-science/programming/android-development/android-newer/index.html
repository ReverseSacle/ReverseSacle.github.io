<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content=#222><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=icon type=image/ico sizes=48x48 href=/images/favicon.ico><link rel=alternate type=application/rss+xml title=逆转天平 href=https://www.reversesacle.com/rss.xml><link rel=alternate type=application/atom+xml title=逆转天平 href=https://www.reversesacle.com/atom.xml><link rel=alternate type=application/json title=逆转天平 href=https://www.reversesacle.com/feed.json><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel=stylesheet href=/css/app.css><meta name=description content=安卓开发><link rel=canonical href=https://www.reversesacle.com/computer-science/programming/android-development/android-newer/ ><title>Kotlin与安卓开发-基础 - 安卓开发 - 编程 - 计算机科学 | ReverseSacle-Blog</title><meta name=generator content="Hexo 6.3.0"></head><body itemscope itemtype=http://schema.org/WebPage><div id=loading><div class=dotloader><div class=dot></div><div class=dot></div><div class=dot></div><div class=dot></div><div class=dot></div></div></div><div id=container><header id=header itemscope itemtype=http://schema.org/WPHeader><div class=inner><div id=brand><div class=pjax><h1 itemprop="name headline">Kotlin与安卓开发-基础</h1><div class=meta><span class=item title="创建时间：2024-06-20 21:32:50"><span class=icon><i class="ic i-calendar"></i></span> <span class=text>发表于</span> <time itemprop="dateCreated datePublished" datetime=2024-06-20T21:32:50+08:00>2024-06-20</time></span><span class=item title=本文字数><span class=icon><i class="ic i-pen"></i></span> <span class=text>本文字数</span> <span>54k</span> <span class=text>字</span></span><span class=item title=阅读时长><span class=icon><i class="ic i-clock"></i></span> <span class=text>阅读时长</span> <span>1:03</span></span></div></div></div><nav id=nav><div class=inner><div class=toggle><div class=lines role=navigation aria-label=切换导航栏><span class=line></span><span class=line></span><span class=line></span></div></div><ul class=menu><li class="item title"><a href=/ rel=start>ReverseSacle-Blog</a></li></ul><ul class=right><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id=imgs class=pjax><ul><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg10.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg16.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg20.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg5.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg7.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg13.webp></li></ul></div></header><div id=waves><svg class=waves xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewBox="0 24 150 28" preserveAspectRatio=none shape-rendering=auto><defs><path id=gentle-wave d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352z"/></defs><g class=parallax><use xlink:href=#gentle-wave x=48 y=0 /><use xlink:href=#gentle-wave x=48 y=3 /><use xlink:href=#gentle-wave x=48 y=5 /><use xlink:href=#gentle-wave x=48 y=7 /></g></svg></div><main><div class=inner><div id=main class=pjax><div class="article wrap"><div class=breadcrumb itemscope itemtype=https://schema.org/BreadcrumbList><i class="ic i-home"></i> <span><a href=/ >首页</a></span><i class="ic i-angle-right"></i> <span itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/ itemprop=item rel=index title="分类于 计算机科学"><span itemprop=name>计算机科学</span></a><meta itemprop=position content=1></span><i class="ic i-angle-right"></i> <span itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/programming/ itemprop=item rel=index title="分类于 编程"><span itemprop=name>编程</span></a><meta itemprop=position content=2></span><i class="ic i-angle-right"></i> <span class=current itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/programming/android-development/ itemprop=item rel=index title="分类于 安卓开发"><span itemprop=name>安卓开发</span></a><meta itemprop=position content=3></span></div><article itemscope itemtype=http://schema.org/Article class="post block" lang=zh-CN><link itemprop=mainEntityOfPage href=https://www.reversesacle.com/computer-science/programming/android-development/android-newer/ ><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content=/images/avatar.webp><meta itemprop=name content=ReverseSacle><meta itemprop=description content="所见即所得，所思即所行, 知识书库 & 学习点滴"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content=逆转天平></span><div class="body md" itemprop=articleBody><h2 id=kotlin><a class=anchor href=#kotlin>#</a> Kotlin</h2><h3 id=变量><a class=anchor href=#变量>#</a> 变量</h3><p>Kotlin是一种静态类型的语言，类型将在编译时解析并且从不改变。</p><p>默认情况下，Kotlin变量不能持有null值，但可以在变量类型后面加上<code>?</code>后缀，将该变量指定为可为null变量。</p><p><code>val</code>用于值从不更改的变量，声明的变量无法重新赋值。</p><p><code>var</code>用于值可以更改的变量。</p><p>避免使用 Kotlin<span class=exturl data-url="aHR0cHM6Ly9rb3RsaW5sYW5nLm9yZy9kb2NzL2tleXdvcmQtcmVmZXJlbmNlLmh0bWw=">关键字</span>作为变量名称。</p><h4 id=声明变量><a class=anchor href=#声明变量>#</a> 声明变量</h4><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">var</span> count<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// 可变</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">val</span> languageName<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Kotlin"</span></span> <span class="token comment">// 不可变</span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">// languageName 推断为 String，因此无法对其调用任何不属于 String 类的函数</span></pre></td></tr><tr><td data-num=5></td><td><pre>languageName<span class="token punctuation">.</span><span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Fails to compile</span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">val</span> languageName<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// Fails to compile</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">val</span> languageName<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment">// 指定 String? 类型后，可以为 languageName 赋予 String 值或 null</span></pre></td></tr></table></figure><table><thead><tr><th style=text-align:left>数据类型</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left>Byte</td><td style=text-align:left>字节</td></tr><tr><td style=text-align:left>Short</td><td style=text-align:left>短整数</td></tr><tr><td style=text-align:left>Int</td><td style=text-align:left>整数</td></tr><tr><td style=text-align:left>Long</td><td style=text-align:left>长整数</td></tr><tr><td style=text-align:left>Float</td><td style=text-align:left>小数（不如 <code>Double</code> 精确），数字末尾带有 <code>f</code> 或 <code>F</code>。5.0f</td></tr><tr><td style=text-align:left>Double</td><td style=text-align:left>小数</td></tr><tr><td style=text-align:left>Boolean</td><td style=text-align:left><code>true</code> 或 <code>false</code>。当只有两个可能的值时，可使用此数据类型。<br><code>true</code> 和 <code>false</code> 是 Kotlin 中的关键字。</td></tr><tr><td style=text-align:left>String</td><td style=text-align:left>文本，&quot;Add contact&quot;</td></tr></tbody></table><h4 id=类型推断><a class=anchor href=#类型推断>#</a> 类型推断</h4><p>当Kotlin编译器可以推断(或确定)变量的数据类型时，即可不必在代码中写入确切类型。</p><p>格式输出时，可以在单个变量名称前加上 <code>$</code> 符号。</p><p>更复杂的表达式，就必须用大括号将该表达式括起来，并在大括号前添加 <code>$</code> 符号。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">val</span> count<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">val</span> count <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">// 基本运算</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">val</span> unreadCount <span class="token operator">=</span> <span class="token number">5</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">val</span> readCount <span class="token operator">=</span> <span class="token number">100</span></pre></td></tr><tr><td data-num=8></td><td><pre>	<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"readCount: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">readCount</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"You have </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token expression">unreadCount <span class="token operator">+</span> readCount</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> total messages in your inbox."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id=更新变量><a class=anchor href=#更新变量>#</a> 更新变量</h4><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">var</span> count<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">10</span></pre></td></tr><tr><td data-num=2></td><td><pre>count <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">1</span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">// 自增与自减</span></pre></td></tr><tr><td data-num=5></td><td><pre>count<span class="token operator">++</span></pre></td></tr><tr><td data-num=6></td><td><pre>count<span class="token operator">--</span></pre></td></tr><tr><td data-num=7></td><td><pre></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token comment">// 字符串 串联</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">val</span> nextMeeting <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Next meeting is:"</span></span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">val</span> date <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"January 1"</span></span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token keyword">val</span> reminder <span class="token operator">=</span> nextMeeting <span class="token operator">+</span> date</pre></td></tr><tr><td data-num=12></td><td><pre><span class="token comment">// 结果：Next meeting is:January 1</span></pre></td></tr><tr><td data-num=13></td><td><pre></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">val</span> notificationsEnabled<span class="token operator">:</span> Boolean <span class="token operator">=</span> <span class="token boolean">false</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Are notifications enabled? "</span></span> <span class="token operator">+</span> notificationsEnabled<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token comment">// 结果：Are notifications enabled? false</span></pre></td></tr></table></figure><h4 id=可为-null-类型与不可为-null-类型><a class=anchor href=#可为-null-类型与不可为-null-类型>#</a> 可为 null 类型与不可为 null 类型</h4><ul><li>可为 null 类型是指可以存储 <code>null</code> 值的变量</li><li>不可为 null 类型是指不能存储 <code>null</code> 值的变量</li></ul><p>在 Kotlin 中声明可为 null 的变量，需要在相应类型的末尾添加 <code>?</code> 运算符</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    <span class="token keyword">var</span> favoriteActor<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Sandra Oh"</span></span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span>favoriteActor<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre>    favoriteActor <span class="token operator">=</span> <span class="token keyword">null</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span>favoriteActor<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>可以使用 <code>?.</code> 安全调用运算符访问可为 null 变量的方法或属性。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    <span class="token keyword">var</span> favoriteActor<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Sandra Oh"</span></span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span>favoriteActor<span class="token operator">?</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre>    </pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">var</span> favoriteActor<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span>favoriteActor<span class="token operator">?</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>可以使用 <code>!!</code> 非 null 断言运算符来访问可为 null 的变量的方法或属性，使用 <code>!!</code> 非 null 断言运算符可能会导致系统抛出 <code>NullPointerException</code> 错误。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    <span class="token keyword">var</span> favoriteActor<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Sandra Oh"</span></span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span>favoriteActor<span class="token operator">!!</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre>    </pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">var</span> favoriteActor<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span>favoriteActor<span class="token operator">!!</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token comment">// 抛出异常</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment">// 或使用if-else</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token keyword">var</span> favoriteActor<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Sandra Oh"</span></span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>favoriteActor <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=14></td><td><pre>      <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"The number of characters in your favorite actor's name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token expression">favoriteActor<span class="token punctuation">.</span>length</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=17></td><td><pre></pre></td></tr><tr><td data-num=18></td><td><pre></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token comment">// 当为null时返回0</span></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token keyword">val</span> favoriteActor<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Sandra Oh"</span></span></pre></td></tr><tr><td data-num=22></td><td><pre></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token keyword">val</span> lengthOfName <span class="token operator">=</span> <span class="token keyword">if</span><span class="token punctuation">(</span>favoriteActor <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=24></td><td><pre>      favoriteActor<span class="token punctuation">.</span>length</pre></td></tr><tr><td data-num=25></td><td><pre>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=26></td><td><pre>      <span class="token number">0</span></pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><code>?:</code> Elvis 运算符可以与 <code>?.</code> 安全调用运算符搭配使用。如果搭配使用 <code>?:</code> Elvis 运算符，可以在 <code>?.</code> 安全调用运算符返回 <code>null</code> 时添加默认值。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    <span class="token keyword">val</span> favoriteActor<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Sandra Oh"</span></span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">val</span> lengthOfName <span class="token operator">=</span> favoriteActor<span class="token operator">?</span><span class="token punctuation">.</span>length</pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"The number of characters in your favorite actor's name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">lengthOfName</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token keyword">val</span> favoriteActor<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Sandra Oh"</span></span></pre></td></tr><tr><td data-num=11></td><td><pre></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token keyword">val</span> lengthOfName <span class="token operator">=</span> favoriteActor<span class="token operator">?</span><span class="token punctuation">.</span>length <span class="token operator">?:</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=13></td><td><pre></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"The number of characters in your favorite actor's name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">lengthOfName</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=条件语句><a class=anchor href=#条件语句>#</a> 条件语句</h3><h4 id=if-else><a class=anchor href=#if-else>#</a> if-else</h4><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// if-else</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">42</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"I have the answer."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"The answer eludes me."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=7></td><td><pre></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token comment">// else if</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">42</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"I have the answer."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">></span> <span class="token number">35</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"The answer is close."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"The answer eludes me."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=16></td><td><pre></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token comment">// 使用条件语句来检查变量是否包含对 null 值的引用</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token keyword">val</span> languageName<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token keyword">if</span> <span class="token punctuation">(</span>languageName <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=20></td><td><pre>    <span class="token comment">// No need to write languageName?.toUpperCase()</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span>languageName<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=23></td><td><pre></pre></td></tr><tr><td data-num=24></td><td><pre></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token keyword">val</span> message <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>trafficLightColor <span class="token operator">==</span> <span class="token string-literal singleline"><span class="token string">"Red"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Stop"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>trafficLightColor <span class="token operator">==</span> <span class="token string-literal singleline"><span class="token string">"Yellow"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=28></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Slow"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=29></td><td><pre><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>trafficLightColor <span class="token operator">==</span> <span class="token string-literal singleline"><span class="token string">"Green"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=30></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Go"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=31></td><td><pre><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=32></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Invalid traffic-light color"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=33></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=34></td><td><pre></pre></td></tr><tr><td data-num=35></td><td><pre><span class="token comment">// 移除大括号</span></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token keyword">val</span> message <span class="token operator">=</span></pre></td></tr><tr><td data-num=37></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>trafficLightColor <span class="token operator">==</span> <span class="token string-literal singleline"><span class="token string">"Red"</span></span><span class="token punctuation">)</span> <span class="token string-literal singleline"><span class="token string">"Stop"</span></span></pre></td></tr><tr><td data-num=38></td><td><pre>  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>trafficLightColor <span class="token operator">==</span> <span class="token string-literal singleline"><span class="token string">"Yellow"</span></span><span class="token punctuation">)</span> <span class="token string-literal singleline"><span class="token string">"Slow"</span></span></pre></td></tr><tr><td data-num=39></td><td><pre>  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>trafficLightColor <span class="token operator">==</span> <span class="token string-literal singleline"><span class="token string">"Green"</span></span><span class="token punctuation">)</span> <span class="token string-literal singleline"><span class="token string">"Go"</span></span></pre></td></tr><tr><td data-num=40></td><td><pre>  <span class="token keyword">else</span> <span class="token string-literal singleline"><span class="token string">"Invalid traffic-light color"</span></span></pre></td></tr></table></figure><h4 id=条件表达式><a class=anchor href=#条件表达式>#</a> 条件表达式</h4><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 条件表达式，不支持三元运算符</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">val</span> answerString<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">42</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token string-literal singleline"><span class="token string">"I have the answer."</span></span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">></span> <span class="token number">35</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token string-literal singleline"><span class="token string">"The answer is close."</span></span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token string-literal singleline"><span class="token string">"The answer eludes me."</span></span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=9></td><td><pre></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token function">println</span><span class="token punctuation">(</span>answerString<span class="token punctuation">)</span></pre></td></tr></table></figure><h4 id=when表达式><a class=anchor href=#when表达式>#</a> when表达式</h4><p><code>when</code>表达式中每个分支都由一个条件、一个箭头 (<code>-&gt;</code>) 和一个结果来表示。如果箭头左侧的条件求值为 true，则会返回右侧的表达式结果。请注意，执行并不是从一个分支跳转到下一个分支。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">val</span> answerString <span class="token operator">=</span> <span class="token keyword">when</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    count <span class="token operator">==</span> <span class="token number">42</span> <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"I have the answer."</span></span></pre></td></tr><tr><td data-num=3></td><td><pre>    count <span class="token operator">></span> <span class="token number">35</span> <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"The answer is close."</span></span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"The answer eludes me."</span></span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token function">println</span><span class="token punctuation">(</span>answerString<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment">// when循环</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">when</span> <span class="token punctuation">(</span>trafficLightColor<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token string-literal singleline"><span class="token string">"Red"</span></span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Stop"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token string-literal singleline"><span class="token string">"Yellow"</span></span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Slow"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=14></td><td><pre></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">when</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is a prime number between 1 and 10."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=17></td><td><pre>    <span class="token number">3</span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is a prime number between 1 and 10."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=18></td><td><pre>    <span class="token number">5</span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is a prime number between 1 and 10."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token number">7</span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is a prime number between 1 and 10."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=20></td><td><pre>    <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x isn't a prime number between 1 and 10."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=22></td><td><pre></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token keyword">when</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is a prime number between 1 and 10."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=25></td><td><pre>    <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is a number between 1 and 10, but not a prime number."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x isn't a prime number between 1 and 10."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=28></td><td><pre></pre></td></tr><tr><td data-num=29></td><td><pre><span class="token keyword">when</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=30></td><td><pre>    <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is a prime number between 1 and 10."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=31></td><td><pre>    <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is a number between 1 and 10, but not a prime number."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=32></td><td><pre>    <span class="token keyword">is</span> Int <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is an integer number, but not between 1 and 10."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=33></td><td><pre>    <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x isn't a prime number between 1 and 10."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=34></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=函数><a class=anchor href=#函数>#</a> 函数</h3><h4 id=有参与无参><a class=anchor href=#有参与无参>#</a> 有参与无参</h4><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 无参</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">fun</span> <span class="token function">generateAnswerString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token keyword">val</span> answerString <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">42</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>        <span class="token string-literal singleline"><span class="token string">"I have the answer."</span></span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>        <span class="token string-literal singleline"><span class="token string">"The answer eludes me"</span></span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token keyword">return</span> answerString</pre></td></tr><tr><td data-num=10></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">// 将函数赋给变量</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">val</span> answerString <span class="token operator">=</span> <span class="token function">generateAnswerString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment">//////////////////////////////////////////////////////////</span></pre></td></tr><tr><td data-num=14></td><td><pre></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token comment">// 有参，可以指定任意数量的参数及其类型</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token keyword">fun</span> <span class="token function">generateAnswerString</span><span class="token punctuation">(</span>countThreshold<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=17></td><td><pre>    <span class="token keyword">val</span> answerString <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">></span> countThreshold<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=18></td><td><pre>        <span class="token string-literal singleline"><span class="token string">"I have the answer."</span></span></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=20></td><td><pre>        <span class="token string-literal singleline"><span class="token string">"The answer eludes me."</span></span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=22></td><td><pre></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token keyword">return</span> answerString</pre></td></tr><tr><td data-num=24></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token comment">// 将函数赋给变量</span></pre></td></tr><tr><td data-num=26></td><td><pre><span class="token keyword">val</span> answerString <span class="token operator">=</span> <span class="token function">generateAnswerString</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token comment">//////////////////////////////////////////////////////////</span></pre></td></tr></table></figure><h4 id=具名实参><a class=anchor href=#具名实参>#</a> 具名实参</h4><p>在调用函数时添加了形参名称，该名称就称为<span class=exturl data-url="aHR0cHM6Ly9rb3RsaW5sYW5nLm9yZy9kb2NzL2Z1bmN0aW9ucy5odG1sI25hbWVkLWFyZ3VtZW50cw==">具名实参</span></p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">fun</span> <span class="token function">birthdayGreeting</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">,</span> age<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">birthdayGreeting</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Rex"</span></span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h4 id=默认实参><a class=anchor href=#默认实参>#</a> 默认实参</h4><p>在形参的数据类型后面添加赋值运算符 (<code>=</code>)，并将其设为等于某个值</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">fun</span> <span class="token function">birthdayGreeting</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Rover"</span></span><span class="token punctuation">,</span> age<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    <span class="token keyword">return</span> <span class="token string-literal singleline"><span class="token string">"Happy Birthday, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string">! You are now </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">age</span></span><span class="token string"> years old!"</span></span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">birthdayGreeting</span><span class="token punctuation">(</span>age <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">birthdayGreeting</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Rex"</span></span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h4 id=简化函数声明><a class=anchor href=#简化函数声明>#</a> 简化函数声明</h4><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 直接返回函数中包含的 if-else 表达式的结果来跳过声明局部变量</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">fun</span> <span class="token function">generateAnswerString</span><span class="token punctuation">(</span>countThreshold<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token keyword">return</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">></span> countThreshold<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>        <span class="token string-literal singleline"><span class="token string">"I have the answer."</span></span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>        <span class="token string-literal singleline"><span class="token string">"The answer eludes me."</span></span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=9></td><td><pre></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment">// 将 return 关键字替换为赋值运算符</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token keyword">fun</span> <span class="token function">generateAnswerString</span><span class="token punctuation">(</span>countThreshold<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">></span> countThreshold<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token string-literal singleline"><span class="token string">"I have the answer"</span></span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token string-literal singleline"><span class="token string">"The answer eludes me"</span></span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id=匿名函数><a class=anchor href=#匿名函数>#</a> 匿名函数</h4><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 匿名函数，包含任意数量的表达式，函数的返回值是最终表达式的结果</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">val</span> stringLengthFunc<span class="token operator">:</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span> <span class="token operator">-></span> Int <span class="token operator">=</span> <span class="token punctuation">&#123;</span> input <span class="token operator">-></span></pre></td></tr><tr><td data-num=3></td><td><pre>    input<span class="token punctuation">.</span>length</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">val</span> stringLength<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token function">stringLengthFunc</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Android"</span></span><span class="token punctuation">)</span></pre></td></tr></table></figure><h4 id=高级函数><a class=anchor href=#高级函数>#</a> 高级函数</h4><p>一个函数可以将另一个函数当作参数。将其他函数用作参数的函数称为“高阶函数”。</p><p>此模式对组件之间的通信（其方式与在 Java 中使用回调接口相同）很有用</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">fun</span> <span class="token function">stringMapper</span><span class="token punctuation">(</span>str<span class="token operator">:</span> String<span class="token punctuation">,</span> mapper<span class="token operator">:</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span> <span class="token operator">-></span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    <span class="token comment">// Invoke function</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token keyword">return</span> <span class="token function">mapper</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token function">stringMapper</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Android"</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> input <span class="token operator">-></span></pre></td></tr><tr><td data-num=6></td><td><pre>    input<span class="token punctuation">.</span>length</pre></td></tr><tr><td data-num=7></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment">// 如果匿名函数是在某个函数上定义的最后一个参数，</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment">// 可以在用于调用该函数的圆括号之外传递它</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token function">stringMapper</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Android"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> input <span class="token operator">-></span></pre></td></tr><tr><td data-num=12></td><td><pre>    input<span class="token punctuation">.</span>length</pre></td></tr><tr><td data-num=13></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=类><a class=anchor href=#类>#</a> 类</h3><p>添加自己的自定义类型。</p><p>类由以下三大部分组成：</p><ul><li><strong>属性</strong>：用于指定类对象属性的变量</li><li><strong>方法</strong>：包含类的行为和操作的函数</li><li><strong>构造函数</strong>：一种特殊的成员函数，用于在定义类的整个程序中创建类的实例</li></ul><h4 id=属性><a class=anchor href=#属性>#</a> 属性</h4><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 类</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">class</span> Car</pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">// 实例</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">var</span> device <span class="token operator">=</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token comment">// 属性，类使用属性来表示状态，属性是类级变量</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">class</span> Car <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token keyword">val</span> wheels <span class="token operator">=</span> listOf<span class="token operator">&lt;</span>Wheel<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token keyword">val</span> name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Android TV"</span></span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment">// 方法</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">class</span> SmartDevice <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=16></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Smart device is turned on."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=17></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=19></td><td><pre></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token comment">// 对对象调用方法</span></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token keyword">class</span> SmartDevice <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=23></td><td><pre>        <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=24></td><td><pre>        <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=25></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=26></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=27></td><td><pre></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token comment">// 外部调用方法</span></pre></td></tr><tr><td data-num=29></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=30></td><td><pre>    <span class="token keyword">val</span> smartTvDevice <span class="token operator">=</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=31></td><td><pre>    smartTvDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=32></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=33></td><td><pre></pre></td></tr><tr><td data-num=34></td><td><pre><span class="token comment">// 自定义轮子，可以定义一个自定义构造函数，用来指定如何初始化类属性</span></pre></td></tr><tr><td data-num=35></td><td><pre><span class="token keyword">class</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token keyword">val</span> wheels<span class="token operator">:</span> List<span class="token operator">&lt;</span>Wheel<span class="token operator">></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token comment">// 类构造函数将 List&lt;Wheel> 当作构造函数参数，并使用该参数来初始化其 wheels 属性</span></pre></td></tr></table></figure><h4 id=属性中的-getter-和-setter-函数><a class=anchor href=#属性中的-getter-和-setter-函数>#</a> 属性中的 getter 和 setter 函数</h4><p>使用 <code>var</code> 关键字来定义 <code>speakerVolume</code> 属性并为其赋予值 <code>2</code>，编译器会自动生成 getter 和 setter 函数。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">var</span> speakerVolume <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> field</pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>    field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment">// 不会看到这几行代码，因为它们是由编译器在后台添加的</span></pre></td></tr></table></figure><p>不可变属性的完整语法有以下两处差异：</p><ul><li>以 <code>val</code> 关键字开头</li><li><code>val</code> 类型的变量为只读变量，因此不含 <code>set()</code> 函数</li></ul><p>若要确保赋给 <code>speakerVolume</code> 属性的值介于 0 到 100 之间，可以实现 setter 函数。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 可以在 set() 函数中使用 in 关键字，并在后面加上值的范围，以检查 Int 值是否处于 0 到 100 的范围内。如果该值在预期范围内，系统便会更新 field 值；否则，该属性的值保持不变</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">var</span> speakerVolume <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>            field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=6></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id=构造函数><a class=anchor href=#构造函数>#</a> 构造函数</h4><p>Kotlin 中的构造函数主要有两类：</p><ul><li><strong>主要构造函数</strong>：一个类只能有一个主要构造函数（在类标头中定义）。主要构造函数可以是默认构造函数，也可以是形参化构造函数。主要构造函数没有主体，表示其中不能包含任何代码。</li><li><strong>辅助构造函数</strong>：一个类可以有多个辅助构造函数。您可以定义包含形参或不含形参的辅助构造函数。辅助构造函数可以初始化类，具有包含初始化逻辑的主体。如果类有主要构造函数，则每个辅助构造函数都需要初始化该主要构造函数。</li></ul><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 可以使用主要构造函数来初始化类标头中的属性。传递给构造函数的实参会赋给属性。定义主要构造函数的语法是以类名称开头，后面依次跟 constructor 关键字和一对圆括号。圆括号中包含主要构造函数的形参。如果有多个形参，用英文逗号分隔形参定义。</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">class</span> name <span class="token keyword">constructor</span><span class="token punctuation">(</span>parameters<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    body</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>辅助构造函数包含在类的主体中，其语法包括以下三个部分：</p><ul><li><strong>辅助构造函数声明</strong>：辅助构造函数定义以 <code>constructor</code> 关键字开头，后跟圆括号。可视情况在圆括号中包含辅助构造函数所需的形参。</li><li><strong>主要构造函数初始化</strong>：初始化以冒号开头，后面依次跟 <code>this</code> 关键字和一对圆括号。可视情况在圆括号中包含主要构造函数所需的形参。</li><li><strong>辅助构造函数主体</strong>：在主要构造函数的初始化后跟一对大括号，其中包含辅助构造函数的主体。</li></ul><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 例如，假设想集成由智能设备提供商开发的 API。不过，该 API 会返回 Int 类型的状态代码来指明初始设备状态。如果设备处于离线状态，该 API 会返回 0 值；如果设备处于在线状态，则返回 1 值。对于任何其他整数值，系统会将状态视为“未知”。可以在 SmartDevice 类中创建辅助构造函数，以将此 statusCode 形参转换为字符串表示形式</span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">var</span> deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"online"</span></span></pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">,</span> category<span class="token operator">:</span> String<span class="token punctuation">,</span> statusCode<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> category<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=7></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token keyword">when</span> <span class="token punctuation">(</span>statusCode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre>            <span class="token number">0</span> <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"offline"</span></span></pre></td></tr><tr><td data-num=9></td><td><pre>            <span class="token number">1</span> <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"online"</span></span></pre></td></tr><tr><td data-num=10></td><td><pre>            <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"unknown"</span></span></pre></td></tr><tr><td data-num=11></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h5 id=定义构造函数><a class=anchor href=#定义构造函数>#</a> 定义构造函数</h5><p>构造函数的主要用途是指定类对象的创建方式。换言之，构造函数用于初始化对象，使其可供使用。您在实例化对象时就已执行此操作。在实例化类的对象时，系统会执行构造函数中的代码。您可以定义包含形参或不含形参的构造函数。</p><p>Kotlin 编译器会自动生成默认构造函数。不会在自己的代码中看到自动生成的默认构造函数，因为编译器会在后台进行添加。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 默认构造函数</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">class</span> SmartDevice <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment">// 如果构造函数中没有任何注解或可见性修饰符，可以移除 constructor 关键字。如果构造函数中没有任何形参，还可以移除圆括号</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">class</span> SmartDevice <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h5 id=定义形参化构造函数><a class=anchor href=#定义形参化构造函数>#</a> 定义形参化构造函数</h5><p>若要保持不变性，同时避免使用硬编码值，使用形参化构造函数进行初始化。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token keyword">var</span> deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"online"</span></span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Smart device is turned on."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=10></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Smart device is turned off."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=13></td><td><pre></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Android TV"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Entertainment"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Android TV"</span></span><span class="token punctuation">,</span> category <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Entertainment"</span></span><span class="token punctuation">)</span></pre></td></tr></table></figure><h4 id=类函数和封装><a class=anchor href=#类函数和封装>#</a> 类函数和封装</h4><p>类使用函数对行为建模。函数可以修改状态，从而只公开希望公开的数据。</p><p>这种访问控制机制属于一个面向对象的更大概念，称为“封装”。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">class</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token keyword">val</span> wheels<span class="token operator">:</span> List<span class="token operator">&lt;</span>Wheel<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>	</pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token comment">// doorLock属性对Car类外部的一切都不公开</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> doorLock<span class="token operator">:</span> DoorLock <span class="token operator">=</span> <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=5></td><td><pre>    </pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">unlockDoor</span><span class="token punctuation">(</span>key<span class="token operator">:</span> Key<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=7></td><td><pre>        <span class="token comment">// Return true if key is valid for door lock, false otherwise</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=10></td><td><pre></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">// 如果希望自定义属性的引用方式，则可以提供自定义的 getter 和 setter。</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token comment">// 例如，如果希望公开属性的 getter 而限制访问其 setter，</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment">// 则可以将该 setter 指定为 private</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">class</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token keyword">val</span> wheels<span class="token operator">:</span> List<span class="token operator">&lt;</span>Wheel<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=15></td><td><pre></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> doorLock<span class="token operator">:</span> DoorLock <span class="token operator">=</span> <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=17></td><td><pre></pre></td></tr><tr><td data-num=18></td><td><pre>    <span class="token keyword">var</span> gallonsOfFuelInTank<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">15</span></pre></td></tr><tr><td data-num=19></td><td><pre>        <span class="token keyword">private</span> <span class="token keyword">set</span></pre></td></tr><tr><td data-num=20></td><td><pre></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">unlockDoor</span><span class="token punctuation">(</span>key<span class="token operator">:</span> Key<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=22></td><td><pre>        <span class="token comment">// Return true if key is valid for door lock, false otherwise</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=24></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id=类之间的关系><a class=anchor href=#类之间的关系>#</a> 类之间的关系</h4><p>继承可让基于其他类的特性和行为构建类。可以借助这种强大机制编写可重复使用的代码，并在类之间建立关系。</p><p><code>open</code> 关键字会告知编译器此类可供扩展，因此其他类现在可对其进行扩展。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment">// 创建会扩展 SmartDevice 父类的 SmartTvDevice 子类</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=9></td><td><pre></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment">// 定义被赋予 1 值的 channelNumber 属性，并包含指定 0..200 范围的 setter 函数</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=13></td><td><pre></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token keyword">var</span> speakerVolume <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=15></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=16></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=17></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=18></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=19></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=20></td><td><pre></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token keyword">var</span> channelNumber <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num=22></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=23></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=24></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=25></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=26></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=28></td><td><pre></pre></td></tr><tr><td data-num=29></td><td><pre><span class="token comment">// 定义会调高音量并输出 "Speaker volume increased to $speakerVolume." 字符串的 increaseSpeakerVolume() 方法</span></pre></td></tr><tr><td data-num=30></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=31></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=32></td><td><pre></pre></td></tr><tr><td data-num=33></td><td><pre>    <span class="token keyword">var</span> speakerVolume <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=34></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=35></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=36></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=37></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=38></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=39></td><td><pre></pre></td></tr><tr><td data-num=40></td><td><pre>     <span class="token keyword">var</span> channelNumber <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num=41></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=42></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=43></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=44></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=45></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=46></td><td><pre></pre></td></tr><tr><td data-num=47></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseSpeakerVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=48></td><td><pre>        speakerVolume<span class="token operator">++</span></pre></td></tr><tr><td data-num=49></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Speaker volume increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">speakerVolume</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=50></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=51></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=52></td><td><pre></pre></td></tr><tr><td data-num=53></td><td><pre><span class="token comment">// 添加会增加频道号并输出 "Channel number increased to $channelNumber." 字符串的 nextChannel() 方法</span></pre></td></tr><tr><td data-num=54></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=55></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=56></td><td><pre></pre></td></tr><tr><td data-num=57></td><td><pre>    <span class="token keyword">var</span> speakerVolume <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=58></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=59></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=60></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=61></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=62></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=63></td><td><pre></pre></td></tr><tr><td data-num=64></td><td><pre>    <span class="token keyword">var</span> channelNumber <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num=65></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=66></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=67></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=68></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=69></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=70></td><td><pre></pre></td></tr><tr><td data-num=71></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseSpeakerVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=72></td><td><pre>        speakerVolume<span class="token operator">++</span></pre></td></tr><tr><td data-num=73></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Speaker volume increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">speakerVolume</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=74></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=75></td><td><pre></pre></td></tr><tr><td data-num=76></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">nextChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=77></td><td><pre>        channelNumber<span class="token operator">++</span></pre></td></tr><tr><td data-num=78></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Channel number increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">channelNumber</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=79></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=80></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=81></td><td><pre></pre></td></tr><tr><td data-num=82></td><td><pre><span class="token comment">// 在 SmartTvDevice 子类后面的代码行上，定义会扩展 SmartDevice 父类的 SmartLightDevice 子类</span></pre></td></tr><tr><td data-num=83></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=84></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=85></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=86></td><td><pre></pre></td></tr><tr><td data-num=87></td><td><pre><span class="token comment">// 在 SmartLightDevice 子类主体中，定义被赋予 0 值的 brightnessLevel 属性，并包含指定 0..100 范围的 setter 函数</span></pre></td></tr><tr><td data-num=88></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=89></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=90></td><td><pre></pre></td></tr><tr><td data-num=91></td><td><pre>    <span class="token keyword">var</span> brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=92></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=93></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=94></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=95></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=96></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=97></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=98></td><td><pre></pre></td></tr><tr><td data-num=99></td><td><pre><span class="token comment">// 定义会调高灯具亮度并输出 "Brightness increased to $brightnessLevel." 字符串的 increaseBrightness() 方法</span></pre></td></tr><tr><td data-num=100></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=101></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=102></td><td><pre></pre></td></tr><tr><td data-num=103></td><td><pre>    <span class="token keyword">var</span> brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=104></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=105></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=106></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=107></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=108></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=109></td><td><pre></pre></td></tr><tr><td data-num=110></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=111></td><td><pre>        brightnessLevel<span class="token operator">++</span></pre></td></tr><tr><td data-num=112></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Brightness increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=113></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=114></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h5 id=is-a-关系><a class=anchor href=#is-a-关系>#</a> IS-A 关系</h5><p>如果使用继承，就需要在两个类之间建立关系（称为“IS-A 关系”）。如果对象是继承自某个类，也会是该类的实例。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 如果在 SmartDevice 父类和 SmartTvDevice 子类之间指定 IS-A 关系，即表示 SmartDevice 父类可以执行的操作，SmartTvDevice 子类也可执行。这种关系是单向的，因此可以说每个智能电视“都是”智能设备，但不能说每个智能设备“都是”智能电视</span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token comment">// Smart TV IS-A smart device.</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">class</span> SmartTvDevice <span class="token operator">:</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h5 id=has-a-关系><a class=anchor href=#has-a-关系>#</a> HAS-A 关系</h5><p>HAS-A 关系是指定两个类之间的关系的另一种方式，两个类之间的 HAS-A 关系也称为“组合”。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 例如，可能要使用住宅中的智能电视。在这种情况下，智能电视和住宅之间存在某种关系。住宅中包含智能设备，即住宅“拥有”智能设备</span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token comment">// 使用 HAS-A 关系定义 SmartHome 类</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">// 在 SmartLightDevice 类和 main() 函数之间，定义 SmartHome 类</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=7></td><td><pre></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=9></td><td><pre></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=11></td><td><pre></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">class</span> SmartHome <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=14></td><td><pre></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=18></td><td><pre></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token comment">// 在 SmartHome 类构造函数中，使用 val 关键字创建 SmartTvDevice 类型的 smartTvDevice 属性</span></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token comment">// The SmartHome class HAS-A smart TV device.</span></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span><span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=22></td><td><pre></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=24></td><td><pre></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token comment">// 在 SmartHome 类的主体中，定义会对 smartTvDevice 属性调用 turnOn() 方法的 turnOnTv() 方法</span></pre></td></tr><tr><td data-num=26></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span><span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=27></td><td><pre></pre></td></tr><tr><td data-num=28></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOnTv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=29></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=30></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=31></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=32></td><td><pre></pre></td></tr><tr><td data-num=33></td><td><pre><span class="token comment">// 在 turnOnTv() 方法之后的代码行上，定义会对 smartTvDevice 属性调用 turnOff() 方法的 turnOffTv() 方法</span></pre></td></tr><tr><td data-num=34></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span><span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=35></td><td><pre></pre></td></tr><tr><td data-num=36></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOnTv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=37></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=38></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=39></td><td><pre></pre></td></tr><tr><td data-num=40></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOffTv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=41></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=42></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=43></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=44></td><td><pre></pre></td></tr><tr><td data-num=45></td><td><pre><span class="token comment">// 在 turnOffTv() 方法后面的代码行上，定义会对 smartTvDevice 属性调用 increaseSpeakerVolume() 方法的 increaseTvVolume() 方法，然后定义会对 smartTvDevice 属性调用 nextChannel() 方法的 changeTvChannelToNext() 方法</span></pre></td></tr><tr><td data-num=46></td><td><pre></pre></td></tr><tr><td data-num=47></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span><span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=48></td><td><pre></pre></td></tr><tr><td data-num=49></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOnTv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=50></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=51></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=52></td><td><pre></pre></td></tr><tr><td data-num=53></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOffTv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=54></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=55></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=56></td><td><pre></pre></td></tr><tr><td data-num=57></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseTvVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=58></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">increaseSpeakerVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=59></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=60></td><td><pre></pre></td></tr><tr><td data-num=61></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">changeTvChannelToNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=62></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">nextChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=63></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=64></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=65></td><td><pre></pre></td></tr><tr><td data-num=66></td><td><pre><span class="token comment">// 在 SmartHome 类构造函数中，将 smartTvDevice 属性形参移至其专属代码行中，后跟英文逗号</span></pre></td></tr><tr><td data-num=67></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=68></td><td><pre>    <span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=69></td><td><pre><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=70></td><td><pre></pre></td></tr><tr><td data-num=71></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=72></td><td><pre></pre></td></tr><tr><td data-num=73></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=74></td><td><pre></pre></td></tr><tr><td data-num=75></td><td><pre><span class="token comment">// 在 smartTvDevice 属性后面的代码行上，使用 val 关键字定义 SmartLightDevice 类型的 smartLightDevice 属性</span></pre></td></tr><tr><td data-num=76></td><td><pre><span class="token comment">// The SmartHome class HAS-A smart TV device and smart light.</span></pre></td></tr><tr><td data-num=77></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=78></td><td><pre>    <span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=79></td><td><pre>    <span class="token keyword">val</span> smartLightDevice<span class="token operator">:</span> SmartLightDevice</pre></td></tr><tr><td data-num=80></td><td><pre><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=81></td><td><pre></pre></td></tr><tr><td data-num=82></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=83></td><td><pre></pre></td></tr><tr><td data-num=84></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=85></td><td><pre></pre></td></tr><tr><td data-num=86></td><td><pre><span class="token comment">// 在 SmartHome 主体中，定义会对 smartLightDevice 对象调用 turnOn() 方法的 turnOnLight() 方法，以及会对 smartLightDevice 对象调用 turnOff() 方法的 turnOffLight() 方法</span></pre></td></tr><tr><td data-num=87></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=88></td><td><pre>    <span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=89></td><td><pre>    <span class="token keyword">val</span> smartLightDevice<span class="token operator">:</span> SmartLightDevice</pre></td></tr><tr><td data-num=90></td><td><pre><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=91></td><td><pre></pre></td></tr><tr><td data-num=92></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=93></td><td><pre></pre></td></tr><tr><td data-num=94></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">changeTvChannelToNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=95></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">nextChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=96></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=97></td><td><pre></pre></td></tr><tr><td data-num=98></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOnLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=99></td><td><pre>        smartLightDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=100></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=101></td><td><pre></pre></td></tr><tr><td data-num=102></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOffLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=103></td><td><pre>        smartLightDevice<span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=104></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=105></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=106></td><td><pre></pre></td></tr><tr><td data-num=107></td><td><pre><span class="token comment">// 在 turnOffLight() 方法后面的代码行上，定义会对 smartLightDevice 属性调用 increaseBrightness() 方法的 increaseLightBrightness() 方法</span></pre></td></tr><tr><td data-num=108></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=109></td><td><pre>    <span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=110></td><td><pre>    <span class="token keyword">val</span> smartLightDevice<span class="token operator">:</span> SmartLightDevice</pre></td></tr><tr><td data-num=111></td><td><pre><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=112></td><td><pre></pre></td></tr><tr><td data-num=113></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=114></td><td><pre></pre></td></tr><tr><td data-num=115></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">changeTvChannelToNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=116></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">nextChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=117></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=118></td><td><pre></pre></td></tr><tr><td data-num=119></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOnLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=120></td><td><pre>        smartLightDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=121></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=122></td><td><pre></pre></td></tr><tr><td data-num=123></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOffLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=124></td><td><pre>        smartLightDevice<span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=125></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=126></td><td><pre></pre></td></tr><tr><td data-num=127></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseLightBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=128></td><td><pre>        smartLightDevice<span class="token punctuation">.</span><span class="token function">increaseBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=129></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=130></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=131></td><td><pre></pre></td></tr><tr><td data-num=132></td><td><pre><span class="token comment">// 在 increaseLightBrightness() 方法后面的代码行上，定义会调用 turnOffTv() 和 turnOffLight() 方法的 turnOffAllDevices() 方法</span></pre></td></tr><tr><td data-num=133></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=134></td><td><pre>    <span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=135></td><td><pre>    <span class="token keyword">val</span> smartLightDevice<span class="token operator">:</span> SmartLightDevice</pre></td></tr><tr><td data-num=136></td><td><pre><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=137></td><td><pre></pre></td></tr><tr><td data-num=138></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=139></td><td><pre></pre></td></tr><tr><td data-num=140></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOffAllDevices</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=141></td><td><pre>        <span class="token function">turnOffTv</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=142></td><td><pre>        <span class="token function">turnOffLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=143></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=144></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h5 id=替换子类中的父类方法><a class=anchor href=#替换子类中的父类方法>#</a> 替换子类中的父类方法</h5><p>虽然所有智能设备都支持开启和关闭功能，但它们的执行方式各有不同。如需提供这种特定于设备的行为，需要替换父类中定义的 <code>turnOn()</code> 和 <code>turnOff()</code> 方法。替换意味着要拦截操作，通常是手动控制。替换方法时，子类中的方法会中断父类中定义的方法的执行，并提供其自有的执行内容。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 替换 SmartDevice 类中的 turnOn() 和 turnOff() 方法</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">// 在 SmartDevice 父类主体中，找到每个方法的 fun 关键字，并在前面添加 open 关键字</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">var</span> deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"online"</span></span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre>        <span class="token comment">// function body</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=10></td><td><pre></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=12></td><td><pre>        <span class="token comment">// function body</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=15></td><td><pre></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token comment">// 在 SmartLightDevice 类的主体中，定义主体为空的 turnOn() 方法</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=18></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=19></td><td><pre></pre></td></tr><tr><td data-num=20></td><td><pre>    <span class="token keyword">var</span> brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=21></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=22></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=23></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=24></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=25></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=26></td><td><pre></pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=28></td><td><pre>        brightnessLevel<span class="token operator">++</span></pre></td></tr><tr><td data-num=29></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Brightness increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=30></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=31></td><td><pre></pre></td></tr><tr><td data-num=32></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=33></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=34></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=35></td><td><pre></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token comment">// 在 turnOn() 方法的主体中，将 deviceStatus 属性设为字符串“on”，将 brightnessLevel 属性设为值“2”并添加 println() 语句，然后向它传递一个 "$name turned on. The brightness level is $brightnessLevel." 字符串</span></pre></td></tr><tr><td data-num=37></td><td><pre><span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=38></td><td><pre>    deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"on"</span></span></pre></td></tr><tr><td data-num=39></td><td><pre>    brightnessLevel <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=40></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> turned on. The brightness level is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=41></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=42></td><td><pre></pre></td></tr><tr><td data-num=43></td><td><pre><span class="token comment">// 在 SmartLightDevice 类的主体中，定义主体为空的 turnOff() 方法</span></pre></td></tr><tr><td data-num=44></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=45></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=46></td><td><pre></pre></td></tr><tr><td data-num=47></td><td><pre>    <span class="token keyword">var</span> brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=48></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=49></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=50></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=51></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=52></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=53></td><td><pre></pre></td></tr><tr><td data-num=54></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=55></td><td><pre>        brightnessLevel<span class="token operator">++</span></pre></td></tr><tr><td data-num=56></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Brightness increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=57></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=58></td><td><pre></pre></td></tr><tr><td data-num=59></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=60></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"on"</span></span></pre></td></tr><tr><td data-num=61></td><td><pre>        brightnessLevel <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=62></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> turned on. The brightness level is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=63></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=64></td><td><pre></pre></td></tr><tr><td data-num=65></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=66></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=67></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=68></td><td><pre></pre></td></tr><tr><td data-num=69></td><td><pre><span class="token comment">// 在 turnOff() 方法的主体中，将 deviceStatus 属性设为字符串“off”，将 brightnessLevel 属性设为值“0”并添加 println() 语句，然后向它传递一个 "Smart Light turned off" 字符串</span></pre></td></tr><tr><td data-num=70></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=71></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=72></td><td><pre></pre></td></tr><tr><td data-num=73></td><td><pre>    <span class="token keyword">var</span> brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=74></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=75></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=76></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=77></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=78></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=79></td><td><pre></pre></td></tr><tr><td data-num=80></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=81></td><td><pre>        brightnessLevel<span class="token operator">++</span></pre></td></tr><tr><td data-num=82></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Brightness increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=83></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=84></td><td><pre></pre></td></tr><tr><td data-num=85></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=86></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"on"</span></span></pre></td></tr><tr><td data-num=87></td><td><pre>        brightnessLevel <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=88></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> turned on. The brightness level is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=89></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=90></td><td><pre></pre></td></tr><tr><td data-num=91></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=92></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"off"</span></span></pre></td></tr><tr><td data-num=93></td><td><pre>        brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=94></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Smart Light turned off"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=95></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=96></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=97></td><td><pre></pre></td></tr><tr><td data-num=98></td><td><pre><span class="token comment">// 在 SmartLightDevice 子类中，找到 turnOn() 和 turnOff() 方法的 fun 关键字，并在前面添加 override 关键字</span></pre></td></tr><tr><td data-num=99></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=100></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=101></td><td><pre></pre></td></tr><tr><td data-num=102></td><td><pre>    <span class="token keyword">var</span> brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=103></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=104></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=105></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=106></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=107></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=108></td><td><pre></pre></td></tr><tr><td data-num=109></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=110></td><td><pre>        brightnessLevel<span class="token operator">++</span></pre></td></tr><tr><td data-num=111></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Brightness increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=112></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=113></td><td><pre></pre></td></tr><tr><td data-num=114></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=115></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"on"</span></span></pre></td></tr><tr><td data-num=116></td><td><pre>        brightnessLevel <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=117></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> turned on. The brightness level is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=118></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=119></td><td><pre></pre></td></tr><tr><td data-num=120></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=121></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"off"</span></span></pre></td></tr><tr><td data-num=122></td><td><pre>        brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=123></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Smart Light turned off"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=124></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=125></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=126></td><td><pre></pre></td></tr><tr><td data-num=127></td><td><pre></pre></td></tr><tr><td data-num=128></td><td><pre><span class="token comment">// override 关键字会告知 Kotlin 运行时去执行子类所定义方法中包含的代码</span></pre></td></tr><tr><td data-num=129></td><td><pre><span class="token comment">// 在 SmartTvDevice 类的主体中，定义主体为空的 turnOn() 方法</span></pre></td></tr><tr><td data-num=130></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=131></td><td><pre></pre></td></tr><tr><td data-num=132></td><td><pre>    <span class="token keyword">var</span> speakerVolume <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=133></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=134></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=135></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=136></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=137></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=138></td><td><pre></pre></td></tr><tr><td data-num=139></td><td><pre>    <span class="token keyword">var</span> channelNumber <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num=140></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=141></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=142></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=143></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=144></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=145></td><td><pre></pre></td></tr><tr><td data-num=146></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseSpeakerVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=147></td><td><pre>        speakerVolume<span class="token operator">++</span></pre></td></tr><tr><td data-num=148></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Speaker volume increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">speakerVolume</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=149></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=150></td><td><pre></pre></td></tr><tr><td data-num=151></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">nextChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=152></td><td><pre>        channelNumber<span class="token operator">++</span></pre></td></tr><tr><td data-num=153></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Channel number increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">channelNumber</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=154></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=155></td><td><pre></pre></td></tr><tr><td data-num=156></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=157></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=158></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=159></td><td><pre></pre></td></tr><tr><td data-num=160></td><td><pre><span class="token comment">// 在 turnOn() 方法的主体中，将 deviceStatus 属性设为字符串“on”并添加 println() 语句，然后向它传递一个 "$name is turned on. Speaker volume is set to $speakerVolume and channel number is " + "set to $channelNumber." 字符串</span></pre></td></tr><tr><td data-num=161></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=162></td><td><pre></pre></td></tr><tr><td data-num=163></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=164></td><td><pre></pre></td></tr><tr><td data-num=165></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=166></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"on"</span></span></pre></td></tr><tr><td data-num=167></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=168></td><td><pre>            <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> is turned on. Speaker volume is set to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">speakerVolume</span></span><span class="token string"> and channel number is "</span></span> <span class="token operator">+</span></pre></td></tr><tr><td data-num=169></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"set to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">channelNumber</span></span><span class="token string">."</span></span></pre></td></tr><tr><td data-num=170></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=171></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=172></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=173></td><td><pre></pre></td></tr><tr><td data-num=174></td><td><pre><span class="token comment">// 在 SmartTvDevice 类的正文中的 turnOn() 方法后面，定义正文为空的 turnOff() 方法</span></pre></td></tr><tr><td data-num=175></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=176></td><td><pre></pre></td></tr><tr><td data-num=177></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=178></td><td><pre></pre></td></tr><tr><td data-num=179></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=180></td><td><pre>        <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=181></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=182></td><td><pre></pre></td></tr><tr><td data-num=183></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=184></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=185></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=186></td><td><pre></pre></td></tr><tr><td data-num=187></td><td><pre><span class="token comment">// 在 turnOff() 方法的主体中，将 deviceStatus 属性设为字符串“off”并添加 println() 语句，然后向它传递一个 "$name turned off" 字符串</span></pre></td></tr><tr><td data-num=188></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=189></td><td><pre></pre></td></tr><tr><td data-num=190></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=191></td><td><pre></pre></td></tr><tr><td data-num=192></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=193></td><td><pre>        <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=194></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=195></td><td><pre></pre></td></tr><tr><td data-num=196></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=197></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"off"</span></span></pre></td></tr><tr><td data-num=198></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> turned off"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=199></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=200></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=201></td><td><pre></pre></td></tr><tr><td data-num=202></td><td><pre><span class="token comment">// 在 SmartTvDevice 类中，找到 turnOn() 和 turnOff() 方法的 fun 关键字，并在前面添加 override 关键字</span></pre></td></tr><tr><td data-num=203></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=204></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=205></td><td><pre></pre></td></tr><tr><td data-num=206></td><td><pre>    <span class="token keyword">var</span> speakerVolume <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=207></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=208></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=209></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=210></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=211></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=212></td><td><pre></pre></td></tr><tr><td data-num=213></td><td><pre>    <span class="token keyword">var</span> channelNumber <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num=214></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=215></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=216></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=217></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=218></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=219></td><td><pre></pre></td></tr><tr><td data-num=220></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseSpeakerVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=221></td><td><pre>        speakerVolume<span class="token operator">++</span></pre></td></tr><tr><td data-num=222></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Speaker volume increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">speakerVolume</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=223></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=224></td><td><pre></pre></td></tr><tr><td data-num=225></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">nextChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=226></td><td><pre>        channelNumber<span class="token operator">++</span></pre></td></tr><tr><td data-num=227></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Channel number increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">channelNumber</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=228></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=229></td><td><pre></pre></td></tr><tr><td data-num=230></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=231></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"on"</span></span></pre></td></tr><tr><td data-num=232></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=233></td><td><pre>            <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> is turned on. Speaker volume is set to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">speakerVolume</span></span><span class="token string"> and channel number is "</span></span> <span class="token operator">+</span></pre></td></tr><tr><td data-num=234></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"set to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">channelNumber</span></span><span class="token string">."</span></span></pre></td></tr><tr><td data-num=235></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=236></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=237></td><td><pre></pre></td></tr><tr><td data-num=238></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=239></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"off"</span></span></pre></td></tr><tr><td data-num=240></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> turned off"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=241></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=242></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=243></td><td><pre></pre></td></tr><tr><td data-num=244></td><td><pre><span class="token comment">// 在 main() 函数中，使用 var 关键字定义 SmartDevice 类型的 smartDevice 变量，该变量会实例化接受 "Android TV" 实参和 "Entertainment" 实参的 SmartTvDevice 对象</span></pre></td></tr><tr><td data-num=245></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=246></td><td><pre>    <span class="token keyword">var</span> smartDevice<span class="token operator">:</span> SmartDevice <span class="token operator">=</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Android TV"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Entertainment"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=247></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=248></td><td><pre></pre></td></tr><tr><td data-num=249></td><td><pre><span class="token comment">// 在 smartDevice 变量后面的代码行上，对 smartDevice 对象调用 turnOn() 方法</span></pre></td></tr><tr><td data-num=250></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=251></td><td><pre>    <span class="token keyword">var</span> smartDevice<span class="token operator">:</span> SmartDevice <span class="token operator">=</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Android TV"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Entertainment"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=252></td><td><pre>    smartDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=253></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=254></td><td><pre></pre></td></tr><tr><td data-num=255></td><td><pre><span class="token comment">// 在调用 turnOn() 方法后面的代码行上，重新赋予 smartDevice 变量以实例化一个接受 "Google Light" 实参和 "Utility" 实参的 SmartLightDevice 类，然后对 smartDevice 对象引用调用 turnOn() 方法</span></pre></td></tr><tr><td data-num=256></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=257></td><td><pre>    <span class="token keyword">var</span> smartDevice<span class="token operator">:</span> SmartDevice <span class="token operator">=</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Android TV"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Entertainment"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=258></td><td><pre>    smartDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=259></td><td><pre></pre></td></tr><tr><td data-num=260></td><td><pre>    smartDevice <span class="token operator">=</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Google Light"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Utility"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=261></td><td><pre>    smartDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=262></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=263></td><td><pre></pre></td></tr><tr><td data-num=264></td><td><pre><span class="token comment">// 使用 super 关键字在子类中重复使用父类代码</span></pre></td></tr><tr><td data-num=265></td><td><pre><span class="token comment">// 重复使用 SmartDevice 父类中的代码</span></pre></td></tr><tr><td data-num=266></td><td><pre><span class="token comment">// 从 turnOn() 和 turnOff() 方法中移除 println() 语句，并将重复的代码从 SmartTvDevice 和 SmartLightDevice 子类移至 SmartDevice 父类</span></pre></td></tr><tr><td data-num=267></td><td><pre><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=268></td><td><pre></pre></td></tr><tr><td data-num=269></td><td><pre>    <span class="token keyword">var</span> deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"online"</span></span></pre></td></tr><tr><td data-num=270></td><td><pre></pre></td></tr><tr><td data-num=271></td><td><pre>    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=272></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"on"</span></span></pre></td></tr><tr><td data-num=273></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=274></td><td><pre></pre></td></tr><tr><td data-num=275></td><td><pre>    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=276></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"off"</span></span></pre></td></tr><tr><td data-num=277></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=278></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=279></td><td><pre></pre></td></tr><tr><td data-num=280></td><td><pre><span class="token comment">// 在 SmartTvDevice 和 SmartLightDevice 子类中，使用 super 关键字从 SmartDevice 类中调用方法</span></pre></td></tr><tr><td data-num=281></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=282></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=283></td><td><pre></pre></td></tr><tr><td data-num=284></td><td><pre>    <span class="token keyword">var</span> speakerVolume <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=285></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=286></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=287></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=288></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=289></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=290></td><td><pre></pre></td></tr><tr><td data-num=291></td><td><pre>     <span class="token keyword">var</span> channelNumber <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num=292></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=293></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=294></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=295></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=296></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=297></td><td><pre></pre></td></tr><tr><td data-num=298></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseSpeakerVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=299></td><td><pre>        speakerVolume<span class="token operator">++</span></pre></td></tr><tr><td data-num=300></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Speaker volume increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">speakerVolume</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=301></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=302></td><td><pre></pre></td></tr><tr><td data-num=303></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">nextChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=304></td><td><pre>        channelNumber<span class="token operator">++</span></pre></td></tr><tr><td data-num=305></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Channel number increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">channelNumber</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=306></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=307></td><td><pre></pre></td></tr><tr><td data-num=308></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=309></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=310></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=311></td><td><pre>            <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> is turned on. Speaker volume is set to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">speakerVolume</span></span><span class="token string"> and channel number is "</span></span> <span class="token operator">+</span></pre></td></tr><tr><td data-num=312></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"set to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">channelNumber</span></span><span class="token string">."</span></span></pre></td></tr><tr><td data-num=313></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=314></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=315></td><td><pre></pre></td></tr><tr><td data-num=316></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=317></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=318></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> turned off"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=319></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=320></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=321></td><td><pre></pre></td></tr><tr><td data-num=322></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=323></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=324></td><td><pre></pre></td></tr><tr><td data-num=325></td><td><pre>    <span class="token keyword">var</span> brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=326></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=327></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=328></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=329></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=330></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=331></td><td><pre></pre></td></tr><tr><td data-num=332></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=333></td><td><pre>        brightnessLevel<span class="token operator">++</span></pre></td></tr><tr><td data-num=334></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Brightness increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=335></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=336></td><td><pre></pre></td></tr><tr><td data-num=337></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=338></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=339></td><td><pre>        brightnessLevel <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=340></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> turned on. The brightness level is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=341></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=342></td><td><pre></pre></td></tr><tr><td data-num=343></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=344></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=345></td><td><pre>        brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=346></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Smart Light turned off"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=347></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=348></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h5 id=替换子类中的父类属性><a class=anchor href=#替换子类中的父类属性>#</a> 替换子类中的父类属性</h5><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 替换 deviceType 属性</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">// 在 SmartDevice 父类中 deviceStatus 属性后面的代码行上，使用 open 和 val 关键字定义 deviceType 属性，并将其设置为 "unknown" 字符串</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">var</span> deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"online"</span></span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">open</span> <span class="token keyword">val</span> deviceType <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"unknown"</span></span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=10></td><td><pre></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">// 在 SmartTvDevice 类中，使用 override 和 val 关键字定义 deviceType 属性，并将其设置为 "Smart TV" 字符串</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=14></td><td><pre></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">val</span> deviceType <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Smart TV"</span></span></pre></td></tr><tr><td data-num=16></td><td><pre></pre></td></tr><tr><td data-num=17></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=19></td><td><pre></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token comment">// 在 SmartLightDevice 类中，使用 override 和 val 关键字定义 deviceType 属性，并将其设置为"Smart Light"字符串</span></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=23></td><td><pre></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">val</span> deviceType <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Smart Light"</span></span></pre></td></tr><tr><td data-num=25></td><td><pre></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=27></td><td><pre></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id=可见性修饰符><a class=anchor href=#可见性修饰符>#</a> 可见性修饰符</h4><p>可见性修饰符在实现封装方面发挥着以下重要作用：</p><ul><li>可让您在类中隐藏自己的属性和方法，防止在类外未经授权的访问。</li><li>可让您在软件包中隐藏类和接口，防止在软件包外未经授权的访问。</li></ul><p>Kotlin 提供了以下四种可见性修饰符：</p><ul><li><code>public</code>：默认的可见性修饰符。可让系统在任何位置访问声明。对于您想在类外部使用的属性和方法，请标记为 public。</li><li><code>private</code>：可让系统在相同类或源文件中访问声明。</li></ul><p>某些属性和方法可能仅在类的内部使用，而且您不一定想让其他类使用。您可以使用 <code>private</code> 可见性修饰符标记这些属性和方法，以确保其他类不会意外访问它们。</p><ul><li><code>protected</code>：可让系统在子类中访问声明。对于您想在定义它们的类及其子类中使用的属性和方法，请使用 <code>protected</code> 可见性修饰符进行标记。</li><li><code>internal</code>：可让系统在相同模块中访问声明。internal 修饰符与 private 类似，但您可以从类的外部访问内部属性和方法，只要是在相同模块中进行访问即可。</li></ul><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 属性设为私有</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">var</span> deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"online"</span></span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=7></td><td><pre></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token comment">// 对 deviceStatus 属性的 set() 函数使用 protected 修饰符</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment">// 在 SmartDevice 父类的 deviceStatus 属性中，将 protected 修饰符添加到 set() 函数中</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=11></td><td><pre></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=13></td><td><pre></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token keyword">var</span> deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"online"</span></span></pre></td></tr><tr><td data-num=15></td><td><pre>        <span class="token keyword">protected</span> <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=16></td><td><pre>           field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=17></td><td><pre>       <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=18></td><td><pre></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=21></td><td><pre></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token comment">// 不会在 set() 函数中执行任何操作或检查，只需将 value 形参赋给 field 变量即可可以省略 set() 函数的圆括号和主体</span></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=25></td><td><pre>    <span class="token keyword">var</span> deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"online"</span></span></pre></td></tr><tr><td data-num=26></td><td><pre>        <span class="token keyword">protected</span> <span class="token keyword">set</span></pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=29></td><td><pre></pre></td></tr><tr><td data-num=30></td><td><pre><span class="token comment">// 在 SmartHome 类中定义 deviceTurnOnCount 属性，将其值设为 0，并包含私有 setter 函数</span></pre></td></tr><tr><td data-num=31></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=32></td><td><pre>    <span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=33></td><td><pre>    <span class="token keyword">val</span> smartLightDevice<span class="token operator">:</span> SmartLightDevice</pre></td></tr><tr><td data-num=34></td><td><pre><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=35></td><td><pre></pre></td></tr><tr><td data-num=36></td><td><pre>    <span class="token keyword">var</span> deviceTurnOnCount <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=37></td><td><pre>        <span class="token keyword">private</span> <span class="token keyword">set</span></pre></td></tr><tr><td data-num=38></td><td><pre></pre></td></tr><tr><td data-num=39></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=40></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=41></td><td><pre></pre></td></tr><tr><td data-num=42></td><td><pre><span class="token comment">// 在 turnOnTv() 和 turnOnLight() 方法中添加后跟 ++ 算术运算符的 deviceTurnOnCount 属性，然后在 turnOffTv() 和 turnOffLight() 方法中添加后跟 -- 算术运算符的 deviceTurnOnCount 属性</span></pre></td></tr><tr><td data-num=43></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=44></td><td><pre>    <span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=45></td><td><pre>    <span class="token keyword">val</span> smartLightDevice<span class="token operator">:</span> SmartLightDevice</pre></td></tr><tr><td data-num=46></td><td><pre><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=47></td><td><pre></pre></td></tr><tr><td data-num=48></td><td><pre>    <span class="token keyword">var</span> deviceTurnOnCount <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=49></td><td><pre>        <span class="token keyword">private</span> <span class="token keyword">set</span></pre></td></tr><tr><td data-num=50></td><td><pre></pre></td></tr><tr><td data-num=51></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOnTv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=52></td><td><pre>        deviceTurnOnCount<span class="token operator">++</span></pre></td></tr><tr><td data-num=53></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=54></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=55></td><td><pre></pre></td></tr><tr><td data-num=56></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOffTv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=57></td><td><pre>        deviceTurnOnCount<span class="token operator">--</span></pre></td></tr><tr><td data-num=58></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=59></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=60></td><td><pre></pre></td></tr><tr><td data-num=61></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=62></td><td><pre></pre></td></tr><tr><td data-num=63></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOnLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=64></td><td><pre>        deviceTurnOnCount<span class="token operator">++</span></pre></td></tr><tr><td data-num=65></td><td><pre>        smartLightDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=66></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=67></td><td><pre></pre></td></tr><tr><td data-num=68></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOffLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=69></td><td><pre>        deviceTurnOnCount<span class="token operator">--</span></pre></td></tr><tr><td data-num=70></td><td><pre>        smartLightDevice<span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=71></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=72></td><td><pre></pre></td></tr><tr><td data-num=73></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=74></td><td><pre></pre></td></tr><tr><td data-num=75></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=76></td><td><pre></pre></td></tr><tr><td data-num=77></td><td><pre><span class="token comment">// 为方法指定可见性修饰符</span></pre></td></tr><tr><td data-num=78></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=79></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=80></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=81></td><td><pre>    <span class="token keyword">protected</span> <span class="token keyword">fun</span> <span class="token function">nextChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=82></td><td><pre>        channelNumber<span class="token operator">++</span></pre></td></tr><tr><td data-num=83></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Channel number increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">channelNumber</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=84></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=85></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=86></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=87></td><td><pre></pre></td></tr><tr><td data-num=88></td><td><pre><span class="token comment">// 为构造函数指定可见性修饰符</span></pre></td></tr><tr><td data-num=89></td><td><pre><span class="token keyword">open</span> <span class="token keyword">class</span> SmartDevice <span class="token keyword">protected</span> <span class="token keyword">constructor</span> <span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=90></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=91></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=92></td><td><pre></pre></td></tr><tr><td data-num=93></td><td><pre><span class="token comment">// 为类指定可见性修饰符</span></pre></td></tr><tr><td data-num=94></td><td><pre><span class="token keyword">internal</span> <span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=95></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=96></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><table><thead><tr><th>修饰符</th><th>可在相同类中访问</th><th>可在子类中访问</th><th>可在相同模块中访问</th><th>可在模块之外访问</th></tr></thead><tbody><tr><td>private</td><td>✔</td><td>𝗫</td><td>𝗫</td><td>𝗫</td></tr><tr><td>protected</td><td>✔</td><td>✔</td><td>𝗫</td><td>𝗫</td></tr><tr><td>internal</td><td>✔</td><td>✔</td><td>✔</td><td>𝗫</td></tr><tr><td>public</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr></tbody></table><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 在 SmartTvDevice 和 SmartLightDevice 子类中添加适当的可见性修饰符</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">// 在 SmartTvDevice 类中，向 speakerVolume 和 channelNumber 属性添加 private 可见性修饰符</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">var</span> speakerVolume <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=7></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=9></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=10></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=11></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">var</span> channelNumber <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num=14></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=15></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=16></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=17></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=18></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=21></td><td><pre></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token comment">// 在 SmartLightDevice 类中，向 brightnessLevel 属性添加 private 修饰符</span></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=25></td><td><pre></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=27></td><td><pre></pre></td></tr><tr><td data-num=28></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">var</span> brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=29></td><td><pre>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=30></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=31></td><td><pre>                field <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=32></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=33></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=34></td><td><pre></pre></td></tr><tr><td data-num=35></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id=定义属性委托define-property-delegates><a class=anchor href=#定义属性委托define-property-delegates>#</a> 定义属性委托(Define property delegates)</h4><p>可以在带有委托的 setter 函数中重用范围检查代码。委托管理该值，而不是使用字段以及 getter 和 setter 函数来管理该值。</p><p>创建属性委托的语法以变量声明开始，后跟 <code>by</code> 关键字，以及处理属性的 getter 和 setter 函数的委托对象。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">var</span> name <span class="token keyword">by</span> delegate <span class="token keyword">object</span></pre></td></tr></table></figure><p>接口是实现它的类需要遵守的契约。它关注的是要做什么而不是如何做。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 要创建 var 类型的委托类，您需要实现 ReadWriteProperty 接口</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">// 为 var 类型创建委托, 在 main() 函数之前，创建一个实现 ReadWriteProperty&lt;Any?, Int> 接口的 RangeRegulator 类</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token comment">// 尖括号或其中的内容代表通用类型</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">class</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> ReadWriteProperty<span class="token operator">&lt;</span>Any<span class="token operator">?</span><span class="token punctuation">,</span> Int<span class="token operator">></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=7></td><td><pre></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=11></td><td><pre></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token comment">// 在 RangeRegulator 类的主构造函数中，添加一个 initialValue 参数、一个私有 minValue 属性和一个私有 maxValue 属性，所有 &lt; b4> 类型</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token keyword">class</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=14></td><td><pre>    initialValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> minValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> maxValue<span class="token operator">:</span> Int</pre></td></tr><tr><td data-num=17></td><td><pre><span class="token punctuation">)</span> <span class="token operator">:</span> ReadWriteProperty<span class="token operator">&lt;</span>Any<span class="token operator">?</span><span class="token punctuation">,</span> Int<span class="token operator">></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=18></td><td><pre></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=20></td><td><pre></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token comment">// 在 RangeRegulator 类的主体中，重写 getValue() 和 setValue() 方法</span></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token keyword">class</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=23></td><td><pre>    initialValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> minValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=25></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> maxValue<span class="token operator">:</span> Int</pre></td></tr><tr><td data-num=26></td><td><pre><span class="token punctuation">)</span> <span class="token operator">:</span> ReadWriteProperty<span class="token operator">&lt;</span>Any<span class="token operator">?</span><span class="token punctuation">,</span> Int<span class="token operator">></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=27></td><td><pre></pre></td></tr><tr><td data-num=28></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=29></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=30></td><td><pre></pre></td></tr><tr><td data-num=31></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">setValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">,</span> value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=32></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=33></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=34></td><td><pre></pre></td></tr><tr><td data-num=35></td><td><pre><span class="token comment">// 在 SmartDevice 类之前的行中，导入 ReadWriteProperty 和 KProperty 接口</span></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token keyword">import</span> kotlin<span class="token punctuation">.</span>properties<span class="token punctuation">.</span>ReadWriteProperty</pre></td></tr><tr><td data-num=37></td><td><pre><span class="token keyword">import</span> kotlin<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span>KProperty</pre></td></tr><tr><td data-num=38></td><td><pre></pre></td></tr><tr><td data-num=39></td><td><pre><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=40></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=41></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=42></td><td><pre></pre></td></tr><tr><td data-num=43></td><td><pre><span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=44></td><td><pre></pre></td></tr><tr><td data-num=45></td><td><pre><span class="token keyword">class</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=46></td><td><pre>    initialValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=47></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> minValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=48></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> maxValue<span class="token operator">:</span> Int</pre></td></tr><tr><td data-num=49></td><td><pre><span class="token punctuation">)</span> <span class="token operator">:</span> ReadWriteProperty<span class="token operator">&lt;</span>Any<span class="token operator">?</span><span class="token punctuation">,</span> Int<span class="token operator">></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=50></td><td><pre></pre></td></tr><tr><td data-num=51></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=52></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=53></td><td><pre></pre></td></tr><tr><td data-num=54></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">setValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">,</span> value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=55></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=56></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=57></td><td><pre></pre></td></tr><tr><td data-num=58></td><td><pre><span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=59></td><td><pre></pre></td></tr><tr><td data-num=60></td><td><pre><span class="token comment">// 在 RangeRegulator 类中，在 getValue() 方法之前的行中，定义 fieldData 属性并使用 initialValue 参数对其进行初始化</span></pre></td></tr><tr><td data-num=61></td><td><pre><span class="token keyword">class</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=62></td><td><pre>    initialValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=63></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> minValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=64></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> maxValue<span class="token operator">:</span> Int</pre></td></tr><tr><td data-num=65></td><td><pre><span class="token punctuation">)</span> <span class="token operator">:</span> ReadWriteProperty<span class="token operator">&lt;</span>Any<span class="token operator">?</span><span class="token punctuation">,</span> Int<span class="token operator">></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=66></td><td><pre></pre></td></tr><tr><td data-num=67></td><td><pre>    <span class="token keyword">var</span> fieldData <span class="token operator">=</span> initialValue</pre></td></tr><tr><td data-num=68></td><td><pre></pre></td></tr><tr><td data-num=69></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=70></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=71></td><td><pre></pre></td></tr><tr><td data-num=72></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">setValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">,</span> value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=73></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=74></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=75></td><td><pre></pre></td></tr><tr><td data-num=76></td><td><pre><span class="token comment">// 在 getValue() 方法的主体中，返回 fieldData 属性</span></pre></td></tr><tr><td data-num=77></td><td><pre><span class="token keyword">class</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=78></td><td><pre>    initialValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=79></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> minValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=80></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> maxValue<span class="token operator">:</span> Int</pre></td></tr><tr><td data-num=81></td><td><pre><span class="token punctuation">)</span> <span class="token operator">:</span> ReadWriteProperty<span class="token operator">&lt;</span>Any<span class="token operator">?</span><span class="token punctuation">,</span> Int<span class="token operator">></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=82></td><td><pre></pre></td></tr><tr><td data-num=83></td><td><pre>    <span class="token keyword">var</span> fieldData <span class="token operator">=</span> initialValue</pre></td></tr><tr><td data-num=84></td><td><pre></pre></td></tr><tr><td data-num=85></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=86></td><td><pre>        <span class="token keyword">return</span> fieldData</pre></td></tr><tr><td data-num=87></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=88></td><td><pre></pre></td></tr><tr><td data-num=89></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">setValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">,</span> value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=90></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=91></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=92></td><td><pre></pre></td></tr><tr><td data-num=93></td><td><pre><span class="token comment">// 在 setValue() 方法的主体中，在将其分配给 fieldData 属性之前，检查所分配的 value 参数是否在 minValue..maxValue 范围内</span></pre></td></tr><tr><td data-num=94></td><td><pre><span class="token keyword">class</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=95></td><td><pre>    initialValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=96></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> minValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=97></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> maxValue<span class="token operator">:</span> Int</pre></td></tr><tr><td data-num=98></td><td><pre><span class="token punctuation">)</span> <span class="token operator">:</span> ReadWriteProperty<span class="token operator">&lt;</span>Any<span class="token operator">?</span><span class="token punctuation">,</span> Int<span class="token operator">></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=99></td><td><pre></pre></td></tr><tr><td data-num=100></td><td><pre>    <span class="token keyword">var</span> fieldData <span class="token operator">=</span> initialValue</pre></td></tr><tr><td data-num=101></td><td><pre></pre></td></tr><tr><td data-num=102></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=103></td><td><pre>        <span class="token keyword">return</span> fieldData</pre></td></tr><tr><td data-num=104></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=105></td><td><pre></pre></td></tr><tr><td data-num=106></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">setValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">,</span> value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=107></td><td><pre>        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> minValue<span class="token operator">..</span>maxValue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=108></td><td><pre>            fieldData <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=109></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=110></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=111></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=112></td><td><pre></pre></td></tr><tr><td data-num=113></td><td><pre><span class="token comment">// 在 SmartTvDevice 类中，使用委托类定义 speakerVolume 和 channelNumber 属性</span></pre></td></tr><tr><td data-num=114></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=115></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=116></td><td><pre></pre></td></tr><tr><td data-num=117></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">val</span> deviceType <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Smart TV"</span></span></pre></td></tr><tr><td data-num=118></td><td><pre></pre></td></tr><tr><td data-num=119></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">var</span> speakerVolume <span class="token keyword">by</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span>initialValue <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> minValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxValue <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=120></td><td><pre></pre></td></tr><tr><td data-num=121></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">var</span> channelNumber <span class="token keyword">by</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span>initialValue <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> minValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxValue <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=122></td><td><pre></pre></td></tr><tr><td data-num=123></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=124></td><td><pre></pre></td></tr><tr><td data-num=125></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=126></td><td><pre></pre></td></tr><tr><td data-num=127></td><td><pre><span class="token comment">// 在 SmartLightDevice 类中，使用委托类定义 brightnessLevel 属性</span></pre></td></tr><tr><td data-num=128></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=129></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=130></td><td><pre></pre></td></tr><tr><td data-num=131></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">val</span> deviceType <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Smart Light"</span></span></pre></td></tr><tr><td data-num=132></td><td><pre></pre></td></tr><tr><td data-num=133></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">var</span> brightnessLevel <span class="token keyword">by</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span>initialValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> minValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxValue <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=134></td><td><pre>    <span class="token operator">..</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num=135></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight kotlin"><figcaption data-lang=kotlin><span>完整代码</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">import</span> kotlin<span class="token punctuation">.</span>properties<span class="token punctuation">.</span>ReadWriteProperty</pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">import</span> kotlin<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span>KProperty</pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">SmartDevice</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> category<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">var</span> deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"online"</span></span></pre></td></tr><tr><td data-num=7></td><td><pre>        <span class="token keyword">protected</span> <span class="token keyword">set</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token keyword">open</span> <span class="token keyword">val</span> deviceType <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"unknown"</span></span></pre></td></tr><tr><td data-num=10></td><td><pre></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=12></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"on"</span></span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=14></td><td><pre></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=16></td><td><pre>        deviceStatus <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"off"</span></span></pre></td></tr><tr><td data-num=17></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=19></td><td><pre></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=22></td><td><pre></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">val</span> deviceType <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Smart TV"</span></span></pre></td></tr><tr><td data-num=24></td><td><pre></pre></td></tr><tr><td data-num=25></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">var</span> speakerVolume <span class="token keyword">by</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span>initialValue <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> minValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxValue <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=26></td><td><pre></pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">var</span> channelNumber <span class="token keyword">by</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span>initialValue <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> minValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxValue <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=28></td><td><pre></pre></td></tr><tr><td data-num=29></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseSpeakerVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=30></td><td><pre>        speakerVolume<span class="token operator">++</span></pre></td></tr><tr><td data-num=31></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Speaker volume increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">speakerVolume</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=32></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=33></td><td><pre></pre></td></tr><tr><td data-num=34></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">nextChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=35></td><td><pre>        channelNumber<span class="token operator">++</span></pre></td></tr><tr><td data-num=36></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Channel number increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">channelNumber</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=37></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=38></td><td><pre></pre></td></tr><tr><td data-num=39></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=40></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=41></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=42></td><td><pre>            <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> is turned on. Speaker volume is set to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">speakerVolume</span></span><span class="token string"> and channel number is "</span></span> <span class="token operator">+</span></pre></td></tr><tr><td data-num=43></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"set to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">channelNumber</span></span><span class="token string">."</span></span></pre></td></tr><tr><td data-num=44></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=45></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=46></td><td><pre></pre></td></tr><tr><td data-num=47></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=48></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=49></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> turned off"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=50></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=51></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=52></td><td><pre></pre></td></tr><tr><td data-num=53></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span>deviceName<span class="token operator">:</span> String<span class="token punctuation">,</span> deviceCategory<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span></pre></td></tr><tr><td data-num=54></td><td><pre>    <span class="token function">SmartDevice</span><span class="token punctuation">(</span>name <span class="token operator">=</span> deviceName<span class="token punctuation">,</span> category <span class="token operator">=</span> deviceCategory<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=55></td><td><pre></pre></td></tr><tr><td data-num=56></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">val</span> deviceType <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Smart Light"</span></span></pre></td></tr><tr><td data-num=57></td><td><pre></pre></td></tr><tr><td data-num=58></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">var</span> brightnessLevel <span class="token keyword">by</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span>initialValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> minValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxValue <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=59></td><td><pre></pre></td></tr><tr><td data-num=60></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=61></td><td><pre>        brightnessLevel<span class="token operator">++</span></pre></td></tr><tr><td data-num=62></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Brightness increased to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=63></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=64></td><td><pre></pre></td></tr><tr><td data-num=65></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=66></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=67></td><td><pre>        brightnessLevel <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num=68></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> turned on. The brightness level is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">brightnessLevel</span></span><span class="token string">."</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=69></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=70></td><td><pre></pre></td></tr><tr><td data-num=71></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=72></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=73></td><td><pre>        brightnessLevel <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=74></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Smart Light turned off"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=75></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=76></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=77></td><td><pre></pre></td></tr><tr><td data-num=78></td><td><pre><span class="token keyword">class</span> <span class="token function">SmartHome</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=79></td><td><pre>    <span class="token keyword">val</span> smartTvDevice<span class="token operator">:</span> SmartTvDevice<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=80></td><td><pre>    <span class="token keyword">val</span> smartLightDevice<span class="token operator">:</span> SmartLightDevice</pre></td></tr><tr><td data-num=81></td><td><pre><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=82></td><td><pre></pre></td></tr><tr><td data-num=83></td><td><pre>    <span class="token keyword">var</span> deviceTurnOnCount <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num=84></td><td><pre>        <span class="token keyword">private</span> <span class="token keyword">set</span></pre></td></tr><tr><td data-num=85></td><td><pre></pre></td></tr><tr><td data-num=86></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOnTv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=87></td><td><pre>        deviceTurnOnCount<span class="token operator">++</span></pre></td></tr><tr><td data-num=88></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=89></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=90></td><td><pre></pre></td></tr><tr><td data-num=91></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOffTv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=92></td><td><pre>        deviceTurnOnCount<span class="token operator">--</span></pre></td></tr><tr><td data-num=93></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=94></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=95></td><td><pre></pre></td></tr><tr><td data-num=96></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseTvVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=97></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">increaseSpeakerVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=98></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=99></td><td><pre></pre></td></tr><tr><td data-num=100></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">changeTvChannelToNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=101></td><td><pre>        smartTvDevice<span class="token punctuation">.</span><span class="token function">nextChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=102></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=103></td><td><pre></pre></td></tr><tr><td data-num=104></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOnLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=105></td><td><pre>        deviceTurnOnCount<span class="token operator">++</span></pre></td></tr><tr><td data-num=106></td><td><pre>        smartLightDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=107></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=108></td><td><pre></pre></td></tr><tr><td data-num=109></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOffLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=110></td><td><pre>        deviceTurnOnCount<span class="token operator">--</span></pre></td></tr><tr><td data-num=111></td><td><pre>        smartLightDevice<span class="token punctuation">.</span><span class="token function">turnOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=112></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=113></td><td><pre></pre></td></tr><tr><td data-num=114></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">increaseLightBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=115></td><td><pre>        smartLightDevice<span class="token punctuation">.</span><span class="token function">increaseBrightness</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=116></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=117></td><td><pre></pre></td></tr><tr><td data-num=118></td><td><pre>    <span class="token keyword">fun</span> <span class="token function">turnOffAllDevices</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=119></td><td><pre>        <span class="token function">turnOffTv</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=120></td><td><pre>        <span class="token function">turnOffLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=121></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=122></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=123></td><td><pre></pre></td></tr><tr><td data-num=124></td><td><pre><span class="token keyword">class</span> <span class="token function">RangeRegulator</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=125></td><td><pre>    initialValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=126></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> minValue<span class="token operator">:</span> Int<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=127></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">val</span> maxValue<span class="token operator">:</span> Int</pre></td></tr><tr><td data-num=128></td><td><pre><span class="token punctuation">)</span> <span class="token operator">:</span> ReadWriteProperty<span class="token operator">&lt;</span>Any<span class="token operator">?</span><span class="token punctuation">,</span> Int<span class="token operator">></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=129></td><td><pre></pre></td></tr><tr><td data-num=130></td><td><pre>    <span class="token keyword">var</span> fieldData <span class="token operator">=</span> initialValue</pre></td></tr><tr><td data-num=131></td><td><pre></pre></td></tr><tr><td data-num=132></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=133></td><td><pre>        <span class="token keyword">return</span> fieldData</pre></td></tr><tr><td data-num=134></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=135></td><td><pre></pre></td></tr><tr><td data-num=136></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">setValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">,</span> value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=137></td><td><pre>        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">in</span> minValue<span class="token operator">..</span>maxValue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=138></td><td><pre>            fieldData <span class="token operator">=</span> value</pre></td></tr><tr><td data-num=139></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=140></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=141></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=142></td><td><pre></pre></td></tr><tr><td data-num=143></td><td><pre><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=144></td><td><pre>    <span class="token keyword">var</span> smartDevice<span class="token operator">:</span> SmartDevice <span class="token operator">=</span> <span class="token function">SmartTvDevice</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Android TV"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Entertainment"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=145></td><td><pre>    smartDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=146></td><td><pre></pre></td></tr><tr><td data-num=147></td><td><pre>    smartDevice <span class="token operator">=</span> <span class="token function">SmartLightDevice</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Google Light"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Utility"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=148></td><td><pre>    smartDevice<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=149></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=互操作性><a class=anchor href=#互操作性>#</a> 互操作性</h3><p>Kotlin 最重要的功能之一就是它与 Java 之间流畅的互操作性。由于 Kotlin 代码可编译为 JVM 字节码，因此 Kotlin 代码可直接调用 Java 代码，反之亦然。这意味着，您可以直接从 Kotlin 利用现有的 Java 库。此外，绝大多数 Android API 都是用 Java 编写的，因此可以直接从 Kotlin 调用它们。</p><h3 id=lambda表达式高级用法><a class=anchor href=#lambda表达式高级用法>#</a> Lambda表达式高级用法</h3><p>lambda 表达式提供了一种用于编写函数的简写语法。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">var</span> trick <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"trick"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">var</span> trickfunction <span class="token operator">=</span> trick</pre></td></tr><tr><td data-num=5></td><td><pre><span class="token function">trickfunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token comment">// ()表示不需要参数</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token comment">// Uint表示不返回任何内容</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">var</span> treat<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> Uint <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Have a trick"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token function">treat</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=13></td><td><pre></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">fun</span> <span class="token function">trickOrTreat</span><span class="token punctuation">(</span>isTrick<span class="token operator">:</span> Boolean<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> Unit <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>isTrick<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> trick <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> treat <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token function">trickOrTreat</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=19></td><td><pre></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token comment">// 传入函数</span></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token keyword">fun</span> <span class="token function">trickOrTreat</span><span class="token punctuation">(</span>isTrick<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>extarTreat<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-></span> String<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> Unit <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>isTrick<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> trick <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token keyword">else</span> </pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token punctuation">&#123;</span> </pre></td></tr><tr><td data-num=25></td><td><pre>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">extraTreat</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=26></td><td><pre>        <span class="token keyword">return</span> treat </pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=29></td><td><pre></pre></td></tr><tr><td data-num=30></td><td><pre><span class="token keyword">var</span> coins<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-></span> String <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=31></td><td><pre>    quantity <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">quantity</span></span><span class="token string"> quarters"</span></span></pre></td></tr><tr><td data-num=32></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=33></td><td><pre></pre></td></tr><tr><td data-num=34></td><td><pre><span class="token keyword">var</span> cupcake<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-></span> String <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=35></td><td><pre>    <span class="token string-literal singleline"><span class="token string">"Have a cupcake!"</span></span></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=37></td><td><pre></pre></td></tr><tr><td data-num=38></td><td><pre><span class="token function">trickOrTreat</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span>coins<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=39></td><td><pre><span class="token function">trickOrTreat</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span>cupcake<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=40></td><td><pre></pre></td></tr><tr><td data-num=41></td><td><pre><span class="token comment">// 判空</span></pre></td></tr><tr><td data-num=42></td><td><pre><span class="token keyword">fun</span> <span class="token function">trickOrTreat</span><span class="token punctuation">(</span>isTrick<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>extarTreat<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-></span> String<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> Unit <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=43></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>isTrick<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> trick <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=44></td><td><pre>    <span class="token keyword">else</span> </pre></td></tr><tr><td data-num=45></td><td><pre>    <span class="token punctuation">&#123;</span> </pre></td></tr><tr><td data-num=46></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!</span><span class="token operator">+</span> extrraTreat<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">extraTreat</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=47></td><td><pre>        <span class="token keyword">return</span> treat </pre></td></tr><tr><td data-num=48></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=49></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=50></td><td><pre></pre></td></tr><tr><td data-num=51></td><td><pre><span class="token keyword">var</span> coins<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-></span> String <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=52></td><td><pre>    <span class="token comment">// kotlin隐式分配it名称作为变量名</span></pre></td></tr><tr><td data-num=53></td><td><pre>    <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">it</span></span><span class="token string"> quarters"</span></span></pre></td></tr><tr><td data-num=54></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=55></td><td><pre></pre></td></tr><tr><td data-num=56></td><td><pre><span class="token comment">// 直接传入函数</span></pre></td></tr><tr><td data-num=57></td><td><pre><span class="token keyword">var</span> test <span class="token operator">=</span> <span class="token function">trickOrTreat</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=58></td><td><pre>    <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">it</span></span><span class="token string"> quarters"</span></span></pre></td></tr><tr><td data-num=59></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=60></td><td><pre></pre></td></tr><tr><td data-num=61></td><td><pre><span class="token comment">// 尾随lambda</span></pre></td></tr><tr><td data-num=62></td><td><pre><span class="token keyword">var</span> test <span class="token operator">=</span> <span class="token function">trickOrTreat</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=63></td><td><pre>    <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">it</span></span><span class="token string"> quarters"</span></span></pre></td></tr><tr><td data-num=64></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=65></td><td><pre></pre></td></tr><tr><td data-num=66></td><td><pre><span class="token comment">// repeat高阶函数，传入repeat次数</span></pre></td></tr><tr><td data-num=67></td><td><pre><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">trickfunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id=android开发-第一单元><a class=anchor href=#android开发-第一单元>#</a> Android开发-第一单元</h2><p><span class=exturl data-url="aHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vY291cnNlcy9hbmRyb2lkLWJhc2ljcy1jb21wb3NlL3VuaXQtMT9obD16aC1jbg==">→Android开发官方教程-第一单元-只有旧版←</span></p><h3 id=前言><a class=anchor href=#前言>#</a> 前言</h3><p>Jetpack Compose是一个用于构建原生Android应用程序用户界面的现代工具包和框架。它是由Google推出的，旨在简化和加速Android应用程序开发过程。相比传统的XML布局和视图层次结构，Jetpack Compose采用了声明式的方式来构建UI，通过使用Kotlin编程语言，开发者可以更直观地描述界面的外观和行为。</p><h3 id=android-studio无法从官网下载的解决方法><a class=anchor href=#android-studio无法从官网下载的解决方法>#</a> Android Studio无法从官网下载的解决方法</h3><p>将https改为http</p><p><span class=exturl data-url="aHR0cDovL3IyLS0tc24tbnZveHUtaW9xZWwuZ3Z0MS5jb20vZWRnZWRsL2FuZHJvaWQvc3R1ZGlvL2luc3RhbGwvMjAyNC4xLjEuMTEvYW5kcm9pZC1zdHVkaW8tMjAyNC4xLjEuMTEtd2luZG93cy5leGU/Y21zX3JlZGlyZWN0PXllcyZhbXA7bWg9akEmYW1wO21pcD0xNTAuMjQ5LjIxOS4yMTEmYW1wO21tPTI4JmFtcDttbj1zbi1udm94dS1pb3FlbCZhbXA7bXM9bnZoJmFtcDttdD0xNzE4NjMyNTc5JmFtcDttdj1tJmFtcDttdmk9MiZhbXA7cGw9MTYmYW1wO3NoYXJkYnlwYXNzPXNkJmFtcDtzbWhvc3Q9cjItLS1zbi1udm94dS1pb3Flay5ndnQxLmNvbQ==">→2024.1.1.11 windows版本←</span></p><h3 id=android-studio-http-proxy><a class=anchor href=#android-studio-http-proxy>#</a> Android Studio HTTP Proxy</h3><p>将<code>C:\Users\user-name\.gradle</code>中的gradle.properties非注释行全部删除</p><p>开全局代理，将IDE设置中 → System → HTTP proxy → 选择No proxy → 弹窗选择No</p><h3 id=配置><a class=anchor href=#配置>#</a> 配置</h3><p>Settings → Languages &amp; Frameworks → Android SDK → SDK Tools → 勾选Google USB Driver和Google Web Driver → 确认后开始下载</p><h3 id=代码案例><a class=anchor href=#代码案例>#</a> 代码案例</h3><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">ComponentActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    <span class="token comment">// onCreate是应用程序的入口，调用其他函数来构建用户界面，相当于main函数</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=5></td><td><pre>        <span class="token function">enableEdgeToEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=6></td><td><pre>        setContent <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=7></td><td><pre>            MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre>                <span class="token function">Scaffold</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> innerPadding <span class="token operator">-></span></pre></td></tr><tr><td data-num=9></td><td><pre>                    <span class="token function">Greeting</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=10></td><td><pre>                        name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Android"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=11></td><td><pre>                        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=12></td><td><pre>                    <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=13></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=14></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=15></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=18></td><td><pre></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token comment"> * Composable注解 表明该函数被Jetpack Compose所使用来生成UI(界面)</span></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token comment"> * Composable函数名称是大写，该函数不能返回任何内容</span></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token comment"> * 由Composable所标记的函数能被SetContent函数或其他被Composable标记的函数调用</span></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token comment"> */</span></pre></td></tr><tr><td data-num=24></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token keyword">fun</span> <span class="token function">Greeting</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">,</span> modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=27></td><td><pre>        text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string">!"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=28></td><td><pre>        modifier <span class="token operator">=</span> modifier</pre></td></tr><tr><td data-num=29></td><td><pre>    <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=30></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=31></td><td><pre></pre></td></tr><tr><td data-num=32></td><td><pre><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=33></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=34></td><td><pre><span class="token keyword">fun</span> <span class="token function">GreetingPreview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=35></td><td><pre>    MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=36></td><td><pre>        <span class="token function">Greeting</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Android"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=37></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=38></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><code>Text</code>元素 - 一种用于显示文本的界面元素</p><h3 id=注解><a class=anchor href=#注解>#</a> 注解</h3><p>注解是用于在代码中附加额外信息的方式。此类信息可以帮助 Jetpack Compose 编译器等工具和其他开发者理解应用的代码。</p><p>注解的声明开头为其名称（注解）添加 <code>@</code> 字符作为前缀即可，可以为包括属性、函数和类在内的不同代码元素添加注解。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 不带形参</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token annotation builtin">@Preview</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token comment">// 用于预览背景的注解</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment">// 带有预览标题的注解</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"My Previews"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token comment">// 向注解传递多个实参</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token label symbol">@preview</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=9></td><td><pre>    showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=10></td><td><pre>    showSystemUi <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=11></td><td><pre>    name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"My Preview"</span></span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id=compose函数><a class=anchor href=#compose函数>#</a> Compose函数</h3><p>此注解可告知 Compose 编译器：此函数用于将数据转换为界面。</p><p>Jetpack Compose 是围绕可组合函数构建的。</p><p>可组合函数是界面的基本构建块。</p><ul><li>描述界面中的某一部分。</li><li>不会返回任何内容。</li><li>接受一些输入并生成屏幕上显示的内容。</li></ul><p>带有 <code>@Composable</code> 注解的 Compose 函数必须使用 Pascal 命名法命名，</p><h3 id=界面层次结构><a class=anchor href=#界面层次结构>#</a> 界面层次结构</h3><p>界面层次结构基于包含机制，意即一个组件可以包含一个或多个组件，有时会用“父级”和“子级”这两个词来表述。</p><p>Compose 中的 3 个基本标准布局元素是 <code>Column</code>、<code>Row</code>和 <code>Box</code> 可组合项。</p><p>点击灯泡 → 依次选择 <strong>Surround with widget</strong> &gt; <strong>Surround with Row</strong>。</p><h3 id=尾随-lambda-语法><a class=anchor href=#尾随-lambda-语法>#</a> 尾随 lambda 语法</h3><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">fun</span> <span class="token function">name</span><span class="token punctuation">(</span>parameter1<span class="token punctuation">,</span> parameter2<span class="token punctuation">,</span> <span class="token operator">..</span><span class="token punctuation">.</span> function<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    body</pre></td></tr><tr><td data-num=3></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=box布局><a class=anchor href=#box布局>#</a> Box布局</h3><p><code>Box</code>布局是 Compose 中的标准布局元素之一。使用 <code>Box</code> 布局可将元素堆叠在一起。<code>Box</code> 布局还可用于配置它所包含的元素的特定对齐方式。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 左，上，右，下 - 顺时针</span></pre></td></tr><tr><td data-num=2></td><td><pre>Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=3></td><td><pre>    start <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=4></td><td><pre>    top <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=5></td><td><pre>    end <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=6></td><td><pre>    bottom <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=7></td><td><pre><span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id=官方生日贺卡案例一><a class=anchor href=#官方生日贺卡案例一>#</a> 官方生日贺卡案例一</h3><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication</pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>ComponentActivity</pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>setContent</pre></td></tr><tr><td data-num=6></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>enableEdgeToEdge</pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Arrangement</pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Column</pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxSize</pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>padding</pre></td></tr><tr><td data-num=11></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Scaffold</pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Text</pre></td></tr><tr><td data-num=13></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>Composable</pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Alignment</pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Modifier</pre></td></tr><tr><td data-num=16></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>text<span class="token punctuation">.</span>style<span class="token punctuation">.</span>TextAlign</pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>tooling<span class="token punctuation">.</span>preview<span class="token punctuation">.</span>Preview</pre></td></tr><tr><td data-num=18></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=19></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>sp</pre></td></tr><tr><td data-num=20></td><td><pre><span class="token keyword">import</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>MyApplicationTheme</pre></td></tr><tr><td data-num=21></td><td><pre></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">ComponentActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=24></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=25></td><td><pre>        <span class="token function">enableEdgeToEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=26></td><td><pre>        setContent <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=27></td><td><pre>            MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=28></td><td><pre>                <span class="token function">Scaffold</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  innerPadding <span class="token operator">-></span></pre></td></tr><tr><td data-num=29></td><td><pre>                    <span class="token function">GreetingText</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=30></td><td><pre>                        message <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Happy Birthday Sam!"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=31></td><td><pre>                        from <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"From Emma"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=32></td><td><pre>                        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=33></td><td><pre>                    <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=34></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=35></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=36></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=37></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=38></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=39></td><td><pre></pre></td></tr><tr><td data-num=40></td><td><pre></pre></td></tr><tr><td data-num=41></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=42></td><td><pre><span class="token keyword">fun</span> <span class="token function">GreetingText</span><span class="token punctuation">(</span>message<span class="token operator">:</span> String<span class="token punctuation">,</span>from<span class="token operator">:</span> String<span class="token punctuation">,</span>modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=43></td><td><pre>    <span class="token function">Column</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=44></td><td><pre>        verticalArrangement <span class="token operator">=</span> Arrangement<span class="token punctuation">.</span>Center<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=45></td><td><pre>        modifier <span class="token operator">=</span> modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=46></td><td><pre>    <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=47></td><td><pre>        <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=48></td><td><pre>            text <span class="token operator">=</span> message<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=49></td><td><pre>            fontSize <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">.</span>sp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=50></td><td><pre>            lineHeight <span class="token operator">=</span> <span class="token number">116</span><span class="token punctuation">.</span>sp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=51></td><td><pre>            textAlign <span class="token operator">=</span> TextAlign<span class="token punctuation">.</span>Center</pre></td></tr><tr><td data-num=52></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=53></td><td><pre>        <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=54></td><td><pre>            text <span class="token operator">=</span> from<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=55></td><td><pre>            fontSize <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">.</span>sp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=56></td><td><pre>            modifier <span class="token operator">=</span> Modifier</pre></td></tr><tr><td data-num=57></td><td><pre>                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=58></td><td><pre>                <span class="token punctuation">.</span><span class="token function">align</span><span class="token punctuation">(</span>alignment <span class="token operator">=</span> Alignment<span class="token punctuation">.</span>End<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=59></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=60></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=61></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=62></td><td><pre></pre></td></tr><tr><td data-num=63></td><td><pre><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=64></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=65></td><td><pre><span class="token keyword">fun</span> <span class="token function">BirthdayCardPreview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=66></td><td><pre>    MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=67></td><td><pre>        <span class="token function">GreetingText</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Happy Birthday Sam!"</span></span><span class="token punctuation">,</span>from <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"From Emma"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=68></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=69></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=添加图片><a class=anchor href=#添加图片>#</a> 添加图片</h3><p>左边Resource Manager图标 → '+' → import drawables → 选择图片 → QUALIFIER TYPE 选Density → VALUE 选No Density → 右下角Next → 右下角Import</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">val</span> image <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_task_completed<span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id=官方生日贺卡案例二><a class=anchor href=#官方生日贺卡案例二>#</a> 官方生日贺卡案例二</h3><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication</pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>ComponentActivity</pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>setContent</pre></td></tr><tr><td data-num=6></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>enableEdgeToEdge</pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Arrangement</pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Column</pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxSize</pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>padding</pre></td></tr><tr><td data-num=11></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Scaffold</pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Text</pre></td></tr><tr><td data-num=13></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>Composable</pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Alignment</pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Modifier</pre></td></tr><tr><td data-num=16></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>res<span class="token punctuation">.</span>painterResource</pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>text<span class="token punctuation">.</span>style<span class="token punctuation">.</span>TextAlign</pre></td></tr><tr><td data-num=18></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>tooling<span class="token punctuation">.</span>preview<span class="token punctuation">.</span>Preview</pre></td></tr><tr><td data-num=19></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=20></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>sp</pre></td></tr><tr><td data-num=21></td><td><pre><span class="token keyword">import</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>MyApplicationTheme</pre></td></tr><tr><td data-num=22></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>Image</pre></td></tr><tr><td data-num=23></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Box</pre></td></tr><tr><td data-num=24></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>ContentScale</pre></td></tr><tr><td data-num=25></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>res<span class="token punctuation">.</span>stringResource</pre></td></tr><tr><td data-num=26></td><td><pre></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">ComponentActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=28></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=29></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=30></td><td><pre>        <span class="token function">enableEdgeToEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=31></td><td><pre>        setContent <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=32></td><td><pre>            MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=33></td><td><pre>                <span class="token function">Scaffold</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  innerPadding <span class="token operator">-></span></pre></td></tr><tr><td data-num=34></td><td><pre>                    <span class="token function">GreetingImage</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=35></td><td><pre>                        message <span class="token operator">=</span> <span class="token function">stringResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>happy_birthday_text<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=36></td><td><pre>                        from <span class="token operator">=</span> <span class="token function">stringResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>from_emma<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=37></td><td><pre>                        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=38></td><td><pre>                    <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=39></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=40></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=41></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=42></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=43></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=44></td><td><pre></pre></td></tr><tr><td data-num=45></td><td><pre></pre></td></tr><tr><td data-num=46></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=47></td><td><pre><span class="token keyword">fun</span> <span class="token function">GreetingText</span><span class="token punctuation">(</span>message<span class="token operator">:</span> String<span class="token punctuation">,</span>from<span class="token operator">:</span> String<span class="token punctuation">,</span>modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=48></td><td><pre>    <span class="token function">Column</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=49></td><td><pre>        verticalArrangement <span class="token operator">=</span> Arrangement<span class="token punctuation">.</span>Center<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=50></td><td><pre>        modifier <span class="token operator">=</span> modifier</pre></td></tr><tr><td data-num=51></td><td><pre>            <span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=52></td><td><pre>            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=53></td><td><pre>    <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=54></td><td><pre>        <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=55></td><td><pre>            text <span class="token operator">=</span> message<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=56></td><td><pre>            fontSize <span class="token operator">=</span> <span class="token number">90</span><span class="token punctuation">.</span>sp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=57></td><td><pre>            lineHeight <span class="token operator">=</span> <span class="token number">116</span><span class="token punctuation">.</span>sp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=58></td><td><pre>            textAlign <span class="token operator">=</span> TextAlign<span class="token punctuation">.</span>Center<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=59></td><td><pre>            modifier <span class="token operator">=</span> Modifier</pre></td></tr><tr><td data-num=60></td><td><pre>                <span class="token punctuation">.</span><span class="token function">align</span><span class="token punctuation">(</span>alignment <span class="token operator">=</span> Alignment<span class="token punctuation">.</span>CenterHorizontally<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=61></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=62></td><td><pre>        <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=63></td><td><pre>            text <span class="token operator">=</span> from<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=64></td><td><pre>            fontSize <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">.</span>sp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=65></td><td><pre>            modifier <span class="token operator">=</span> Modifier</pre></td></tr><tr><td data-num=66></td><td><pre>                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=67></td><td><pre>                <span class="token punctuation">.</span><span class="token function">align</span><span class="token punctuation">(</span>alignment <span class="token operator">=</span> Alignment<span class="token punctuation">.</span>CenterHorizontally<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=68></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=69></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=70></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=71></td><td><pre></pre></td></tr><tr><td data-num=72></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=73></td><td><pre><span class="token keyword">fun</span> <span class="token function">GreetingImage</span><span class="token punctuation">(</span>message<span class="token operator">:</span> String<span class="token punctuation">,</span>from<span class="token operator">:</span> String<span class="token punctuation">,</span>modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=74></td><td><pre>    <span class="token keyword">val</span> image <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>androidparty<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=75></td><td><pre>    <span class="token function">Box</span><span class="token punctuation">(</span>modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=76></td><td><pre>        <span class="token function">Image</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=77></td><td><pre>            painter <span class="token operator">=</span> image<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=78></td><td><pre>            contentDescription <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=79></td><td><pre>            contentScale <span class="token operator">=</span> ContentScale<span class="token punctuation">.</span>Crop<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=80></td><td><pre>            alpha <span class="token operator">=</span> <span class="token number">0.5F</span></pre></td></tr><tr><td data-num=81></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=82></td><td><pre>        <span class="token function">GreetingText</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=83></td><td><pre>            message <span class="token operator">=</span> message<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=84></td><td><pre>            from <span class="token operator">=</span> from<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=85></td><td><pre>            modifier <span class="token operator">=</span> Modifier</pre></td></tr><tr><td data-num=86></td><td><pre>                <span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=87></td><td><pre>                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=88></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=89></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=90></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=91></td><td><pre></pre></td></tr><tr><td data-num=92></td><td><pre><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=93></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=94></td><td><pre><span class="token keyword">fun</span> <span class="token function">BirthdayCardPreview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=95></td><td><pre>    MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=96></td><td><pre>        <span class="token function">GreetingImage</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Happy Birthday Sam!"</span></span><span class="token punctuation">,</span>from <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"From Emma"</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=97></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=98></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=compose文章-案例><a class=anchor href=#compose文章-案例>#</a> Compose文章-案例</h3><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication</pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>ComponentActivity</pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>setContent</pre></td></tr><tr><td data-num=6></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>enableEdgeToEdge</pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxSize</pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>padding</pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Scaffold</pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Text</pre></td></tr><tr><td data-num=11></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>Composable</pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Modifier</pre></td></tr><tr><td data-num=13></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>res<span class="token punctuation">.</span>painterResource</pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>tooling<span class="token punctuation">.</span>preview<span class="token punctuation">.</span>Preview</pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">import</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>MyApplicationTheme</pre></td></tr><tr><td data-num=16></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>Image</pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Box</pre></td></tr><tr><td data-num=18></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Column</pre></td></tr><tr><td data-num=19></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Alignment</pre></td></tr><tr><td data-num=20></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>res<span class="token punctuation">.</span>stringResource</pre></td></tr><tr><td data-num=21></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>text<span class="token punctuation">.</span>style<span class="token punctuation">.</span>TextAlign</pre></td></tr><tr><td data-num=22></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=23></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>sp</pre></td></tr><tr><td data-num=24></td><td><pre></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">ComponentActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=27></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=28></td><td><pre>        <span class="token function">enableEdgeToEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=29></td><td><pre>        setContent <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=30></td><td><pre>            MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=31></td><td><pre>                <span class="token function">Scaffold</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> innerPadding <span class="token operator">-></span></pre></td></tr><tr><td data-num=32></td><td><pre>                    <span class="token function">ComposeContent</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=33></td><td><pre>                        title <span class="token operator">=</span> <span class="token function">stringResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=34></td><td><pre>                        text1 <span class="token operator">=</span> <span class="token function">stringResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>text1<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=35></td><td><pre>                        text2 <span class="token operator">=</span> <span class="token function">stringResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>text2<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=36></td><td><pre>                        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=37></td><td><pre>                    <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=38></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=39></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=40></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=41></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=42></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=43></td><td><pre></pre></td></tr><tr><td data-num=44></td><td><pre></pre></td></tr><tr><td data-num=45></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=46></td><td><pre><span class="token keyword">fun</span> <span class="token function">ComposeContent</span><span class="token punctuation">(</span>title<span class="token operator">:</span> String<span class="token punctuation">,</span> text1<span class="token operator">:</span> String<span class="token punctuation">,</span> text2<span class="token operator">:</span> String<span class="token punctuation">,</span> modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=47></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=48></td><td><pre>    <span class="token keyword">val</span> image <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>bg_compose_background<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=49></td><td><pre>    Column <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=50></td><td><pre>        <span class="token function">Image</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=51></td><td><pre>            painter <span class="token operator">=</span> image<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=52></td><td><pre>            contentDescription <span class="token operator">=</span> <span class="token keyword">null</span></pre></td></tr><tr><td data-num=53></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=54></td><td><pre>        <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=55></td><td><pre>            text <span class="token operator">=</span> title<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=56></td><td><pre>            fontSize <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">.</span>sp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=57></td><td><pre>            modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=58></td><td><pre>                start <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=59></td><td><pre>                top <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=60></td><td><pre>                end <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=61></td><td><pre>                bottom <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=62></td><td><pre>            <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=63></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=64></td><td><pre></pre></td></tr><tr><td data-num=65></td><td><pre>        <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=66></td><td><pre>            text <span class="token operator">=</span> text1<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=67></td><td><pre>            textAlign <span class="token operator">=</span> TextAlign<span class="token punctuation">.</span>Justify<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=68></td><td><pre>            modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=69></td><td><pre>                start <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=70></td><td><pre>                end <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=71></td><td><pre>            <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=72></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=73></td><td><pre></pre></td></tr><tr><td data-num=74></td><td><pre>        <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=75></td><td><pre>            text <span class="token operator">=</span> text2<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=76></td><td><pre>            textAlign <span class="token operator">=</span> TextAlign<span class="token punctuation">.</span>Justify<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=77></td><td><pre>            modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=78></td><td><pre>                start <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=79></td><td><pre>                top <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=80></td><td><pre>                end <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=81></td><td><pre>                bottom <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=82></td><td><pre>            <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=83></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=84></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=85></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=86></td><td><pre></pre></td></tr><tr><td data-num=87></td><td><pre><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=88></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=89></td><td><pre><span class="token keyword">fun</span> <span class="token function">ComposePreview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=90></td><td><pre>    MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=91></td><td><pre>        <span class="token function">ComposeContent</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=92></td><td><pre>            title <span class="token operator">=</span> <span class="token function">stringResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=93></td><td><pre>            text1 <span class="token operator">=</span> <span class="token function">stringResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>text1<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=94></td><td><pre>            text2 <span class="token operator">=</span> <span class="token function">stringResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>text2<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=95></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=96></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=97></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=任务管理器-案例><a class=anchor href=#任务管理器-案例>#</a> 任务管理器-案例</h3><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication</pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>ComponentActivity</pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>setContent</pre></td></tr><tr><td data-num=6></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>enableEdgeToEdge</pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>Image</pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Arrangement</pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Box</pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Column</pre></td></tr><tr><td data-num=11></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxSize</pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>padding</pre></td></tr><tr><td data-num=13></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Scaffold</pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Text</pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>Composable</pre></td></tr><tr><td data-num=16></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Alignment</pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Modifier</pre></td></tr><tr><td data-num=18></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>res<span class="token punctuation">.</span>painterResource</pre></td></tr><tr><td data-num=19></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>text<span class="token punctuation">.</span>font<span class="token punctuation">.</span>FontWeight</pre></td></tr><tr><td data-num=20></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>tooling<span class="token punctuation">.</span>preview<span class="token punctuation">.</span>Preview</pre></td></tr><tr><td data-num=21></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=22></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>sp</pre></td></tr><tr><td data-num=23></td><td><pre><span class="token keyword">import</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>MyApplicationTheme</pre></td></tr><tr><td data-num=24></td><td><pre></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">ComponentActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=27></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=28></td><td><pre>        <span class="token function">enableEdgeToEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=29></td><td><pre>        setContent <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=30></td><td><pre>            MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=31></td><td><pre>                <span class="token function">Scaffold</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> innerPadding <span class="token operator">-></span></pre></td></tr><tr><td data-num=32></td><td><pre>                    <span class="token function">ComposeContent</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=33></td><td><pre>                        text1 <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"All tasks completed"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=34></td><td><pre>                        text2 <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Nice work!"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=35></td><td><pre>                        modifier <span class="token operator">=</span> Modifier</pre></td></tr><tr><td data-num=36></td><td><pre>                            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=37></td><td><pre>                    <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=38></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=39></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=40></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=41></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=42></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=43></td><td><pre></pre></td></tr><tr><td data-num=44></td><td><pre></pre></td></tr><tr><td data-num=45></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=46></td><td><pre><span class="token keyword">fun</span> <span class="token function">ComposeContent</span><span class="token punctuation">(</span>text1<span class="token operator">:</span> String<span class="token punctuation">,</span>text2<span class="token operator">:</span> String<span class="token punctuation">,</span>modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=47></td><td><pre>    <span class="token keyword">val</span> image <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_task_completed<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=48></td><td><pre></pre></td></tr><tr><td data-num=49></td><td><pre>    <span class="token function">Column</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=50></td><td><pre>        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=51></td><td><pre>        verticalArrangement <span class="token operator">=</span> Arrangement<span class="token punctuation">.</span>Center</pre></td></tr><tr><td data-num=52></td><td><pre>    <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=53></td><td><pre>        <span class="token function">Image</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=54></td><td><pre>            painter <span class="token operator">=</span> image<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=55></td><td><pre>            contentDescription <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=56></td><td><pre>            modifier <span class="token operator">=</span> Modifier</pre></td></tr><tr><td data-num=57></td><td><pre>                <span class="token punctuation">.</span><span class="token function">align</span><span class="token punctuation">(</span>Alignment<span class="token punctuation">.</span>CenterHorizontally<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=58></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=59></td><td><pre></pre></td></tr><tr><td data-num=60></td><td><pre>        <span class="token function">Text</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=61></td><td><pre>            text <span class="token operator">=</span> text1<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=62></td><td><pre>            fontWeight <span class="token operator">=</span> FontWeight<span class="token punctuation">.</span>Bold<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=63></td><td><pre>            modifier <span class="token operator">=</span> modifier</pre></td></tr><tr><td data-num=64></td><td><pre>                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=65></td><td><pre>                    top <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=66></td><td><pre>                    bottom <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=67></td><td><pre>                <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=68></td><td><pre>                <span class="token punctuation">.</span><span class="token function">align</span><span class="token punctuation">(</span>Alignment<span class="token punctuation">.</span>CenterHorizontally<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=69></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=70></td><td><pre></pre></td></tr><tr><td data-num=71></td><td><pre>        <span class="token function">Text</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=72></td><td><pre>            text <span class="token operator">=</span> text2<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=73></td><td><pre>            fontSize <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>sp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=74></td><td><pre>            modifier <span class="token operator">=</span> Modifier</pre></td></tr><tr><td data-num=75></td><td><pre>                <span class="token punctuation">.</span><span class="token function">align</span><span class="token punctuation">(</span>Alignment<span class="token punctuation">.</span>CenterHorizontally<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=76></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=77></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=78></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=79></td><td><pre></pre></td></tr><tr><td data-num=80></td><td><pre><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=81></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=82></td><td><pre><span class="token keyword">fun</span> <span class="token function">ComposePreview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=83></td><td><pre>    MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=84></td><td><pre>        <span class="token function">ComposeContent</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=85></td><td><pre>            text1 <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"All tasks completed"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=86></td><td><pre>            text2 <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Nice work!"</span></span></pre></td></tr><tr><td data-num=87></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=88></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=89></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=compose-象限-案例><a class=anchor href=#compose-象限-案例>#</a> Compose 象限-案例</h3><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication</pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>ComponentActivity</pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>setContent</pre></td></tr><tr><td data-num=6></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>enableEdgeToEdge</pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>background</pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Arrangement</pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Column</pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Row</pre></td></tr><tr><td data-num=11></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxHeight</pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxSize</pre></td></tr><tr><td data-num=13></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxWidth</pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>padding</pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Scaffold</pre></td></tr><tr><td data-num=16></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Text</pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>Composable</pre></td></tr><tr><td data-num=18></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Alignment</pre></td></tr><tr><td data-num=19></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Modifier</pre></td></tr><tr><td data-num=20></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span>Color</pre></td></tr><tr><td data-num=21></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>text<span class="token punctuation">.</span>font<span class="token punctuation">.</span>FontWeight</pre></td></tr><tr><td data-num=22></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>text<span class="token punctuation">.</span>style<span class="token punctuation">.</span>TextAlign</pre></td></tr><tr><td data-num=23></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>tooling<span class="token punctuation">.</span>preview<span class="token punctuation">.</span>Preview</pre></td></tr><tr><td data-num=24></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=25></td><td><pre><span class="token keyword">import</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>MyApplicationTheme</pre></td></tr><tr><td data-num=26></td><td><pre></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">ComponentActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=28></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=29></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=30></td><td><pre>        <span class="token function">enableEdgeToEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=31></td><td><pre>        setContent <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=32></td><td><pre>            MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=33></td><td><pre>                <span class="token function">Scaffold</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> innerPadding <span class="token operator">-></span></pre></td></tr><tr><td data-num=34></td><td><pre>                    <span class="token function">ComposeContent</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=35></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=36></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=37></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=38></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=39></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=40></td><td><pre></pre></td></tr><tr><td data-num=41></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=42></td><td><pre><span class="token keyword">fun</span> <span class="token function">TextCreation</span><span class="token punctuation">(</span>title<span class="token operator">:</span> String<span class="token punctuation">,</span> text<span class="token operator">:</span> String<span class="token punctuation">,</span> modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=43></td><td><pre>    <span class="token function">Column</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=44></td><td><pre>        verticalArrangement <span class="token operator">=</span> Arrangement<span class="token punctuation">.</span>Center<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=45></td><td><pre>        horizontalAlignment <span class="token operator">=</span> Alignment<span class="token punctuation">.</span>CenterHorizontally<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=46></td><td><pre>        <span class="token comment">// 接收后面的参数才能产生变化</span></pre></td></tr><tr><td data-num=47></td><td><pre>        modifier <span class="token operator">=</span> modifier</pre></td></tr><tr><td data-num=48></td><td><pre>    <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=49></td><td><pre>        <span class="token function">Text</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=50></td><td><pre>            text <span class="token operator">=</span> title<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=51></td><td><pre>            fontWeight <span class="token operator">=</span> FontWeight<span class="token punctuation">.</span>Bold<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=52></td><td><pre>            modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>bottom <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=53></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=54></td><td><pre>        <span class="token function">Text</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=55></td><td><pre>            text <span class="token operator">=</span> text<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=56></td><td><pre>            textAlign <span class="token operator">=</span> TextAlign<span class="token punctuation">.</span>Justify</pre></td></tr><tr><td data-num=57></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=58></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=59></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=60></td><td><pre></pre></td></tr><tr><td data-num=61></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=62></td><td><pre><span class="token keyword">fun</span> <span class="token function">ComposeContent</span><span class="token punctuation">(</span>modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=63></td><td><pre>    <span class="token function">Column</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=64></td><td><pre>        <span class="token function">Row</span><span class="token punctuation">(</span>Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=65></td><td><pre>            <span class="token function">TextCreation</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=66></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"Text composable"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=67></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"Displays text and follows the recommended Material Design guidelines."</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=68></td><td><pre>                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=69></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">fillMaxHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=70></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=71></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token function">Color</span><span class="token punctuation">(</span><span class="token number">0xFFEADDFF</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=72></td><td><pre>            <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=73></td><td><pre>            <span class="token function">TextCreation</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=74></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"Image composable"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=75></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"Creates a composable that lays out and draws a given Painter class object."</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=76></td><td><pre>                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=77></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">fillMaxHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=78></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=79></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token function">Color</span><span class="token punctuation">(</span><span class="token number">0xFFD0BCFF</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=80></td><td><pre>            <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=81></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=82></td><td><pre>        <span class="token function">Row</span><span class="token punctuation">(</span>Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=83></td><td><pre>            <span class="token function">TextCreation</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=84></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"Row composable"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=85></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"A layout composable that places its children in a horizontal sequence."</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=86></td><td><pre>                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=87></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">fillMaxHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=88></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=89></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token function">Color</span><span class="token punctuation">(</span><span class="token number">0xFFB69DF8</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=90></td><td><pre>            <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=91></td><td><pre>            <span class="token function">TextCreation</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=92></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"Column composable"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=93></td><td><pre>                <span class="token string-literal singleline"><span class="token string">"A layout composable that places its children in a vertical sequence."</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=94></td><td><pre>                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=95></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">fillMaxHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=96></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=97></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token function">Color</span><span class="token punctuation">(</span><span class="token number">0xFFF6EDFF</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=98></td><td><pre>            <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=99></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=100></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=101></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=102></td><td><pre></pre></td></tr><tr><td data-num=103></td><td><pre><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=104></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=105></td><td><pre><span class="token keyword">fun</span> <span class="token function">GreetingPreview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=106></td><td><pre>    <span class="token function">ComposeContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=107></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=名片应用-案例><a class=anchor href=#名片应用-案例>#</a> 名片应用 - 案例</h3><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication</pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>ComponentActivity</pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>setContent</pre></td></tr><tr><td data-num=6></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>enableEdgeToEdge</pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>Image</pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>background</pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Arrangement</pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Box</pre></td></tr><tr><td data-num=11></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Column</pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Row</pre></td></tr><tr><td data-num=13></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Spacer</pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxHeight</pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxSize</pre></td></tr><tr><td data-num=16></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxWidth</pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>height</pre></td></tr><tr><td data-num=18></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>padding</pre></td></tr><tr><td data-num=19></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>size</pre></td></tr><tr><td data-num=20></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Scaffold</pre></td></tr><tr><td data-num=21></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Text</pre></td></tr><tr><td data-num=22></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>Composable</pre></td></tr><tr><td data-num=23></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Alignment</pre></td></tr><tr><td data-num=24></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Modifier</pre></td></tr><tr><td data-num=25></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span>Color</pre></td></tr><tr><td data-num=26></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>res<span class="token punctuation">.</span>painterResource</pre></td></tr><tr><td data-num=27></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>text<span class="token punctuation">.</span>font<span class="token punctuation">.</span>FontWeight</pre></td></tr><tr><td data-num=28></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>tooling<span class="token punctuation">.</span>preview<span class="token punctuation">.</span>Preview</pre></td></tr><tr><td data-num=29></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=30></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>sp</pre></td></tr><tr><td data-num=31></td><td><pre><span class="token keyword">import</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>MyApplicationTheme</pre></td></tr><tr><td data-num=32></td><td><pre></pre></td></tr><tr><td data-num=33></td><td><pre><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">ComponentActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=34></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=35></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=36></td><td><pre>        <span class="token function">enableEdgeToEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=37></td><td><pre>        setContent <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=38></td><td><pre>            MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=39></td><td><pre>                <span class="token function">Scaffold</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> innerPadding <span class="token operator">-></span></pre></td></tr><tr><td data-num=40></td><td><pre>                    <span class="token function">ComposeContent</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=41></td><td><pre>                        <span class="token string-literal singleline"><span class="token string">"+11（123）444 555 666"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=42></td><td><pre>                        <span class="token string-literal singleline"><span class="token string">"@AndroidDev"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=43></td><td><pre>                        <span class="token string-literal singleline"><span class="token string">"jen.doe@android.com"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=44></td><td><pre>                        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=45></td><td><pre>                    <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=46></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=47></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=48></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=49></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=50></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=51></td><td><pre></pre></td></tr><tr><td data-num=52></td><td><pre></pre></td></tr><tr><td data-num=53></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=54></td><td><pre><span class="token keyword">fun</span> <span class="token function">Description</span><span class="token punctuation">(</span>text1<span class="token operator">:</span> String<span class="token punctuation">,</span> text2<span class="token operator">:</span> String<span class="token punctuation">,</span> modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=55></td><td><pre>    <span class="token keyword">val</span> image <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>android_logo<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=56></td><td><pre></pre></td></tr><tr><td data-num=57></td><td><pre>    <span class="token function">Column</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=58></td><td><pre>        verticalArrangement <span class="token operator">=</span> Arrangement<span class="token punctuation">.</span>Center<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=59></td><td><pre>        horizontalAlignment <span class="token operator">=</span> Alignment<span class="token punctuation">.</span>CenterHorizontally<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=60></td><td><pre>        modifier <span class="token operator">=</span> modifier</pre></td></tr><tr><td data-num=61></td><td><pre>    <span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=62></td><td><pre>        <span class="token function">Box</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=63></td><td><pre>            modifier <span class="token operator">=</span> Modifier</pre></td></tr><tr><td data-num=64></td><td><pre>                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token function">Color</span><span class="token punctuation">(</span><span class="token number">0xFF336699</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=65></td><td><pre>                <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=66></td><td><pre>        <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=67></td><td><pre>            <span class="token function">Image</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=68></td><td><pre>                painter <span class="token operator">=</span> image<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=69></td><td><pre>                contentDescription <span class="token operator">=</span> <span class="token keyword">null</span></pre></td></tr><tr><td data-num=70></td><td><pre>            <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=71></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=72></td><td><pre></pre></td></tr><tr><td data-num=73></td><td><pre>        Column <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=74></td><td><pre>            <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=75></td><td><pre>                text <span class="token operator">=</span> text1<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=76></td><td><pre>                fontSize <span class="token operator">=</span> <span class="token number">45</span><span class="token punctuation">.</span>sp<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=77></td><td><pre>                fontWeight <span class="token operator">=</span> FontWeight<span class="token punctuation">.</span>Light<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=78></td><td><pre>                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">align</span><span class="token punctuation">(</span>Alignment<span class="token punctuation">.</span>CenterHorizontally<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=79></td><td><pre>            <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=80></td><td><pre>            <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=81></td><td><pre>                text <span class="token operator">=</span> text2<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=82></td><td><pre>                color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Green<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=83></td><td><pre>                modifier <span class="token operator">=</span> Modifier</pre></td></tr><tr><td data-num=84></td><td><pre>                    <span class="token punctuation">.</span><span class="token function">align</span><span class="token punctuation">(</span>Alignment<span class="token punctuation">.</span>CenterHorizontally<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=85></td><td><pre>            <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=86></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=87></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=88></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=89></td><td><pre></pre></td></tr><tr><td data-num=90></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=91></td><td><pre><span class="token keyword">fun</span> <span class="token function">ComposeContent</span><span class="token punctuation">(</span>phone<span class="token operator">:</span> String<span class="token punctuation">,</span> author<span class="token operator">:</span> String<span class="token punctuation">,</span> mail<span class="token operator">:</span> String<span class="token punctuation">,</span> modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=92></td><td><pre>    <span class="token keyword">val</span> call <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>call_24dp_fill0_wght400_grad0_opsz24<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=93></td><td><pre>    <span class="token keyword">val</span> share <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>share_24dp_fill0_wght400_grad0_opsz24<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=94></td><td><pre>    <span class="token keyword">val</span> email <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>mail_24dp_fill0_wght400_grad0_opsz24<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=95></td><td><pre></pre></td></tr><tr><td data-num=96></td><td><pre>    <span class="token function">Column</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=97></td><td><pre>        verticalArrangement <span class="token operator">=</span> Arrangement<span class="token punctuation">.</span>Center<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=98></td><td><pre>        horizontalAlignment <span class="token operator">=</span> Alignment<span class="token punctuation">.</span>CenterHorizontally<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=99></td><td><pre>        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=100></td><td><pre>    <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=101></td><td><pre>        <span class="token function">Description</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=102></td><td><pre>            <span class="token string-literal singleline"><span class="token string">"Jennifer Doe"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=103></td><td><pre>            <span class="token string-literal singleline"><span class="token string">"Android Developer Extraordinaire"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=104></td><td><pre>            modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=105></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=106></td><td><pre></pre></td></tr><tr><td data-num=107></td><td><pre>        Column <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=108></td><td><pre>            <span class="token function">Row</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>bottom <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=109></td><td><pre>                Box <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=110></td><td><pre>                    <span class="token function">Image</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=111></td><td><pre>                        painter <span class="token operator">=</span> call<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=112></td><td><pre>                        contentDescription <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=113></td><td><pre>                        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>end <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=114></td><td><pre>                    <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=115></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=116></td><td><pre></pre></td></tr><tr><td data-num=117></td><td><pre>                <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=118></td><td><pre>                    text <span class="token operator">=</span> phone</pre></td></tr><tr><td data-num=119></td><td><pre>                <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=120></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=121></td><td><pre></pre></td></tr><tr><td data-num=122></td><td><pre>            <span class="token function">Row</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>bottom <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=123></td><td><pre>                Box <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=124></td><td><pre>                    <span class="token function">Image</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=125></td><td><pre>                        painter <span class="token operator">=</span> share<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=126></td><td><pre>                        contentDescription <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=127></td><td><pre>                        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>end <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=128></td><td><pre>                    <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=129></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=130></td><td><pre></pre></td></tr><tr><td data-num=131></td><td><pre>                <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=132></td><td><pre>                    text <span class="token operator">=</span> author</pre></td></tr><tr><td data-num=133></td><td><pre>                <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=134></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=135></td><td><pre></pre></td></tr><tr><td data-num=136></td><td><pre>            <span class="token function">Row</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>bottom <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=137></td><td><pre>                Box <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=138></td><td><pre>                    <span class="token function">Image</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=139></td><td><pre>                        painter <span class="token operator">=</span> email<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=140></td><td><pre>                        contentDescription <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=141></td><td><pre>                        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>end <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=142></td><td><pre>                    <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=143></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=144></td><td><pre></pre></td></tr><tr><td data-num=145></td><td><pre>                <span class="token function">Text</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=146></td><td><pre>                    text <span class="token operator">=</span> mail</pre></td></tr><tr><td data-num=147></td><td><pre>                <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=148></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=149></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=150></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=151></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=152></td><td><pre></pre></td></tr><tr><td data-num=153></td><td><pre></pre></td></tr><tr><td data-num=154></td><td><pre><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=155></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=156></td><td><pre><span class="token keyword">fun</span> <span class="token function">GreetingPreview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=157></td><td><pre>    MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=158></td><td><pre>        <span class="token function">ComposeContent</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=159></td><td><pre>            <span class="token string-literal singleline"><span class="token string">"+11（123）444 555 666"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=160></td><td><pre>            <span class="token string-literal singleline"><span class="token string">"@AndroidDev"</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=161></td><td><pre>            <span class="token string-literal singleline"><span class="token string">"jen.doe@android.com"</span></span></pre></td></tr><tr><td data-num=162></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=163></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=164></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id=android开发-第二单元><a class=anchor href=#android开发-第二单元>#</a> Android开发-第二单元</h2><p><span class=exturl data-url="aHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vY291cnNlcy9hbmRyb2lkLWJhc2ljcy1jb21wb3NlL3VuaXQtMj9obD16aC1jbg==">→Android开发官方教程-第二单元-只有旧版←</span></p><h3 id=骰子-案例><a class=anchor href=#骰子-案例>#</a> 骰子-案例</h3><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">package</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication</pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">import</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>Bundle</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>ComponentActivity</pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>setContent</pre></td></tr><tr><td data-num=6></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>activity<span class="token punctuation">.</span>enableEdgeToEdge</pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>Image</pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>background</pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Arrangement</pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Box</pre></td></tr><tr><td data-num=11></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Column</pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Row</pre></td></tr><tr><td data-num=13></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Spacer</pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxHeight</pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxSize</pre></td></tr><tr><td data-num=16></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fillMaxWidth</pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>height</pre></td></tr><tr><td data-num=18></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>padding</pre></td></tr><tr><td data-num=19></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>size</pre></td></tr><tr><td data-num=20></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>foundation<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>wrapContentSize</pre></td></tr><tr><td data-num=21></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Button</pre></td></tr><tr><td data-num=22></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Scaffold</pre></td></tr><tr><td data-num=23></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>material3<span class="token punctuation">.</span>Text</pre></td></tr><tr><td data-num=24></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>Composable</pre></td></tr><tr><td data-num=25></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>mutableStateOf</pre></td></tr><tr><td data-num=26></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>remember</pre></td></tr><tr><td data-num=27></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>getValue</pre></td></tr><tr><td data-num=28></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>setValue</pre></td></tr><tr><td data-num=29></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Alignment</pre></td></tr><tr><td data-num=30></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>Modifier</pre></td></tr><tr><td data-num=31></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span>Color</pre></td></tr><tr><td data-num=32></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>res<span class="token punctuation">.</span>painterResource</pre></td></tr><tr><td data-num=33></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>res<span class="token punctuation">.</span>stringResource</pre></td></tr><tr><td data-num=34></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>text<span class="token punctuation">.</span>font<span class="token punctuation">.</span>FontWeight</pre></td></tr><tr><td data-num=35></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>tooling<span class="token punctuation">.</span>preview<span class="token punctuation">.</span>Preview</pre></td></tr><tr><td data-num=36></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>dp</pre></td></tr><tr><td data-num=37></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>unit<span class="token punctuation">.</span>sp</pre></td></tr><tr><td data-num=38></td><td><pre><span class="token keyword">import</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>MyApplicationTheme</pre></td></tr><tr><td data-num=39></td><td><pre></pre></td></tr><tr><td data-num=40></td><td><pre><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">ComponentActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=41></td><td><pre>    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=42></td><td><pre>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=43></td><td><pre>        <span class="token function">enableEdgeToEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=44></td><td><pre>        setContent <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=45></td><td><pre>            MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=46></td><td><pre>                <span class="token function">Scaffold</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> innerPadding <span class="token operator">-></span></pre></td></tr><tr><td data-num=47></td><td><pre>                    <span class="token function">DiceRollerApp</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=48></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=49></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=50></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=51></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=52></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=53></td><td><pre></pre></td></tr><tr><td data-num=54></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=55></td><td><pre><span class="token keyword">fun</span> <span class="token function">DiceWithButtonAndImage</span><span class="token punctuation">(</span>modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=56></td><td><pre>    <span class="token keyword">var</span> result <span class="token keyword">by</span> remember <span class="token punctuation">&#123;</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=57></td><td><pre>    <span class="token keyword">val</span> imageResource <span class="token operator">=</span> <span class="token keyword">when</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=58></td><td><pre>        <span class="token number">1</span> <span class="token operator">-></span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>dice_1</pre></td></tr><tr><td data-num=59></td><td><pre>        <span class="token number">2</span> <span class="token operator">-></span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>dice_2</pre></td></tr><tr><td data-num=60></td><td><pre>        <span class="token number">3</span> <span class="token operator">-></span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>dice_3</pre></td></tr><tr><td data-num=61></td><td><pre>        <span class="token number">4</span> <span class="token operator">-></span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>dice_4</pre></td></tr><tr><td data-num=62></td><td><pre>        <span class="token number">5</span> <span class="token operator">-></span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>dice_5</pre></td></tr><tr><td data-num=63></td><td><pre>        <span class="token keyword">else</span> <span class="token operator">-></span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>dice_6</pre></td></tr><tr><td data-num=64></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=65></td><td><pre></pre></td></tr><tr><td data-num=66></td><td><pre></pre></td></tr><tr><td data-num=67></td><td><pre>    <span class="token function">Column</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=68></td><td><pre>        modifier <span class="token operator">=</span> modifier<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=69></td><td><pre>        horizontalAlignment <span class="token operator">=</span> Alignment<span class="token punctuation">.</span>CenterHorizontally</pre></td></tr><tr><td data-num=70></td><td><pre>    <span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=71></td><td><pre>        <span class="token function">Image</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=72></td><td><pre>            painter <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>id <span class="token operator">=</span> imageResource<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=73></td><td><pre>            contentDescription <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1"</span></span></pre></td></tr><tr><td data-num=74></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=75></td><td><pre></pre></td></tr><tr><td data-num=76></td><td><pre>        <span class="token function">Spacer</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=77></td><td><pre></pre></td></tr><tr><td data-num=78></td><td><pre>        <span class="token function">Button</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=79></td><td><pre>            result <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=80></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=81></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=82></td><td><pre>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">stringResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>roll<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=83></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=84></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=85></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=86></td><td><pre></pre></td></tr><tr><td data-num=87></td><td><pre><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=88></td><td><pre><span class="token annotation builtin">@Composable</span></pre></td></tr><tr><td data-num=89></td><td><pre><span class="token keyword">fun</span> <span class="token function">DiceRollerApp</span><span class="token punctuation">(</span>modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=90></td><td><pre>    MyApplicationTheme <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=91></td><td><pre>        <span class="token function">DiceWithButtonAndImage</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier</pre></td></tr><tr><td data-num=92></td><td><pre>            <span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=93></td><td><pre>            <span class="token punctuation">.</span><span class="token function">wrapContentSize</span><span class="token punctuation">(</span>Alignment<span class="token punctuation">.</span>Center<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=94></td><td><pre>        <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=95></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=96></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=debugger><a class=anchor href=#debugger>#</a> Debugger</h3><p>Console右边图标选择Overhead</p><p>运行虚拟机 → Attach Debugger to Android Process → 选择虚拟机</p><p>或使用外置设备进行Debug</p><p>breakpoint - 让程序在指定地方暂停</p><h3 id=remember-函数保存状态><a class=anchor href=#remember-函数保存状态>#</a> remember 函数保存状态</h3><p>可组合函数可以使用 <a target=_blank rel=noopener href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#remember(kotlin.Function0)"><code>remember</code></a> 跨重组存储对象。初始组合期间，<code>remember</code> 函数计算的值会存储在组合中，而存储的值会在重组期间返回。<code>remember</code> 和 <code>mutableStateOf</code> 函数通常在可组合函数中一起使用，以使状态及其更新正确反映在界面中。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>remember</pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>getValue</pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">import</span> androidx<span class="token punctuation">.</span>compose<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>setValue</pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">var</span> amountInput <span class="token keyword">by</span> remember <span class="token punctuation">&#123;</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">""</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=自动化测试><a class=anchor href=#自动化测试>#</a> 自动化测试</h3><h4 id=本地测试><a class=anchor href=#本地测试>#</a> 本地测试</h4><p>本地测试是一种自动化测试，可直接测试一小段代码，以确保其能够正常运行。借助本地测试，您可以测试函数、类和属性。本地测试在工作站上执行，这意味着它们在开发环境中运行，不需要使用实体设备或模拟器。这是在计算机上运行本地测试的一大亮点。在计算机资源方面，本地测试的开销也非常低，因此即使资源有限，此类测试也可以快速运行。Android Studio 已准备好自动运行本地测试。</p><figure class="highlight kotlin"><figcaption data-lang=kotlin></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 添加 @VisibleForTesting 注解,这会将该方法设为公开状态，但会向其他元素指明该方法仅为测试目的而公开。</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token annotation builtin">@VisibleForTesting</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">internal</span> <span class="token keyword">fun</span> <span class="token function">calculateTip</span><span class="token punctuation">(</span>amount<span class="token operator">:</span> Double<span class="token punctuation">,</span> tipPercent<span class="token operator">:</span> Double <span class="token operator">=</span> <span class="token number">15.0</span><span class="token punctuation">,</span> roundUp<span class="token operator">:</span> Boolean<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">var</span> tip <span class="token operator">=</span> tipPercent <span class="token operator">/</span> <span class="token number">100</span> <span class="token operator">*</span> amount</pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>roundUp<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>        tip <span class="token operator">=</span> kotlin<span class="token punctuation">.</span>math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>tip<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">return</span> NumberFormat<span class="token punctuation">.</span><span class="token function">getCurrencyInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>tip<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment">// 使用 @Test 为方法添加注解。这样一来，编译器就能知道相应方法属于测试方法，从而相应地运行该方法。</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">// @Test 注解是使用 import org.junit.Test 导入语句从 org.junit.Test 软件包导入的。</span></pre></td></tr></table></figure><h4 id=插桩测试><a class=anchor href=#插桩测试>#</a> 插桩测试</h4><p>在 Android 开发环境中，插桩测试是一种界面测试。借助插桩测试，您可以测试应用中依赖于 Android API 及其平台 API 和服务的部分。</p><p>与本地测试不同，界面测试会启动应用的全部或部分内容、模拟用户互动，并检查应用响应是否适当。在此课程中，界面测试均在实体设备或模拟器上运行。</p><p>在 Android 上运行插桩测试时，测试代码实际上会内置到其自己的 Android 应用软件包 (APK) 中，就像常规 Android 应用一样。APK 是一个压缩文件，其中包含了在设备或模拟器上运行应用所需的所有代码和文件。该测试 APK 将与常规应用 APK 一起安装在设备或模拟器上。然后，测试 APK 会针对应用 APK 运行测试。</p><h3 id=art-space><a class=anchor href=#art-space>#</a> Art Space</h3><div class=tags><a href=/tags/android-development/ rel=tag><i class="ic i-tag"></i> 安卓开发</a></div></div><footer><div class=meta><span class=item><span class=icon><i class="ic i-calendar-check"></i></span> <span class=text>更新于</span> <time title="修改时间：2024-10-14 21:58:54" itemprop=dateModified datetime=2024-10-14T21:58:54+08:00>2024-10-14</time></span><span class=item data-path=/computer-science/programming/android-development/android-newer/ title=阅读次数><span class=icon><i class="ic i-eye"></i></span> <span class=text>阅读次数</span><span class=waline-pageview-count></span> <span class=text>次</span></span></div><div id=copyright><ul><li class=author><strong>本文作者：</strong> ReverseSacle <i class="ic i-at"><em>@</em></i>逆转天平</li><li class=link><strong>本文链接：</strong> <a href=https://www.reversesacle.com/computer-science/programming/android-development/android-newer/ title=Kotlin与安卓开发-基础>https://www.reversesacle.com/computer-science/programming/android-development/android-newer/</a></li><li class=license><strong>版权声明：</strong> 本站所有文章除特别声明外，均采用 <span class=exturl data-url=aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class=post-nav><div class="item left"><a href=/computer-science/programming/android-development/automation-testing/adb-integration/ itemprop=url rel=prev data-background-image=https:&#x2F;&#x2F;resa-imgs.oss-accelerate.aliyuncs.com&#x2F;img&#x2F;acg15.webp title="Android Debug Bridge(adb)教程"><span class=type>上一篇</span><span class=category><i class="ic i-flag"></i> 自动化测试</span><h3>Android Debug Bridge(adb)教程</h3></a></div><div class="item right"><a href=/computer-science/programming/dev-tool/cmake-compiler-tool/ itemprop=url rel=next data-background-image=https:&#x2F;&#x2F;resa-imgs.oss-accelerate.aliyuncs.com&#x2F;img&#x2F;acg18.webp title=CMake项目构建工具><span class=type>下一篇</span><span class=category><i class="ic i-flag"></i> 开发工具</span><h3>CMake项目构建工具</h3></a></div></div><div class=wrap id=comments><div id=waline-comment></div></div></div><div id=sidebar><div class=inner><div class=panels><div class=inner><div class="contents panel pjax" data-title=文章目录><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#kotlin><span class=toc-number>1.</span> <span class=toc-text>Kotlin</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%8F%98%E9%87%8F><span class=toc-number>1.1.</span> <span class=toc-text>变量</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F><span class=toc-number>1.1.1.</span> <span class=toc-text>声明变量</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD><span class=toc-number>1.1.2.</span> <span class=toc-text>类型推断</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E6%9B%B4%E6%96%B0%E5%8F%98%E9%87%8F><span class=toc-number>1.1.3.</span> <span class=toc-text>更新变量</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%8F%AF%E4%B8%BA-null-%E7%B1%BB%E5%9E%8B%E4%B8%8E%E4%B8%8D%E5%8F%AF%E4%B8%BA-null-%E7%B1%BB%E5%9E%8B><span class=toc-number>1.1.4.</span> <span class=toc-text>可为 null 类型与不可为 null 类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5><span class=toc-number>1.2.</span> <span class=toc-text>条件语句</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#if-else><span class=toc-number>1.2.1.</span> <span class=toc-text>if-else</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F><span class=toc-number>1.2.2.</span> <span class=toc-text>条件表达式</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#when%E8%A1%A8%E8%BE%BE%E5%BC%8F><span class=toc-number>1.2.3.</span> <span class=toc-text>when表达式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%87%BD%E6%95%B0><span class=toc-number>1.3.</span> <span class=toc-text>函数</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#%E6%9C%89%E5%8F%82%E4%B8%8E%E6%97%A0%E5%8F%82><span class=toc-number>1.3.1.</span> <span class=toc-text>有参与无参</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%85%B7%E5%90%8D%E5%AE%9E%E5%8F%82><span class=toc-number>1.3.2.</span> <span class=toc-text>具名实参</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E9%BB%98%E8%AE%A4%E5%AE%9E%E5%8F%82><span class=toc-number>1.3.3.</span> <span class=toc-text>默认实参</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E7%AE%80%E5%8C%96%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E><span class=toc-number>1.3.4.</span> <span class=toc-text>简化函数声明</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0><span class=toc-number>1.3.5.</span> <span class=toc-text>匿名函数</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E9%AB%98%E7%BA%A7%E5%87%BD%E6%95%B0><span class=toc-number>1.3.6.</span> <span class=toc-text>高级函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%B1%BB><span class=toc-number>1.4.</span> <span class=toc-text>类</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%B1%9E%E6%80%A7><span class=toc-number>1.4.1.</span> <span class=toc-text>属性</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%B1%9E%E6%80%A7%E4%B8%AD%E7%9A%84-getter-%E5%92%8C-setter-%E5%87%BD%E6%95%B0><span class=toc-number>1.4.2.</span> <span class=toc-text>属性中的 getter 和 setter 函数</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0><span class=toc-number>1.4.3.</span> <span class=toc-text>构造函数</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#%E5%AE%9A%E4%B9%89%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0><span class=toc-number>1.4.3.1.</span> <span class=toc-text>定义构造函数</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E5%AE%9A%E4%B9%89%E5%BD%A2%E5%8F%82%E5%8C%96%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0><span class=toc-number>1.4.3.2.</span> <span class=toc-text>定义形参化构造函数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E7%B1%BB%E5%87%BD%E6%95%B0%E5%92%8C%E5%B0%81%E8%A3%85><span class=toc-number>1.4.4.</span> <span class=toc-text>类函数和封装</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E7%B1%BB%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB><span class=toc-number>1.4.5.</span> <span class=toc-text>类之间的关系</span></a><ol class=toc-child><li class="toc-item toc-level-5"><a class=toc-link href=#is-a-%E5%85%B3%E7%B3%BB><span class=toc-number>1.4.5.1.</span> <span class=toc-text>IS-A 关系</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#has-a-%E5%85%B3%E7%B3%BB><span class=toc-number>1.4.5.2.</span> <span class=toc-text>HAS-A 关系</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E6%9B%BF%E6%8D%A2%E5%AD%90%E7%B1%BB%E4%B8%AD%E7%9A%84%E7%88%B6%E7%B1%BB%E6%96%B9%E6%B3%95><span class=toc-number>1.4.5.3.</span> <span class=toc-text>替换子类中的父类方法</span></a></li><li class="toc-item toc-level-5"><a class=toc-link href=#%E6%9B%BF%E6%8D%A2%E5%AD%90%E7%B1%BB%E4%B8%AD%E7%9A%84%E7%88%B6%E7%B1%BB%E5%B1%9E%E6%80%A7><span class=toc-number>1.4.5.4.</span> <span class=toc-text>替换子类中的父类属性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%8F%AF%E8%A7%81%E6%80%A7%E4%BF%AE%E9%A5%B0%E7%AC%A6><span class=toc-number>1.4.6.</span> <span class=toc-text>可见性修饰符</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7%E5%A7%94%E6%89%98define-property-delegates><span class=toc-number>1.4.7.</span> <span class=toc-text>定义属性委托(Define property delegates)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%BA%92%E6%93%8D%E4%BD%9C%E6%80%A7><span class=toc-number>1.5.</span> <span class=toc-text>互操作性</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95><span class=toc-number>1.6.</span> <span class=toc-text>Lambda表达式高级用法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#android%E5%BC%80%E5%8F%91-%E7%AC%AC%E4%B8%80%E5%8D%95%E5%85%83><span class=toc-number>2.</span> <span class=toc-text>Android开发-第一单元</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%89%8D%E8%A8%80><span class=toc-number>2.1.</span> <span class=toc-text>前言</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#android-studio%E6%97%A0%E6%B3%95%E4%BB%8E%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95><span class=toc-number>2.2.</span> <span class=toc-text>Android Studio无法从官网下载的解决方法</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#android-studio-http-proxy><span class=toc-number>2.3.</span> <span class=toc-text>Android Studio HTTP Proxy</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%85%8D%E7%BD%AE><span class=toc-number>2.4.</span> <span class=toc-text>配置</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%BB%A3%E7%A0%81%E6%A1%88%E4%BE%8B><span class=toc-number>2.5.</span> <span class=toc-text>代码案例</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%B3%A8%E8%A7%A3><span class=toc-number>2.6.</span> <span class=toc-text>注解</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#compose%E5%87%BD%E6%95%B0><span class=toc-number>2.7.</span> <span class=toc-text>Compose函数</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%95%8C%E9%9D%A2%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84><span class=toc-number>2.8.</span> <span class=toc-text>界面层次结构</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%B0%BE%E9%9A%8F-lambda-%E8%AF%AD%E6%B3%95><span class=toc-number>2.9.</span> <span class=toc-text>尾随 lambda 语法</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#box%E5%B8%83%E5%B1%80><span class=toc-number>2.10.</span> <span class=toc-text>Box布局</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%AE%98%E6%96%B9%E7%94%9F%E6%97%A5%E8%B4%BA%E5%8D%A1%E6%A1%88%E4%BE%8B%E4%B8%80><span class=toc-number>2.11.</span> <span class=toc-text>官方生日贺卡案例一</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%B7%BB%E5%8A%A0%E5%9B%BE%E7%89%87><span class=toc-number>2.12.</span> <span class=toc-text>添加图片</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%AE%98%E6%96%B9%E7%94%9F%E6%97%A5%E8%B4%BA%E5%8D%A1%E6%A1%88%E4%BE%8B%E4%BA%8C><span class=toc-number>2.13.</span> <span class=toc-text>官方生日贺卡案例二</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#compose%E6%96%87%E7%AB%A0-%E6%A1%88%E4%BE%8B><span class=toc-number>2.14.</span> <span class=toc-text>Compose文章-案例</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%99%A8-%E6%A1%88%E4%BE%8B><span class=toc-number>2.15.</span> <span class=toc-text>任务管理器-案例</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#compose-%E8%B1%A1%E9%99%90-%E6%A1%88%E4%BE%8B><span class=toc-number>2.16.</span> <span class=toc-text>Compose 象限-案例</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%90%8D%E7%89%87%E5%BA%94%E7%94%A8-%E6%A1%88%E4%BE%8B><span class=toc-number>2.17.</span> <span class=toc-text>名片应用 - 案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#android%E5%BC%80%E5%8F%91-%E7%AC%AC%E4%BA%8C%E5%8D%95%E5%85%83><span class=toc-number>3.</span> <span class=toc-text>Android开发-第二单元</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%AA%B0%E5%AD%90-%E6%A1%88%E4%BE%8B><span class=toc-number>3.1.</span> <span class=toc-text>骰子-案例</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#debugger><span class=toc-number>3.2.</span> <span class=toc-text>Debugger</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#remember-%E5%87%BD%E6%95%B0%E4%BF%9D%E5%AD%98%E7%8A%B6%E6%80%81><span class=toc-number>3.3.</span> <span class=toc-text>remember 函数保存状态</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95><span class=toc-number>3.4.</span> <span class=toc-text>自动化测试</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#%E6%9C%AC%E5%9C%B0%E6%B5%8B%E8%AF%95><span class=toc-number>3.4.1.</span> <span class=toc-text>本地测试</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E6%8F%92%E6%A1%A9%E6%B5%8B%E8%AF%95><span class=toc-number>3.4.2.</span> <span class=toc-text>插桩测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#art-space><span class=toc-number>3.5.</span> <span class=toc-text>Art Space</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title=系列文章><ul><li><a href=/computer-science/programming/android-development/automation-testing/appium-automated-testing/ rel=bookmark title=Appium自动化测试>Appium自动化测试</a></li><li><a href=/computer-science/programming/android-development/automation-testing/adb-integration/ rel=bookmark title="Android Debug Bridge(adb)教程">Android Debug Bridge(adb)教程</a></li><li class=active><a href=/computer-science/programming/android-development/android-newer/ rel=bookmark title=Kotlin与安卓开发-基础>Kotlin与安卓开发-基础</a></li></ul></div><div class="overview panel" data-title=站点概览><div class=author itemprop=author itemscope itemtype=http://schema.org/Person><img class=image itemprop=image alt=ReverseSacle data-src=/images/avatar.webp><p class=name itemprop=name>ReverseSacle</p><div class=description itemprop=description>知识书库 & 学习点滴</div></div><nav class=state><div class="item posts"><a href=/archives/ ><span class=count>186</span> <span class=name>文章</span></a></div><div class="item categories"><a href=/categories/ ><span class=count>52</span> <span class=name>分类</span></a></div><div class="item tags"><a href=/tags/ ><span class=count>18</span> <span class=name>标签</span></a></div></nav><div class=social><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL1JldmVyc2VTYWNsZQ==" title=https:&#x2F;&#x2F;github.com&#x2F;ReverseSacle><i class="ic i-github"></i></span><span class="exturl item email" data-url="bWFpbHRvOnByaXZhdGVAcmV2ZXJzZXNhY2xlLmNvbQ==" title=mailto:private@reversesacle.com><i class="ic i-envelope"></i></span></div><ul class=menu><li class=item><a href=/ rel=section><i class="ic i-home"></i> 首页</a></li><li class="item dropdown"><a href=javascript:void(0);><i class="ic i-feather"></i> 文章</a><ul class=submenu><li class=item><a href=/archives/ rel=section><i class="ic i-list-alt"></i> 归档</a></li><li class=item><a href=/categories/ rel=section><i class="ic i-th"></i> 分类</a></li><li class=item><a href=/tags/ rel=section><i class="ic i-tags"></i> 标签</a></li></ul></li><li class=item><a href=/about/ rel=section><i class="ic i-user"></i> 关于</a></li><li class=item><a href=/friend-links/ rel=section><i class="ic i-heart"></i> 友链</a></li></ul></div></div></div><ul id=quick><li class="prev pjax"><a href=/computer-science/programming/android-development/automation-testing/adb-integration/ rel=prev title=上一篇><i class="ic i-chevron-left"></i></a></li><li class=up><i class="ic i-arrow-up"></i></li><li class=down><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href=/computer-science/programming/dev-tool/cmake-compiler-tool/ rel=next title=下一篇><i class="ic i-chevron-right"></i></a></li><li class=percent></li></ul></div></div><div class=dimmer></div></div></main><footer id=footer><div class=inner><div class=widgets><div class="rpost pjax"><h2>随机文章</h2><ul><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/computer-vision/ title="分类于 计算机视觉">计算机视觉</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/computer-vision/opencv/ title="分类于 OpenCV">OpenCV</a></div><span><a href=/computer-science/computer-vision/opencv/lowest-error-rate-for-preserving-video/ title=低错误率的OpenCV视频保存方法>低错误率的OpenCV视频保存方法</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/database/ title="分类于 数据库">数据库</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/database/mysql/ title="分类于 MySQL">MySQL</a></div><span><a href=/computer-science/programming/database/mysql/mspart2/ title=MySQL数据库基础-第二部分>MySQL数据库基础-第二部分</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/dev-tool/ title="分类于 开发工具">开发工具</a></div><span><a href=/computer-science/programming/dev-tool/cmake-compiler-tool/ title=CMake项目构建工具>CMake项目构建工具</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/rust/ title="分类于 Rust">Rust</a></div><span><a href=/computer-science/programming/rust/rust-data-structure/linear-structure/seqstack/ title=Rust-顺序栈>Rust-顺序栈</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/python/ title="分类于 Python">Python</a></div><span><a href=/computer-science/programming/python/flask-basic/ title=Python后端框架Flask基础>Python后端框架Flask基础</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/seqlist/ title="分类于 顺序表">顺序表</a></div><span><a href=/computer-science/programming/c-language/c-algorithm/seqlist/boundary/ title=顺序表-临界>顺序表-临界</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/string/ title="分类于 字符串">字符串</a></div><span><a href=/computer-science/programming/c-language/c-algorithm/string/nums/ title=字符串-数理>字符串-数理</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/link-list/ title="分类于 链表">链表</a></div><span><a href=/computer-science/programming/c-language/c-algorithm/link-list/derivatives/ title=链表问题派生>链表问题派生</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/shoka-theme/ title="分类于 Shoka主题">Shoka主题</a></div><span><a href=/computer-science/shoka-theme/another/ title=额外添加配置>额外添加配置</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/string/ title="分类于 字符串">字符串</a></div><span><a href=/computer-science/programming/c-language/c-algorithm/string/derivatives/ title=字符串问题派生>字符串问题派生</a></span></li></ul></div><div><h2>最新评论</h2><ul id=waline-recent></ul></div></div><div class=status><div class=copyright>&copy; 2021 – <span itemprop=copyrightYear>2025</span><span class=with-love><i class="ic i-sakura rotate"></i></span> <span class=author itemprop=copyrightHolder>ReverseSacle @ ReverseSacle-Blog</span></div><div class=count><i class="ic i-clock" aria-hidden=true></i> <span id=time align=center>载入时间中...<script defer>var now=new Date;function createtime(){var n=new Date("2021-11-16 22:30:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("time").innerHTML="已经过 "+dnum+" 天 "+hnum+" 小时 "+mnum+" 分 "+snum+" 秒 "}setInterval("createtime()",250)</script></span><span class=post-meta-item-icon>|&nbsp<i class="ic i-chart-area"></i></span> <span title=站点总字数>2.1m 字</span> <span class=post-meta-item-icon>|&nbsp<i class="ic i-coffee"></i></span> <span title=站点阅读时长>40:40</span></div></div></div></footer></div><script data-config>var LOCAL={path:"computer-science/programming/android-development/android-newer/",favicon:{show:"ReverseSacle-Blog",hide:"ReverseSacle-Blog"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},waline:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src=https://polyfill.alicdn.com/v3/polyfill.min.js></script><script src=https://cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1.16.0/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js></script><script src=/js/app.js></script></body></html>