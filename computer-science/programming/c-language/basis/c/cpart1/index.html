<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content=#222><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=icon type=image/ico sizes=48x48 href=/images/favicon.ico><link rel=alternate type=application/rss+xml title=逆转天平 href=https://www.reversesacle.com/rss.xml><link rel=alternate type=application/atom+xml title=逆转天平 href=https://www.reversesacle.com/atom.xml><link rel=alternate type=application/json title=逆转天平 href=https://www.reversesacle.com/feed.json><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel=stylesheet href=/css/app.css><meta name=description content=编程语言><link rel=canonical href=https://www.reversesacle.com/computer-science/programming/c-language/basis/c/cpart1/ ><title>C语言基础-第一部分-C89/C90标准 - C语言基础 - C语言 - 编程 - 计算机科学 | ReverseSacle-Blog</title><meta name=generator content="Hexo 6.3.0"></head><body itemscope itemtype=http://schema.org/WebPage><div id=loading><div class=dotloader><div class=dot></div><div class=dot></div><div class=dot></div><div class=dot></div><div class=dot></div></div></div><div id=container><header id=header itemscope itemtype=http://schema.org/WPHeader><div class=inner><div id=brand><div class=pjax><h1 itemprop="name headline">C语言基础-第一部分-C89/C90标准</h1><div class=meta><span class=item title="创建时间：2022-02-17 16:51:49"><span class=icon><i class="ic i-calendar"></i></span> <span class=text>发表于</span> <time itemprop="dateCreated datePublished" datetime=2022-02-17T16:51:49+08:00>2022-02-17</time></span><span class=item title=本文字数><span class=icon><i class="ic i-pen"></i></span> <span class=text>本文字数</span> <span>35k</span> <span class=text>字</span></span><span class=item title=阅读时长><span class=icon><i class="ic i-clock"></i></span> <span class=text>阅读时长</span> <span>40 分钟</span></span></div></div></div><nav id=nav><div class=inner><div class=toggle><div class=lines role=navigation aria-label=切换导航栏><span class=line></span><span class=line></span><span class=line></span></div></div><ul class=menu><li class="item title"><a href=/ rel=start>ReverseSacle-Blog</a></li></ul><ul class=right><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id=imgs class=pjax><ul><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg3.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg13.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg5.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg20.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg10.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg9.webp></li></ul></div></header><div id=waves><svg class=waves xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewBox="0 24 150 28" preserveAspectRatio=none shape-rendering=auto><defs><path id=gentle-wave d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352z"/></defs><g class=parallax><use xlink:href=#gentle-wave x=48 y=0 /><use xlink:href=#gentle-wave x=48 y=3 /><use xlink:href=#gentle-wave x=48 y=5 /><use xlink:href=#gentle-wave x=48 y=7 /></g></svg></div><main><div class=inner><div id=main class=pjax><div class="article wrap"><div class=breadcrumb itemscope itemtype=https://schema.org/BreadcrumbList><i class="ic i-home"></i> <span><a href=/ >首页</a></span><i class="ic i-angle-right"></i> <span itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/ itemprop=item rel=index title="分类于 计算机科学"><span itemprop=name>计算机科学</span></a><meta itemprop=position content=1></span><i class="ic i-angle-right"></i> <span itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/programming/ itemprop=item rel=index title="分类于 编程"><span itemprop=name>编程</span></a><meta itemprop=position content=2></span><i class="ic i-angle-right"></i> <span itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/programming/c-language/ itemprop=item rel=index title="分类于 C语言"><span itemprop=name>C语言</span></a><meta itemprop=position content=3></span><i class="ic i-angle-right"></i> <span class=current itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/programming/c-language/c-basic/ itemprop=item rel=index title="分类于 C语言基础"><span itemprop=name>C语言基础</span></a><meta itemprop=position content=4></span></div><article itemscope itemtype=http://schema.org/Article class="post block" lang=zh-CN><link itemprop=mainEntityOfPage href=https://www.reversesacle.com/computer-science/programming/c-language/basis/c/cpart1/ ><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content=/images/avatar.webp><meta itemprop=name content=ReverseSacle><meta itemprop=description content="所见即所得，所思即所行, 知识书库 & 学习点滴"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content=逆转天平></span><div class="body md" itemprop=articleBody><div class="note info no-icon"><p>默认在32位操作系统中编译</p><p>带<code>?</code>的是对整体基础的补充项</p><p>持续修正中......</p></div><h2 id=概述><a class=anchor href=#概述>#</a> 概述</h2><p>C语言是一门<strong>面向过程</strong>的通用计算机编程语言，也是一门结构化的程序设计语言，广泛应用于底层开发。</p><p>C语言的设计目标是提供一种能以简易方式编译，处理低级存储器，产生少量机器码以及不需要任何允许环境支撑便能运行的编程语言。</p><p>C语言提供了许多低级处理功能，保持了良好的跨平台特性，以一个标准规格写出的C语言程序可在许多电脑平台上进行编译，甚至在一些嵌入式处理器(单片机 - 也称MCU)以及超级电脑等作业平台。</p><p>二十世纪八十年代，美国国家标准局(ANSI)为C语言制定了一套完整的美国国家标准语法 - <code>ANSI C</code>，也就是<code>C89</code>标准，作为C语言最初的标准。</p><ul><li>1999年，ISO发布了C语言的第二个标准，即<strong>C99</strong>，引入了许多新特性。</li><li>2011年12月18日，国际标准化组织(ISO)和国际电工委员会(IEC)发布了C语言的第三个官方标准 - <strong>C11标准</strong>，是C语言的最新标准，其更好的支持了汉字函数名和汉字标识符，在一定程度上实现了汉字编程。</li></ul><p>在C语言国际标准中，C99和C11标准并不流行，很多编译器不支持。</p><p>C语言的编译器主要有Clang, GCC, WIN-TC, SUBLIME, MSVC, Turbo C等。</p><details class=info><summary>面向过程(Procedure Oriented Programming - OPP)是什么？</summary><div><p>面向过程是一种编程范式，其中程序主要由一系列顺序执行的步骤组成。在面向过程编程中，程序被分解为一系列功能单一的子程序(也称为函数或过程)，这些子程序按照特定的顺序被调用以完成任务。</p><p>面向过程编程强调程序的执行流程和数据之间的关系，通常使用顺序结构、选择结构和循环结构来控制程序的执行。</p></div></details><details class=info><summary>编程范式(Programming paradigm)是什么？</summary><div><p>编程范式(或编程范型\程序设计法)指的是一种程序或者程序语言的组织风格、方式。</p><p>每一种程序范式都包含了代码结构、特征以及处理常见编程问题的方式。特定范式适合解决特定问题，所以针对不同项目采取不同的编程范式。</p></div></details><details class=info><summary>编译器(compiler)是什么？</summary><div><p>编译器是一种计算机程序，它会将某种编程语言写成的源代码(原始语言)转换成另一种编程语言(目标语言)。</p><p>如C语言的编译器，其目标语言是汇编语言或目标机器的机器代码。</p><p>机器语言(machine language)是一种指令集的体系，这种指令集被称为机器代码(machine code)。</p><p>机器语言是用二进制代码表示的、计算机能直接识别和执行的一种机器指令的集合。</p></div></details><h2 id=基本c程序框架概述><a class=anchor href=#基本c程序框架概述>#</a> 基本C程序框架概述</h2><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 包含一个叫`stdio.h`(standard input output - stdio，即std标准)的库文件</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">// 主函数(main函数)，被称为程序的入口</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token comment">// 程序从主函数代码块中的第一行开始执行，不包括代码块符号`&#123;`</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// 返回值0</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=10></td><td><pre></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">// 已经过时的框架旧版写法</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><details class=info><summary>需返回值的函数如果不return会怎么样？</summary><div><p>在带有返回值的函数中，如果函数执行到末尾没有明确的<code>return</code>语句，或者执行到末尾的<code>return</code>语句没有返回值，会导致未定义的行为。这是因为C语言标准要求带有返回值的函数必须以<code>return</code>语句结束，并且返回的表达式的类型必须与函数声明中指定的返回类型相匹配。</p></div></details><details class=info><summary>语句(statement)是什么？</summary><div><p>语句是程序的基本执行单位，每个语句定义了一个特定的操作，并且通常以分号(<code>;</code>)来表示语句的结束。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre>a <span class="token operator">=</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr></table></figure></div></details><details class=info><summary>未定义的行为(Undefined Behavior)是什么？</summary><div><p><strong>定义</strong> - 未定义行为是指在编程语言标准中没有定义明确行为的一种情况。(当程序中包含未定义行为时，编译器和运行时环境不受约束，可以产生任何结果。这意味着程序可能在不同的编译器、操作系统或硬件平台上表现出不同的行为，或者甚至在同一平台上的不同时间表现出不同的结果。</p><p><strong>产生原因</strong> - 未定义行为通常是由于程序包含了一些违反语言标准规定的操作或使用了未定义的值、引用了不存在的数组元素等情况引起的。在<code>C和C++</code>等语言中，未定义行为可能包括但不限于以下情况</p><ul><li><p>访问越界的数组元素 - 当程序尝试访问数组越界的元素时，可能会损坏程序的内存空间，导致奇怪的行为</p></li><li><p>使用未初始化的变量 - 当程序尝试使用未初始化的变量的值时，由于未初始化的变量的值是不确定的，该变量的值可以是任意值</p></li><li><p>除以零 - 在大多数编程语言中，除以零的操作在数学上是无意义的</p></li><li><p>溢出 - 当进行整数溢出时，结果是未定义的。例如，对于有符号整数，当结果超过了该类型能够表示的范围时，发生溢出</p></li><li><p>指针操作错误 - 对空指针进行解引用、使用已释放的内存、违反指针别名规则等操作都会导致未定义行为</p></li></ul></div></details><h2 id=数据类型><a class=anchor href=#数据类型>#</a> 数据类型</h2><h3 id=基本类型><a class=anchor href=#基本类型>#</a> 基本类型</h3><table><thead><tr><th style=text-align:left>类型</th><th style=text-align:left>描述</th><th style=text-align:left>所占字节大小</th></tr></thead><tbody><tr><td style=text-align:left>char</td><td style=text-align:left>单个字符</td><td style=text-align:left>1个字节</td></tr><tr><td style=text-align:left>short</td><td style=text-align:left>短整型</td><td style=text-align:left>2个字节</td></tr><tr><td style=text-align:left>int</td><td style=text-align:left>整型</td><td style=text-align:left>4个字节</td></tr><tr><td style=text-align:left>long</td><td style=text-align:left>长整型</td><td style=text-align:left>32位系统下占4个字节，64位系统下占8个字节</td></tr><tr><td style=text-align:left>float</td><td style=text-align:left>单精度浮点型</td><td style=text-align:left>4个字节</td></tr><tr><td style=text-align:left>double</td><td style=text-align:left>双精度浮点型</td><td style=text-align:left>8个字节</td></tr></tbody></table><p>一个字节等于8个比特位，不同数据类型的差别在于取值范围和精度，数据的取值范围越大，精度越高。</p><p>在64位系统下，将<code>int</code>强制转换为<code>long</code>时，会将<code>int</code>值的内存地址复制到<code>long</code>内存地址的低32位处，并用零将高32位填充。</p><details class=info><summary>比特位(bit)是什么？</summary><div><p>比特是英文bit的谐音，也称为二进制位，是计算机存储和处理数据的最小单位。每个比特位可以表示两种状态，通常用0和1来表示，对应的电学中的高电平和低电平。</p></div></details><h3 id=打印格式><a class=anchor href=#打印格式>#</a> 打印格式</h3><table><thead><tr><th style=text-align:left>格式</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left>%c</td><td style=text-align:left>以<strong>字符</strong>(char)格式，对数据进行打印</td></tr><tr><td style=text-align:left>%d</td><td style=text-align:left>以<strong>十进制有符号</strong>(int)格式，对数据进行打印</td></tr><tr><td style=text-align:left>%ld</td><td style=text-align:left>以<strong>十进制有符号</strong>格式，对数据进行打印(一般用于<strong>long数据类型</strong>)</td></tr><tr><td style=text-align:left>%u</td><td style=text-align:left>以<strong>十进制无符号</strong>(unsigned int)格式，对数据进行打印</td></tr><tr><td style=text-align:left>%f</td><td style=text-align:left>以<strong>浮点型</strong>(float)格式，对数据进行打印(一般用于<strong>单精度</strong>)</td></tr><tr><td style=text-align:left>%lf</td><td style=text-align:left>以<strong>浮点型</strong>(double)格式，对数据进行打印(一般用于<strong>双精度</strong>)</td></tr><tr><td style=text-align:left>%p</td><td style=text-align:left>以<strong>地址</strong>(*)格式，对数据进行打印</td></tr><tr><td style=text-align:left>%x</td><td style=text-align:left>以<strong>十六进制</strong>格式，对数据进行打印</td></tr><tr><td style=text-align:left>%s</td><td style=text-align:left>以<strong>字符串</strong>格式，对数据进行打印</td></tr></tbody></table><h3 id=常见缩写数据表示><a class=anchor href=#常见缩写数据表示>#</a> 常见缩写数据表示</h3><p>数据类型的别名，类型重定义语法 - <code>typedef 数据类型名 别名;</code></p><figure class="highlight c"><figcaption data-lang=c><span>实际开发中常见的</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token class-name">size_t</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id=注释><a class=anchor href=#注释>#</a> 注释</h2><p>C风格注释 - <code>/*.....*/</code>，多行注释，缺点是不能嵌套。</p><p><code>C++</code>风格注释 - <code>//.....</code>，单行注释，可注释C风格注释。 - C99标准</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">    printf("test1\n");</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment">    printf("test2\n");</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment">    printf("test3\n");</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token comment">*/</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=10></td><td><pre></pre></td></tr><tr><td data-num=11></td><td><pre></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token comment">// C注释风格的缺陷，不能嵌套</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment">// 以下为错误用法案例</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token comment">int main()</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token comment">&#123;</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token comment">    printf("test1\n");</span></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token comment">    printf("test2\n");</span></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token comment">*/</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token operator">*</span><span class="token operator">/</span></pre></td></tr></table></figure><details class=info><summary>注释的作用？</summary><div><p>注释是编程语言中用于在代码中添加说明、解释或备注的文本。这些注释不会被编译器或解释器执行，对程序的运行没有影响。</p><p>注释的主要用途包括</p><ul><li>解释复杂的逻辑、算法或代码块，便于其他开发者理解，即提高代码可读性</li><li>表达自身的意图，阐述代码背后的思想和目标</li><li>提供使用方法和示例</li><li>注释掉某些代码行来临时禁用这些代码，而不必直接删除</li><li>使用注释标记代码中的待办事项、改进点或潜在问题，以便日后处理</li></ul></div></details><h2 id=变量与常量><a class=anchor href=#变量与常量>#</a> 变量与常量</h2><h3 id=概述-2><a class=anchor href=#概述-2>#</a> 概述</h3><p>在C语言中，</p><p>从初始状态开始就<strong>不能被改变</strong>的值，用<strong>常量</strong>这个概念来表示。</p><p>从初始状态开始就<strong>能够被改变</strong>的值，用<strong>变量</strong>这个概念来表示。</p><figure class="highlight c"><figcaption data-lang=c><span>定义变量的方法</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">float</span> weight <span class="token operator">=</span> <span class="token number">45.5f</span><span class="token punctuation">;</span><span class="token comment">// f表示强调为float类型</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token char">'w'</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id=变量><a class=anchor href=#变量>#</a> 变量</h3><p>在C89标准中，变量声明<strong>必须</strong>在代码块的开头进行，通常定义在代码块({})里面的最前面，但是某些编译器可能不会严格地限制用户在代码块中任意位置声明变量。</p><p>变量分为<strong>局部变量</strong>和<strong>全局变量</strong>，当全局变量与局部变量的变量名相同时，<strong>优先使用局部变量</strong>。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">// 全局变量，定义在代码块(&#123;&#125;)之`外`的变量</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token comment">// 变量定义在代码块最前面，并且中间不能相隔非变量声明</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">int</span> num1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// 局部变量，定义在代码块(&#123;&#125;)之`内`的变量</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre>    </pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token comment">// C89标准不支持的错误案例</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token comment">// int num3 = 20;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token comment">// printf("%d\n",num3);</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token comment">// int num4 = 30;</span></pre></td></tr><tr><td data-num=14></td><td><pre>    </pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token function">pirntf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 10，优先使用局部变量</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><details class=info><summary>基础变量没有初始化怎么样？</summary><div><p>基础变量如果没有被初始化，变量的值是所在的内存位置之前存储的值。未初始化的基础变量可能会包含任意值，这取决于变量在内存中的位置和之前的使用情况。因此，使用未初始化的基础变量可能导致不可预测的行为。</p></div></details><details class=info><summary>全局变量和局部变量的区别是什么？</summary><div><ul><li>作用域不同</li><li>全局变量、静态全局变量和静态局部变量都存放在内存的全局数据区，局部变量存放在内存的栈区。</li><li>全局变量和静态全局变量如果没有手工初始化，则由编译器初始化为0。局部变量的值需要手动初始化。</li></ul></div></details><details class=info><summary>全局变量可不可以定义在【被多个.c文件包含】的头文件中？为什么？</summary><div><p>可以，在不同的.c文件中以static形式来声明同名全局变量</p><p>可以在不同的.c文件中<strong>声明</strong>同名的全局变量，但只能在其中一个.c文件中对此变量进行赋初值，其他.c文件只做声明，此时链接才不会出错。</p><p><strong>为什么</strong></p><ul><li><p>每个.c文件，会编译成一个obj，如果在头文件中进行了定义操作，而不是声明，那么每个引用这个头文件的obj中都会有一个这个变量的实例，链接时就会报重复定义出错了</p></li><li><p>static变量的作用域只在该编译单元内有效</p></li></ul></div></details><h4 id=变量的作用域scope><a class=anchor href=#变量的作用域scope>#</a> 变量的作用域(scope)</h4><p>根据程序设计概念，通常来说一段程序代码中所用到的名字并不总是有效或可用的，而限制这个名字的可用性的代码范围就是这个名字的作用域。</p><ul><li><p><strong>局部变量</strong>的作用域是变量所在的<strong>代码块</strong>的范围内</p></li><li><p><strong>全局变量</strong>的作用域是<strong>整个项目工程</strong></p></li></ul><p>变量哪里能用哪里就是它的作用域。</p><h4 id=变量的生命周期><a class=anchor href=#变量的生命周期>#</a> 变量的生命周期</h4><p><strong>局部变量</strong>的生命周期 - <strong>进入</strong>作用域生命周期<strong>开始</strong>，<strong>离开</strong>作用域生命周期<strong>结束</strong></p><p><strong>全局变量</strong>的生命周期 - 整个程序的生命周期</p><h3 id=常量><a class=anchor href=#常量>#</a> 常量</h3><p>C语言的常量分为以下几种</p><ul><li>字面常量</li><li><code>#define</code>定义的标识符常量</li><li>枚举常量</li><li>常量限定符const关键字修饰的<strong>常变量</strong></li></ul><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">// #define定义的标识符常量</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX</span> <span class="token expression"><span class="token number">10</span></span></span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment">// 枚举类型里面的值是枚举常量</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token keyword">enum</span> <span class="token class-name">S</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    MALE<span class="token punctuation">,</span><span class="token comment">// 默认0</span></pre></td></tr><tr><td data-num=9></td><td><pre>    FEMAL<span class="token punctuation">,</span><span class="token comment">// 默认1</span></pre></td></tr><tr><td data-num=10></td><td><pre>    SECRET<span class="token comment">// 默认2</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token comment">// 字面常量，是直接写出来的值</span></pre></td></tr><tr><td data-num=16></td><td><pre>	<span class="token number">3</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=17></td><td><pre>    <span class="token number">3.14</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=18></td><td><pre>    </pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token comment">// const修饰的变量称为`常变量`，</span></pre></td></tr><tr><td data-num=20></td><td><pre>    <span class="token comment">// 是通过将常属性赋给变量的形式，让变量的值无法被改变，其本质还是变量</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token keyword">const</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    </pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token comment">// Error，数组的方括号中应填入常量，而非`常变量`</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token comment">//int arr[num] = &#123; 0 &#125;;</span></pre></td></tr><tr><td data-num=25></td><td><pre>    </pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span>MAX<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// 使用标识符常量</span></pre></td></tr><tr><td data-num=27></td><td><pre>    </pre></td></tr><tr><td data-num=28></td><td><pre>    <span class="token keyword">enum</span> <span class="token class-name">S</span> s <span class="token operator">=</span> FEMALE<span class="token punctuation">;</span><span class="token comment">// 枚举类型声明以及枚举常量的使用</span></pre></td></tr><tr><td data-num=29></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d\n"</span><span class="token punctuation">,</span>MALE<span class="token punctuation">,</span>FEMALE<span class="token punctuation">,</span>SECRET<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=30></td><td><pre>    </pre></td></tr><tr><td data-num=31></td><td><pre>    <span class="token comment">//FEMALE = 6;// Error，常量的值不能被更改，即不为左值</span></pre></td></tr><tr><td data-num=32></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=33></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><details class=info><summary>字符串常量存放地址在哪？(为什么字符串常量不能被修改？)</summary><div><p>字符串常量在编译时就被确定，在程序中是被存放在可执行文件的常量区(或者叫只读数据段)，而不是在运行时动态分配的内存中。常量区是程序的一部分，通常是只读的，因此字符串常量是不可修改的。</p><p>当在程序中使用字符串常量时，实际上是使用该字符串在常量区的地址。这样的设计有助于提高程序的效率，因为它避免了在运行时为每个相同的字符串分配内存的开销，使其共享同一份内存空间。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>字符串常量<code>&quot;Hello, World!&quot;</code>存放在常量区，而指针<code>str</code>存储的是该字符串常量的地址。这使得<code>str</code>指向字符串的起始位置。由于字符串常量是不可修改的，尝试通过指针修改字符串常量的内容是未定义行为，可能导致程序崩溃或其他不确定的行为。如果需要可修改的字符串，应该使用字符数组而不是字符串常量。</p></div></details><details class=info><summary>用const和#define定义常量哪个更好？(宏定义#define和常量const的区别？)</summary><div><p><code>const</code></p><ul><li><p><strong>类型安全</strong> - <code>const</code>定义的常量具有类型，因此在编译时进行类型检查。这可以防止一些类型错误</p></li><li><p><strong>作用域</strong> - <code>const</code>定义的常量具有作用域，只在定义它的块内部或在整个类中可见，这有助于避免命名冲突</p></li><li><p><strong>调试</strong> - <code>const</code>常量可以被调试器追踪，而<code>#define</code>定义的常量不能</p></li><li><p><strong>避免宏的问题</strong> - 使用<code>const</code>可以避免宏定义的一些问题，比如不易调试、不易理解、可能引发的命名空间问题等</p></li></ul><p><code>#define</code></p><ul><li><strong>宏替换</strong> - <code>#define</code>是一个预处理器宏，它在编译前进行简单的文本替换。这可能导致一些意外的行为，因为没有类型信息</li><li><strong>没有作用域</strong> - <code>#define</code>定义的常量在定义点之后的整个文件中都可见，容易引起命名冲突</li><li><strong>不安全</strong> - <code>#define</code>定义的常量没有类型，可能导致一些不安全的类型转换或错误</li><li><strong>不易调试</strong> - 宏定义的常量在调试器中不可见，使得调试过程更加困难</li></ul><p>尽量使用<code>const</code>来定义常量，因为它提供了更多的类型安全性和可读性。使用<code>#define</code>通常更适合用于条件编译或在头文件中定义宏。</p></div></details><h2 id=运算符operator><a class=anchor href=#运算符operator>#</a> 运算符(operator)</h2><p>运算符是编程语言中用于执行特定操作的符号或关键字。运算符可以作用于一个或多个操作数，并根据操作符的种类执行相应的计算或操作。</p><h3 id=算数运算符><a class=anchor href=#算数运算符>#</a> 算数运算符</h3><table><thead><tr><th style=text-align:left>符号</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left>+</td><td style=text-align:left>加</td></tr><tr><td style=text-align:left>-</td><td style=text-align:left>减</td></tr><tr><td style=text-align:left>*</td><td style=text-align:left>乘</td></tr><tr><td style=text-align:left>/</td><td style=text-align:left>除 - 得到的是商，向零取整，进行除法操作时，分母为<code>0</code>时会引发异常。<br>当存在浮点数时就会变成浮点数除法，结果为浮点数，当其分母为<code>0.0</code>时会得到inf(infinite-无穷大)。</td></tr><tr><td style=text-align:left>%</td><td style=text-align:left>余(取模) - 两个操作数必须为整数，取模运算中分母不能为<code>0</code>。</td></tr></tbody></table><h3 id=移位运算符><a class=anchor href=#移位运算符>#</a> 移位运算符</h3><p>移位所移动的是二进制位。</p><p><code>&gt;&gt;</code> - 右移，值变为原来的<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding=application/x-tex>\frac{1}{2}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1.190108em;vertical-align:-.345em></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.845108em><span style=top:-2.6550000000000002em><span class=pstrut style=height:3em></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style=top:-3.23em><span class=pstrut style=height:3em></span><span class=frac-line style=border-bottom-width:.04em></span></span><span style=top:-3.394em><span class=pstrut style=height:3em></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.345em><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>倍</p><ul><li>逻辑右移 - 右边丢弃，左边补0</li><li>算术右移 - 右边丢弃，左边补原符号位(编译器通常会采用的方法)</li></ul><p><code>&lt;&lt;</code> - 左移，值变为原来的2倍</p><ul><li>逻辑左移 - 左边丢弃，右边补0</li></ul><p>注意错误用法，不要移动负数位 - <code>num &gt;&gt; -1</code>(❌)</p><h3 id=位二进制运算符><a class=anchor href=#位二进制运算符>#</a> 位(二进制)运算符</h3><p><code>&amp;</code> - 按位与</p><p><code>|</code> - 按位或</p><p><code>^</code> - 按位异或</p><p>两个相同的值异或为0，相当于<strong>抵消</strong>。</p><figure class="highlight tex"><figcaption data-lang=TeX></figcaption><table><tr><td data-num=1></td><td><pre>演示  			</pre></td></tr><tr><td data-num=2></td><td><pre>  1 1 1      1 1 1      1 1 1</pre></td></tr><tr><td data-num=3></td><td><pre><span class="token punctuation">&amp;</span> 0 1 0    | 0 1 0    ^ 0 1 0</pre></td></tr><tr><td data-num=4></td><td><pre>________  _________  _________</pre></td></tr><tr><td data-num=5></td><td><pre>  0 1 0      1 1 1      1 0 1</pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token comment">// 利用按位异或，交换两个变量的值</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    </pre></td></tr><tr><td data-num=8></td><td><pre>    a <span class="token operator">=</span> a<span class="token operator">^</span>b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre>    b <span class="token operator">=</span> a<span class="token operator">^</span>b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    a <span class="token operator">=</span> a<span class="token operator">^</span>b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    </pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token comment">// 获取二进制位有多少个1</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre>    </pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token comment">/**</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token comment">     * 普通做法</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token comment">     * 当前数的二进制最低位可通过取模(%2)获取，相当于按位与1，也相当于判断奇偶性</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token comment">     * 除2，即相当于右移1位</span></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token comment">    **/</span></pre></td></tr><tr><td data-num=20></td><td><pre>    <span class="token keyword">while</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=22></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> num <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token operator">++</span>count<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=23></td><td><pre>        num <span class="token operator">/=</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=25></td><td><pre>    </pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token comment">// 位运算符做法</span></pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=28></td><td><pre>    </pre></td></tr><tr><td data-num=29></td><td><pre>    count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=30></td><td><pre>    <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">32</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=31></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=32></td><td><pre>        count <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>num <span class="token operator">>></span> i<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=33></td><td><pre>        <span class="token operator">++</span>i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=34></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=35></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=赋值运算符><a class=anchor href=#赋值运算符>#</a> 赋值运算符</h3><p><code>=</code> - 赋值符，连续赋值 - <code>a = x = 2</code>，即<code>x = 2, a = x</code></p><p><strong>复合赋值符</strong></p><ul><li><code>+=</code> - <code>-=</code> - <code>*=</code> - <code>/=</code> - <code>%=</code></li><li><code>&amp;=</code> - <code>^=</code> - <code>|=</code></li><li><code>&gt;&gt;=</code> - <code>&lt;&lt;=</code></li></ul><h3 id=关系运算符><a class=anchor href=#关系运算符>#</a> 关系运算符</h3><table><thead><tr><th style=text-align:left>符号</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left>&gt;</td><td style=text-align:left>大于</td></tr><tr><td style=text-align:left>&lt;</td><td style=text-align:left>小于</td></tr><tr><td style=text-align:left>==</td><td style=text-align:left>等于</td></tr><tr><td style=text-align:left>&gt;=</td><td style=text-align:left>大于或等于</td></tr><tr><td style=text-align:left>&lt;=</td><td style=text-align:left>小于或等于</td></tr></tbody></table><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    </pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=9></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=10></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token comment"> * 上述代码if语句中是赋值语句，i一直会被赋予值5，</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token comment"> * 而非0即表示真，所以此循环为死循环。</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token comment">**/</span></pre></td></tr></table></figure><details class=info><summary>怎样判断两个浮点数是否相等？</summary><div><p>判断两个浮点数是否相等是一个相对复杂的问题，因为浮点数在计算机中以二进制表示，可能存在精度损失，导致简单的相等比较可能不准确。不能直接用==来判断，会出错。</p><figure class="highlight c"><figcaption data-lang=c><span>差值比较</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;math.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">areEqual</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">,</span> <span class="token keyword">double</span> epsilon<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">return</span> <span class="token function">fabs</span><span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token operator">&lt;</span> epsilon<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token comment"> * 这种方法比较两个浮点数的差值是否小于一个很小的阈值epsilon。</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token comment"> * epsilon的选择通常取决于问题的精度要求。</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment">**/</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang=c><span>相对误差比较</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;math.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">areEqualRelative</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">,</span> <span class="token keyword">double</span> epsilon<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">double</span> maxVal <span class="token operator">=</span> <span class="token function">fmax</span><span class="token punctuation">(</span><span class="token function">fabs</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">fabs</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">return</span> <span class="token function">fabs</span><span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token operator">/</span> maxVal <span class="token operator">&lt;</span> epsilon<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment"> * 这种方法比较两个浮点数的相对误差是否小于epsilon。</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment"> * 相对误差是浮点数的差值除以两个数中的较大值。</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">**/</span></pre></td></tr></table></figure></div></details><h3 id=逻辑运算符><a class=anchor href=#逻辑运算符>#</a> 逻辑运算符</h3><p>C语言中<code>0表示假</code>，<code>非0表示真</code>。</p><p>真 并非布尔类型定义的 true，假 也并非布尔类型定义的 false。</p><p><code>&amp;&amp;</code> - 逻辑与</p><ul><li>真 &amp;&amp; 真 → 结果为 真</li><li>假 &amp;&amp; 不执行也不判断 → 结果为 假</li><li>真 &amp;&amp; 假 → 结果为 假</li></ul><p><code>||</code> - 逻辑或</p><ul><li>真 || 不执行也不判断 → 结果为 真</li><li>假 || 真 → 结果为 真</li><li>假 || 假 → 结果为 假</li></ul><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    </pre></td></tr><tr><td data-num=7></td><td><pre>    i <span class="token operator">=</span> a<span class="token operator">++</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">++</span>b <span class="token operator">&amp;&amp;</span> d<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %d, b = %d, c = %d, d = %d"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token comment"> * 此时a先调用自身(值为0)，判断为假，即(假 &amp;&amp; 不执行也不判断)，因此`a++ &amp;&amp; ++b`为假(0)，</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment"> * 为假，即(假 &amp;&amp; 不执行也不判断)，因此`假 &amp;&amp; d++`为假，</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token comment"> * 所以，a=1，b=2，c=3，d=4</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token comment">**/</span></pre></td></tr></table></figure><h3 id=单双目运算符><a class=anchor href=#单双目运算符>#</a> 单/双目运算符</h3><p><strong>双目运算符</strong> - 有两个操作数</p><ul><li><code>+</code></li><li><code>-</code></li></ul><p><strong>单目运算符</strong> - 只有一个操作数</p><table><thead><tr><th style=text-align:left>符号</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left>!</td><td style=text-align:left>逻辑反操作，假变成1，真(不一定是1)变为0</td></tr><tr><td style=text-align:left>&amp;</td><td style=text-align:left>取地址</td></tr><tr><td style=text-align:left><code>sizeof</code>关键字</td><td style=text-align:left>求取操作数的类型长度(以字节为单位)</td></tr><tr><td style=text-align:left>~</td><td style=text-align:left>对一个数的二进制按位取反</td></tr><tr><td style=text-align:left>++</td><td style=text-align:left>自增</td></tr><tr><td style=text-align:left>--</td><td style=text-align:left>自减</td></tr><tr><td style=text-align:left>*</td><td style=text-align:left>间接访问运算符(解引用)</td></tr><tr><td style=text-align:left>(类型)</td><td style=text-align:left>强制类型转换</td></tr></tbody></table><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> n1 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> n2 <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    n1 <span class="token operator">+</span> n2<span class="token punctuation">;</span><span class="token comment">// `+`号是双目运算符，即有两个可操作数</span></pre></td></tr><tr><td data-num=7></td><td><pre>    </pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token operator">!</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 单目运算符，即只有一个可操作数</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=条件运算符><a class=anchor href=#条件运算符>#</a> 条件运算符</h3><p>也称三元运算符，三目运算符或三目表达式。</p><p><code>exp1 ? exp2 : exp3</code>，<code>exp</code>指表达式，条件运算符的exp2与exp3的结果值类型需保持一致。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> c <span class="token operator">=</span> a <span class="token operator">></span> b <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment">// printf会返回字符串有几位</span></pre></td></tr><tr><td data-num=6></td><td><pre>a <span class="token operator">></span> b <span class="token operator">?</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id=逗号表达式><a class=anchor href=#逗号表达式>#</a> 逗号表达式</h3><p><code>exp1,exp2,exp3,...expN</code></p><p>从左向右依次执行，整个逗号表达式的结果是<strong>最后一个</strong>表达式的结果。</p><h3 id=剩下的运算符><a class=anchor href=#剩下的运算符>#</a> 剩下的运算符</h3><p><code>[]</code> - 下标引用运算符，有两个操作数，数组名和索引值</p><p><code>()</code> - 函数调用运算符，操作数至少有一个，即函数名。额外操作数为参数的数量</p><p><code>.</code> - 结构体实体的成员访问运算符</p><p><code>-&gt;</code> - 结构体指针的成员访问运算符</p><h2 id=表达式求值><a class=anchor href=#表达式求值>#</a> 表达式求值</h2><p>在编程语言中，表达式是用来计算值或判断条件的，是由操作数和操作符(运算符)组成的公式。表达式可以是简单的，如一个变量、一个常量，也可以是复杂的，包含多个操作符和操作数的组合。</p><p>表达式求值顺序的一部分是由运算符的<strong>优先级</strong>和<strong>结合性</strong>决定的。</p><p>有些表达式的操作数在求值的过程中可能需要转换为其他类型。</p><h3 id=三个影响因素><a class=anchor href=#三个影响因素>#</a> 三个影响因素</h3><p><span class=exturl data-url=aHR0cHM6Ly9lbi5jcHByZWZlcmVuY2UuY29tL3cvYy9sYW5ndWFnZS9vcGVyYXRvcl9wcmVjZWRlbmNl>→运算符优先级与结合性-CPP官方文档←</span></p><p><ins><strong>运算符的优先级</strong></ins></p><ul><li><code>()</code>的优先级最高</li><li><code>[]</code>，<code>++</code>和<code>--</code>与其同级</li><li><code>[]</code>优先级高于<code>*</code></li></ul><p><ins><strong>运算符的结合性</strong></ins></p><p>C语言中的运算符结合性是由C语言标准规定的，因此在不同的编译器中，基本的结合性应该是一致的。</p><p>赋值运算符中，<code>=</code>的结合性是<strong>从右到左</strong>，即将右边的值赋给左边的变量。</p><p>逗号表达式中，<code>,</code>的结合性是<strong>从左到右</strong>，因此执行顺序才会是从左到右执行。</p><p>算数运算符的结合性是从左到右，先乘除后加减。</p><p><ins><strong>是否控制求值顺序</strong></ins></p><figure class="highlight c"><figcaption data-lang=c><span>错误案例</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 错误写法案例1，无法猜测计算顺序</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> a <span class="token operator">=</span> c <span class="token operator">+</span> <span class="token operator">--</span>c<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment">// 错误写法案例2，逻辑无法猜测</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token comment">// 错误写法案例3，各编译器的结果不唯一</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight cpp"><figcaption data-lang=C++><span>隐式错误案例</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Solution</span> </pre></td></tr><tr><td data-num=2></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums1<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums2<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token operator">--</span>m<span class="token punctuation">,</span><span class="token operator">--</span>n<span class="token punctuation">;</span>m <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> n <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=7></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre>            <span class="token keyword">if</span><span class="token punctuation">(</span>nums1<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">></span> nums2<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=9></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=10></td><td><pre>                nums1<span class="token punctuation">[</span>m <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums1<span class="token punctuation">[</span>m<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 依据结合性，此时左边的m已改变</span></pre></td></tr><tr><td data-num=11></td><td><pre>                <span class="token comment">//nums1[m-- + n + 1] = nums1[m];// 依据结合性改写，不推荐</span></pre></td></tr><tr><td data-num=12></td><td><pre>                <span class="token comment">//nums1[m + n + 1] = nums1[m],--m;// 改写后，推荐</span></pre></td></tr><tr><td data-num=13></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=14></td><td><pre>            <span class="token keyword">else</span></pre></td></tr><tr><td data-num=15></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=16></td><td><pre>                nums1<span class="token punctuation">[</span>m <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums2<span class="token punctuation">[</span>n<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 依据结合性，此时左边的n已改变</span></pre></td></tr><tr><td data-num=17></td><td><pre>                <span class="token comment">//nums1[m + n-- + 1] = nums2[n];// 依据结合性改写，不推荐</span></pre></td></tr><tr><td data-num=18></td><td><pre>                <span class="token comment">//nums1[m + n + 1] = nums2[n],--n;// 改写后，推荐</span></pre></td></tr><tr><td data-num=19></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=20></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=21></td><td><pre>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>n <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token operator">--</span>n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> nums1<span class="token punctuation">[</span>m <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums2<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=24></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token comment"> * nums1[m + n + 1] = nums1[m--]中，根据赋值运算符的结合性从右到左执行，</span></pre></td></tr><tr><td data-num=26></td><td><pre><span class="token comment"> * nums1通过下标索引运算符索引m位置后，后置--运算符便会执行，</span></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token comment"> * 此时，当执行顺序到左值时，n已经减少了数值1了，因此会产生逻辑错误(隐式错误)</span></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token comment">**/</span></pre></td></tr></table></figure><h3 id=类型转换><a class=anchor href=#类型转换>#</a> 类型转换</h3><p>C语言的整型算术运算总是至少以缺省整型类型的精度来进行的。</p><p>为了获得这个精度，表达式中字符和短整型的操作数在使用之前会被转换为普通整型，这种转换称为<strong>整型提升</strong>。</p><details class=info><summary>整型提升的意义(为什么要整型提升？)</summary><div><p>表达式的整型运算要在CPU的相应运算器件内执行。CPU内整型运算器(ALU)的操作数的字节长度一般就是int类型的字节长度，同时也是CPU的通用寄存器的长度。因此，即使是两个char类型的相加，在CPU上执行时，也要先转换为CPU内整型操作数的标准长度。<br>通用CPU(general-purpose CPU)难以直接实现两个8比特字节直接相加的运算(虽然机器指令中可能有这种字节相加指令)。所以，表达式中各种长度可能小于int类型字节长度的整型值，都必须先转换为int类型或unsigned int类型，然后才能送入CPU中执行运算操作。</p></div></details><h4 id=强制类型转换显示类型转换><a class=anchor href=#强制类型转换显示类型转换>#</a> 强制类型转换(显示类型转换)</h4><p>语法 - <code>(类型)表达式</code></p><h4 id=算术转换自动类型转换><a class=anchor href=#算术转换自动类型转换>#</a> 算术转换(自动类型转换)</h4><p>下面的层次体系称为<strong>寻常算术转换</strong>。</p><p><code>int</code> → <code>unsigned int</code> → <code>long int</code> → <code>unsigned long int</code> → <code>float</code> → <code>double</code></p><p><strong>整形从低到高</strong> - <code>char</code> → <code>short</code> → <code>int</code> → <code>long</code></p><p><strong>浮点型从低到高</strong> - <code>float</code> → <code>double</code></p><p>如果两个操作数中其中一个操作数的类型在上面的排名低于另一个，那首先要转换成另一个排名高于它的操作数的类型。如果某个运算符的各个操作数属于不同类型，那么其各操作数的类型都会转换成其中一个操作数的类型，否则操作就无法进行。</p><p><strong>规则</strong></p><ul><li>如果一个表达式中出现了不同数据类型操作数的混合运算，较低类型将自动向较高类型转换</li><li>当表达式中含有浮点型操作数时，所有操作数都将转换为浮点型</li><li>赋值运算的右值类型与左值类型不一致时，将右值类型提升或降低为左值类型</li><li>赋值运算右值超出了左值类型的表示范围，把右值截断后赋给左值</li></ul><h2 id=sizeof关键字><a class=anchor href=#sizeof关键字>#</a> sizeof关键字</h2><p>sizeof是C语言的<strong>语法关键字</strong>，同时也是一个<strong>编译时运算符</strong>。用于求取字节长度，传入参数通常是一个数据类型或一个表达式，返回的值的类型是<code>size_t</code>，用法</p><ul><li><code>sizeof(变量类型或变量名)</code></li><li><code>sizeof 变量类型</code></li></ul><p>sizeof关键字的结果在编译时期计算得到，因此不能用来得到动态分配的内存大小，如果在sizeof关键字中传入一个表达式，该表达式只会在编译期间执行，执行后将返回的数据交给sizeof来判断数据类型，当程序实际运行时，该表达式并不会执行。例如<code>sizeof(a = 10)</code>，编译期间会先模拟将10赋值给变量a，再将变量a交给sizeof判断大小，之后返回a的字节大小，但当程序实际运行时变量a并不会被赋值为10。</p><details class=info><summary>sizeof与整型提升？</summary><div><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token comment">// 未初始化的全局变量默认为0</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token operator">--</span>i<span class="token punctuation">;</span><span class="token comment">// -1</span></pre></td></tr><tr><td data-num=7></td><td><pre>    </pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token comment">// 此处i被提升为无符号类型来与sizeof(i)进行比较</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token comment">// -1变为无符号类型后其补码会被当作原码，即`-1`的补码的十进制大于sizeof(int)</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">></span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </pre></td></tr><tr><td data-num=11></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">">\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 返回 </span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=13></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&lt;\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=15></td><td><pre>   </pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></div></details><h2 id=scanf标准输入流库函数><a class=anchor href=#scanf标准输入流库函数>#</a> scanf()标准输入流库函数</h2><p>scanf是C语言提供的，用于输入数据到变量中。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">int</span> num1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>num1<span class="token punctuation">,</span><span class="token operator">&amp;</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><code>&amp;</code> - 取地址符号</p><p>例如<code>int age = 20;</code>，变量age具有4个字节的地址空间，这四个字节是如何申请的？系统在内存中找四个字节的空闲空间，并给上编号，这个编号便是计算机内存中的<code>地址</code>。</p><p>Visual Studio的<code>scanf_c</code>函数不是标准C语言提供的，而是VS编译器提供的，使用后无法在其他编译器上编译，用此函数编写的代码并不具有跨平台性/可移植性。</p><h2 id=数组><a class=anchor href=#数组>#</a> 数组</h2><p>C标准中数组的定义 - <code>type_t arr_name[const_n];</code></p><ul><li><code>type_t</code> - 是指数组的元素类型</li><li><code>const_n</code> - 是一个常量表达式，用来指定数组的大小</li></ul><p>数组是一组相同类型元素的集合，大小固定，下标默认从0开始，使用下标即可访问数组元素。</p><details class=info><summary>数组下标可以为负数吗？</summary><div><p>可以，数组的下标引用符相当于<code>*(arr + i)</code>，这里的i为负数，即地址向前偏移一位后再取值。</p></div></details><h3 id=一维数组的创建和初始化><a class=anchor href=#一维数组的创建和初始化>#</a> 一维数组的创建和初始化</h3><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 一维数组的创建例子</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">int</span> arr1<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment">/**********************************************************/</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment">// 错误创建案例1，变量不是常量表达式</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">int</span> arr3<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment">// 错误创建案例2，常变量也不是常量表达式</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> n2 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">int</span> arr4<span class="token punctuation">[</span>n2<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment">/**********************************************************/</span></pre></td></tr><tr><td data-num=14></td><td><pre></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token comment">// 一维数组初始化例子</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// 完全初始化</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">int</span> arr1<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// 不完全初始化，剩下的元素默认初始化为0</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token keyword">int</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// 一维数组可省略常量表达式，会自动获取长度</span></pre></td></tr><tr><td data-num=19></td><td><pre></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token keyword">int</span> arr_num <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 求取数组大小</span></pre></td></tr><tr><td data-num=21></td><td><pre></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token comment">// 通过下标引用运算符([])访问数组内的数据</span></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=24></td><td><pre><span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> arr_num<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c\n"</span><span class="token punctuation">,</span>arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=25></td><td><pre></pre></td></tr><tr><td data-num=26></td><td><pre><span class="token comment">// arr3字符串(字符数组)等于arr4字符串</span></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token comment">// arr3为不完全初始化，剩下的元素默认初始化为0</span></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token comment">// arr4为字符数组，最后面会默认有一个'\0'字符</span></pre></td></tr><tr><td data-num=29></td><td><pre><span class="token keyword">char</span> arr3<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token char">'a'</span><span class="token punctuation">,</span><span class="token char">'b'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=30></td><td><pre><span class="token keyword">char</span> arr4<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"ab"</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id=二维数组的创建和初始化><a class=anchor href=#二维数组的创建和初始化>#</a> 二维数组的创建和初始化</h3><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 二维数组的创建例子</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">int</span> arr1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment">// 二维数组初始化，行可以省略，唯独列不能省略</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment">// 不完全初始化，剩下的默认为0</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">int</span> arr3<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// 第一行为&#123;1,2,3,4&#125;</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">int</span> arr4<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">int</span> arr5<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">/***********************************************************/</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment">// 二维数组的成员访问</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=16></td><td><pre></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=20></td><td><pre>    </pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token operator">++</span>i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=24></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=数组作为函数参数><a class=anchor href=#数组作为函数参数>#</a> 数组作为函数参数</h3><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 以下两种都相当于int* nums</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> nums<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">void</span> <span class="token function">sort2</span><span class="token punctuation">(</span><span class="token keyword">int</span> nums<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">6</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token function">sort2</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">int</span> arr2<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token function">sort</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token function">sort2</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token keyword">int</span> arr3<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token comment">// 错误案例</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">void</span> <span class="token function">markerDown</span><span class="token punctuation">(</span><span class="token keyword">int</span> nums<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token comment">// 正确写法</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">void</span> <span class="token function">markerDown</span><span class="token punctuation">(</span><span class="token keyword">int</span> nums<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><details class=info><summary>指针与数组？</summary><div><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 注意下面的分析</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 这里的arr为指针，8</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token class-name">size_t</span> all <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token class-name">size_t</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> all<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>arr<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token comment">// 1 2</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=9></td><td><pre></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">void</span> <span class="token function">sort2</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 这里的arr为指针，8</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token class-name">size_t</span> all <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token class-name">size_t</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> all<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>arr<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token comment">// 1 2</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=17></td><td><pre>   </pre></td></tr><tr><td data-num=18></td><td><pre></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 44</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 4</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token function">sort2</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=25></td><td><pre></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></div></details><h2 id=分支和循环><a class=anchor href=#分支和循环>#</a> 分支和循环</h2><p>分支和循环语句的判断条件返回的是整数值，如果条件表达式的结果为非零值，则被视为真；如果条件表达式的结果为零值，则被视为假。</p><h3 id=if-else分支语句><a class=anchor href=#if-else分支语句>#</a> if-else分支语句</h3><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token punctuation">;</span><span class="token comment">// 只写一个分号也是语句，即表示空语句</span></pre></td></tr><tr><td data-num=7></td><td><pre>    </pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token comment">// if-else选择语句</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"2\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token comment">// 一个&#123;&#125;就是一个代码块</span></pre></td></tr><tr><td data-num=12></td><td><pre>    </pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token comment">// 多分支if-else选择语句</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token comment">// 当代码块内只有一条语句，代码块可省略</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"3\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"4\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=17></td><td><pre>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"5\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=18></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"6\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=19></td><td><pre>    </pre></td></tr><tr><td data-num=20></td><td><pre>    <span class="token comment">// if-else匹配规则 - 最近匹配原则</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token comment">/*******************************************/</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token comment">// 下面问题也称`悬空else`，造成阅读困难</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=24></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">==</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=25></td><td><pre>            	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"12\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token keyword">else</span></pre></td></tr><tr><td data-num=27></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"xx\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=28></td><td><pre>    </pre></td></tr><tr><td data-num=29></td><td><pre>    <span class="token comment">// 按照匹配规则，上面代码等价于</span></pre></td></tr><tr><td data-num=30></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=31></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">==</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=32></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"12\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=33></td><td><pre>        <span class="token keyword">else</span></pre></td></tr><tr><td data-num=34></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"xx\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=35></td><td><pre>    <span class="token comment">/*******************************************/</span></pre></td></tr><tr><td data-num=36></td><td><pre>    </pre></td></tr><tr><td data-num=37></td><td><pre>    <span class="token comment">// 对于上面的匹配规则代码，可通过限制代码块&#123;&#125;来优化可读性</span></pre></td></tr><tr><td data-num=38></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=39></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=40></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"12\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=41></td><td><pre>        <span class="token keyword">else</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"xx\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=42></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=43></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=44></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=switch分支语句><a class=anchor href=#switch分支语句>#</a> switch分支语句</h3><p>用于多分支语句，允许嵌套使用，即switch语句中的case语句也可以有switch语句。</p><p>case语句的位置可以任意位置摆放，default语句可以在任意位置摆放，也可不用，但通常放在<code>switch</code>语句的末尾。</p><p><code>break</code>关键字的作用是在执行完一个 <code>case</code> 分支后终止 <code>switch</code> 语句的执行，防止进入下一个 <code>case</code> 分支或 <code>default</code> 分支，如果switch语句中的case语句不包含break关键字，则继续执行下一个case语句执行。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    </pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token comment">// 参数需要是`整型`表达式</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token keyword">switch</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=11></td><td><pre>        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span></pre></td></tr><tr><td data-num=12></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=13></td><td><pre>            <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre>        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span></pre></td></tr><tr><td data-num=15></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"2\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=16></td><td><pre>            <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=17></td><td><pre>        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span></pre></td></tr><tr><td data-num=18></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"3\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=19></td><td><pre>            <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=20></td><td><pre>        <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span></pre></td></tr><tr><td data-num=21></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"4\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=22></td><td><pre>            <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=23></td><td><pre>        <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span></pre></td></tr><tr><td data-num=24></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"5\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=25></td><td><pre>            <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=26></td><td><pre>        <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span></pre></td></tr><tr><td data-num=27></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"6\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=28></td><td><pre>            <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=29></td><td><pre>        <span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span></pre></td></tr><tr><td data-num=30></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"7\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=31></td><td><pre>            <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=32></td><td><pre>        <span class="token keyword">default</span><span class="token operator">:</span></pre></td></tr><tr><td data-num=33></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"error\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=34></td><td><pre>            <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=35></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=36></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=37></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=while循环><a class=anchor href=#while循环>#</a> while循环</h3><p>while循环的参数为表达式，表达式为真则执行，表达式为假则不执行。</p><p><code>continue</code>关键字 - 跳过代码块内continue语句所在位置之后的全部代码，执行下一次循环</p><p><code>break</code>关键字 - 直接终止循环</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token comment">// while循环</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">while</span><span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=9></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>        <span class="token operator">++</span>n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    </pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token comment">// 死循环，条件一直为真</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=15></td><td><pre>    </pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token comment">// 死循环，达不到终点</span></pre></td></tr><tr><td data-num=17></td><td><pre>    <span class="token keyword">while</span><span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=18></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=19></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=20></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=21></td><td><pre>        <span class="token operator">++</span>n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=24></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang=c><span>读取输入的字符并打印在屏幕上</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> ch <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token comment">// 输入Ctrl c退出</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token comment">// EOF - End Of File，即文件结束标志，值为`-1`</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">EOF</span> <span class="token operator">!=</span> <span class="token punctuation">(</span>ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=9></td><td><pre>        <span class="token function">putchar</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><code>scanf</code>与<code>getchar</code>函数为输入库函数，会从<code>输入缓冲区</code>中读取数据。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">char</span> password<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    </pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token comment">/**********************************************/</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token comment">// 出错案例</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=11></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"password:>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre>        <span class="token comment">// 检查输入缓冲区，为空，等待输入</span></pre></td></tr><tr><td data-num=13></td><td><pre>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 输入之后，scanf会读取一部分数据</span></pre></td></tr><tr><td data-num=14></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请确认(Y/N):>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=15></td><td><pre>        ret <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 检查输入缓冲区，读取到`回车`(\n)，其值为0</span></pre></td></tr><tr><td data-num=16></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token char">'Y'</span> <span class="token operator">==</span> ret<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"确认成功\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token comment">// 数值0不等于字符`Y`</span></pre></td></tr><tr><td data-num=17></td><td><pre>        <span class="token keyword">else</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"放弃确认\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=18></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token comment">/**********************************************/</span></pre></td></tr><tr><td data-num=20></td><td><pre>    </pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"password:>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 通过使用getchar将回车读取，即可解决</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请确认(Y/N):>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=25></td><td><pre>    ret <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token char">'Y'</span> <span class="token operator">==</span> ret<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"确认成功\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"放弃确认\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=28></td><td><pre>    </pre></td></tr><tr><td data-num=29></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=30></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=for循环><a class=anchor href=#for循环>#</a> for循环</h3><figure class="highlight tex"><figcaption data-lang=TeX></figcaption><table><tr><td data-num=1></td><td><pre>for(表达式1;表达式2;表达式3)</pre></td></tr><tr><td data-num=2></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    循环体语句;</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li><p>表达式1为<strong>初始化部分</strong>，用于<strong>初始化</strong>循环使用的变量(<strong>不是声明变量</strong>)，可初始化多个变量，以逗号隔开。</p></li><li><p>表达式2为<strong>条件判断部分</strong>，用于判断循环什么时候终止，为<strong>真</strong>时<strong>继续执行</strong>，为<strong>假</strong>时<strong>不执行</strong>。</p></li><li><p>表达式3为<strong>调整部分</strong>，用于循环条件的调整，可以调整多个变量，以逗号隔开。</p></li></ul><p>三个表达式都可以被省略，但判断部分被省略时判断条件就会一直为真。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">11</span><span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    </pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token comment">// 死循环，一直为真</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 空语句</span></pre></td></tr><tr><td data-num=10></td><td><pre>    </pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token comment">// 执行零次，判断条件i=0，</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token comment">// 为赋值语句，i一直保持值为0，为假即不执行</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token operator">++</span>i<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=do-while循环><a class=anchor href=#do-while循环>#</a> do-while循环</h3><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    循环体语句<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#125;</span><span class="token keyword">while</span><span class="token punctuation">(</span>表达式<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment">// 注意结尾的分号</span></pre></td></tr></table></figure><p>先执行一次，再以判断表达式条件的方式来确定是否继续执行。</p><p>正常条件下，do-while循环与while循环的执行次数是一样的，但do-while循环至少会执行一次。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    </pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">do</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=9></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>        <span class="token operator">++</span>i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=goto语句><a class=anchor href=#goto语句>#</a> goto语句</h3><p>C语言提供的可随意跳转的标记跳转语句，可利用其他语句来代替goto语句。</p><p>但在某些场合下goto语句还是用的着的，最常见的用法就是终止程序在某些深度嵌套的结构的处理过程，</p><p>例如一次跳出多层循环，但通常不被推荐，因为它会导致代码的可读性和维护性降低。在这种情况下，break关键字是做不到的，break关键字只能做到从最内层循环退出到上一层的循环。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=9></td><td><pre>        <span class="token keyword">for</span><span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num=10></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=11></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"(%d, %d)\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre>            <span class="token comment">// 使用goto语句跳出两层循环</span></pre></td></tr><tr><td data-num=14></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">goto</span> endLoop<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=15></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=17></td><td><pre></pre></td></tr><tr><td data-num=18></td><td><pre>endLoop<span class="token operator">:</span></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Loop ended.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=20></td><td><pre></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id=关键字><a class=anchor href=#关键字>#</a> 关键字</h2><p>关键字不能作为变量名。</p><p><code>define</code>不是关键字，而是一种预处理指令。</p><p>在没有循环的条件下，<code>switch</code>语句中其本身可使用的关键字有break, default, case等关键字，唯独不包含continue。</p><table><thead><tr><th style=text-align:center>char</th><th style=text-align:center>double</th><th style=text-align:center>float</th><th style=text-align:center>int</th><th style=text-align:center>long</th><th style=text-align:center>short</th><th style=text-align:center>signed</th><th style=text-align:center>unsigned</th><th style=text-align:center>void</th></tr></thead><tbody><tr><td style=text-align:center>if</td><td style=text-align:center>else</td><td style=text-align:center>for</td><td style=text-align:center>do</td><td style=text-align:center>while</td><td style=text-align:center>break</td><td style=text-align:center>continue</td><td style=text-align:center>return</td><td style=text-align:center>goto</td></tr><tr><td style=text-align:center>const</td><td style=text-align:center>sizeof</td><td style=text-align:center>switch</td><td style=text-align:center>case</td><td style=text-align:center>default</td><td style=text-align:center>auto</td><td style=text-align:center>typedef</td><td style=text-align:center>extern</td><td style=text-align:center>static</td></tr><tr><td style=text-align:center>enum</td><td style=text-align:center>struct</td><td style=text-align:center>union</td><td style=text-align:center>volatile</td><td style=text-align:center>register</td><td style=text-align:center></td><td style=text-align:center></td><td style=text-align:center></td><td style=text-align:center></td></tr></tbody></table><figure class="highlight txt"><figcaption data-lang=txt></figcaption><table><tr><td data-num=1></td><td><pre>计算机存储数据，一般可以存储在</pre></td></tr><tr><td data-num=2></td><td><pre>    /   \       ^</pre></td></tr><tr><td data-num=3></td><td><pre>   /寄存器\     |</pre></td></tr><tr><td data-num=4></td><td><pre>  /高速缓存\    |</pre></td></tr><tr><td data-num=5></td><td><pre> /  闪存   \    | 4/8/16G</pre></td></tr><tr><td data-num=6></td><td><pre>/   硬盘    \   | 500G</pre></td></tr><tr><td data-num=7></td><td><pre>访问速度由底部到顶部越来越快，但可使用的空间越来越小。</pre></td></tr></table></figure><p>CPU是中央处理器，当计算机需要进行运算的时候，CPU需要从内存中获取数据。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">register</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">// `建议`把a定义成寄存器变量，但并不一定成功</span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">signed</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">// 定义有符号数字，相当于int b = 10</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">unsigned</span> <span class="token keyword">int</span> b2 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">// 定义无符号数字，值为正整数</span></pre></td></tr></table></figure><details class=info><summary>auto关键字？</summary><div><p>auto关键字用于指示编译器将一个变量声明为自动变量(automatic variable)。</p><p>在函数内定义变量时，如果该变量没有被声明为其他储存类型，则是自动变量，也就是说，只有变量类型和变量名的变量都是自动变量。这里的其他储存类型有，静态类型变量(static )、寄存器类型变量(register)和外部类型变量(extern)。</p></div></details><h3 id=static关键字><a class=anchor href=#static关键字>#</a> static关键字</h3><p>static修饰的变量只初始化一次。</p><p>当同时编译多个文件时，所有未加static修饰符的全局变量和函数都具有全局可见性。</p><ul><li><p>当static修饰<strong>局部变量</strong> - 延长局部变量的生命周期</p></li><li><p>当static修饰<strong>全局变量</strong> - 限制全局变量的作用域，让其只能在自己所在的源文件中被使用</p></li><li><p>当static修饰<strong>函数</strong> - 改变了函数的链接属性，不能被除自身所在的源文件外的其他文件访问。当函数声明处使用了<code>static</code>关键字，函数定义处就不用再添加了</p></li></ul><p>如果在当前作用域内的全局变量或局部变量没有被初始化，则会被默认初始化为0。</p><details class=info><summary>static关键字的作用？</summary><div><ul><li>隐藏</li><li>提升变量内容的持久性</li><li>默认初始化为0</li></ul></div></details><details class=info><summary>为什么static修饰局部变量只初始化一次？</summary><div><p>静态变量的初始化是在程序开始运行时进行的，通常在<code>main</code>函数执行之前。初始化完成后，变量的值会被保留在内存中，直到程序结束。</p><p>静态变量存储在数据段(Data Segment)中，这部分内存在程序运行期间不会被释放或重新分配，因此变量的值可以持续存在。</p><p>如果每次函数调用或程序运行时都重新初始化静态变量，可能会导致不必要的资源浪费和潜在的错误。通过只初始化一次，可以确保变量的值在程序的整个生命周期内保持一致。</p></div></details><h3 id=extern关键字><a class=anchor href=#extern关键字>#</a> extern关键字</h3><p>extern修饰符用在变量或者函数的声明前，用来说明此变量/函数是在别处定义的，要在此处引用。</p><ul><li>变量 - <code>extern int val;</code></li><li>函数 - <code>extern void externalFunction();</code></li></ul><p>由extern声明的变量/函数，其作用域受限于extern声明的位置，如果是在main函数中进行声明的，则只能在main函数中调用，在其它函数中不能调用。</p><p>倘若要调用其它文件中的函数和变量，那只需把该文件用<code>#include</code>包含进来即可，为什么要用extern呢？因为用extern会加速程序的编译过程，能节省时间。</p><h3 id=其他关键字><a class=anchor href=#其他关键字>#</a> 其他关键字</h3><details class=info><summary>register关键字？</summary><div><p>在C语言中，<code>register</code>关键字是用于向编译器建议将某个局部变量存储在寄存器中，以便加快对该变量的访问速度，但实际上是否存储在寄存器中取决于编译器的实现。现代编译器通常会忽略<code>register</code>关键字，因为编译器通常能够根据代码的上下文和优化算法，更好地决定哪些变量应该存储在寄存器中。</p><p><code>register</code>关键字只能用于自动变量(局部变量)，不能用于全局变量或静态变量，因为全局变量和静态变量在程序启动时已经被初始化，并且它们的生命周期可能超出函数调用的范围。</p><p>在<code>C++</code>中，也存在<code>register</code>关键字，与C语言中的用法相似，而在现代<code>C++</code>中，编译器同样会根据上下文进行优化，而忽略<code>register</code>关键字。在<code>C++</code>中，更推荐使用编译器自动进行优化，而不是显式地使用<code>register</code>关键字。</p></div></details><details class=info><summary>volatile关键字？</summary><div><p>volatile关键字是一种类型修饰符，用它声明的类型变量表示可以被某些编译器中未知的因素更改，比如，操作系统、硬件或者其它线程等。</p><p>当遇到该关键字声明的变量时，编译器<strong>不会</strong>对访问该变量的代码再进行优化，从而可以稳定地对特殊地址的访问。当使用volatile声明的变量的值的时候，系统总是重新从它所在的内存读取数据并且读取的数据立刻被保存，即使它之前的指令已经从该处读取过数据。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">volatile</span> <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">int</span> a <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token comment">// ...</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">// 其他代码，并未明确告诉编译器，对i进行过操作</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">int</span> b <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr></table></figure><p><ins><strong>哪些情况下使用volatile关键字</strong></ins></p><ul><li>并行设备的硬件寄存器通常需要使用<code>volatile</code>关键字进行存储器映射，因为这些寄存器的值可能会随时被外设硬件修改。当声明指向设备寄存器的指针时，必须使用<code>volatile</code>关键字来告诉编译器不要对存储在该地址的数据进行任何假设。</li><li>当中断服务程序修改的变量被其他程序检测时，使用<code>volatile</code>关键字可以提醒编译器，该变量的值随时可能改变。之后，在编译后的程序中，每次存取该变量时都会直接从其地址读取数据。如果没有使用<code>volatile</code>关键字，编译器可能会优化读取和存储操作，暂时使用寄存器中的值，导致如果该变量被其他程序更新，可能出现数据不一致的情况。</li><li>在多线程应用中，被多个任务共享的变量</li></ul></div></details><h2 id=define预处理指令定义常量和宏><a class=anchor href=#define预处理指令定义常量和宏>#</a> #define(预处理指令)定义常量和宏</h2><p><code>#define</code>宏在预处理阶段展开，不检查参数类型，仅仅是代码展开。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">// 定义标识符常量</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX</span> <span class="token expression"><span class="token number">1000</span></span></span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">// 定义宏</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">MAX</span><span class="token expression"><span class="token punctuation">(</span>X<span class="token punctuation">,</span>Y<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token punctuation">(</span>Y<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>X<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>Y<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token keyword">int</span> a <span class="token operator">=</span> MAX<span class="token punctuation">,</span>b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token keyword">int</span> _max <span class="token operator">=</span> <span class="token function">MAX</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    </pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>_max<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><details class=info><summary>typedef与#define的区别？</summary><div><p><code>typedef</code> - 用于创建类型别名</p><ul><li><strong>作用域</strong> - <code>typedef</code>创建的类型别名具有作用域，只在定义它的块内或在整个类中可见</li><li><strong>类型安全</strong> - <code>typedef</code>提供类型安全性，因为它是在编译时处理的，会进行类型检查</li><li><strong>不能用于宏定义</strong> - <code>typedef</code>不能用于创建常量或宏</li></ul><p><code>#define</code> - 预处理指令</p><ul><li><strong>作用域</strong> - <code>#define</code>创建的宏定义在定义之后的整个文件中都可见，可能导致命名冲突</li><li><strong>类型安全</strong> - <code>#define</code>不提供类型安全性，因为它是在预处理阶段处理的，只是进行简单的文本替换</li><li><strong>可用于宏定义</strong> - <code>#define</code>可用于创建常量、宏以及一些代码片段的替代</li></ul></div></details><h2 id=函数><a class=anchor href=#函数>#</a> 函数</h2><h3 id=概念><a class=anchor href=#概念>#</a> 概念</h3><p>C语言中函数分为<strong>库函数</strong>和<strong>自定义函数</strong>。</p><p>库函数由C语言本身提供，是将程序开发中频繁使用的函数统一，以此避免重复构造时间，以提高开发效率。</p><h3 id=自定义函数><a class=anchor href=#自定义函数>#</a> 自定义函数</h3><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre>ret_type <span class="token function">fun_name</span><span class="token punctuation">(</span>para1<span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    statement<span class="token punctuation">;</span><span class="token comment">// 函数内部语句</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment">// ret_type - 返回类型</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment">// fun_name - 函数名</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token comment">// para1 - 函数参数</span></pre></td></tr></table></figure><p>函数需要在其被调用之前就已声明或已创建。</p><figure class="highlight c"><figcaption data-lang=c><span>示例</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token comment">// 传值传入</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">// 函数定义中的参数称为`形参`，形参相当于对实参的一份拷贝</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">int</span> <span class="token function">getmax</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">></span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> a<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">return</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=10></td><td><pre></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">// 函数参数里的变量a和b为新创建的值，不会影响到传入的变量</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">int</span> <span class="token function">swap_val</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token comment">// 相当于拷贝的数据在进行值交换，本体不受影响</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token keyword">int</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=16></td><td><pre>    a <span class="token operator">=</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=17></td><td><pre>    b <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=19></td><td><pre></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token comment">// 传址传入</span></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token comment">// 形参相当于对实参地址的一份拷贝，</span></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token comment">// 只不过，通过地址操作来交换两个内存空间的值，会对实参产生影响</span></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token keyword">int</span> <span class="token function">swap_addr</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">*</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=24></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=25></td><td><pre>    <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token operator">*</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token operator">*</span>b <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=29></td><td><pre></pre></td></tr><tr><td data-num=30></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=31></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=32></td><td><pre>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=33></td><td><pre>    <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token function">getmax</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=34></td><td><pre>    </pre></td></tr><tr><td data-num=35></td><td><pre>    <span class="token comment">// 使用函数时，传入的变量称为`实参`</span></pre></td></tr><tr><td data-num=36></td><td><pre>    <span class="token function">swap_val</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 传值，无效的值替换</span></pre></td></tr><tr><td data-num=37></td><td><pre>    <span class="token function">swap_addr</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 传址，有效的值替换</span></pre></td></tr><tr><td data-num=38></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=39></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>涉及问题</strong></p><ul><li>值传递与传址传递(引用传递)的区别？</li></ul><h3 id=函数的嵌套调用><a class=anchor href=#函数的嵌套调用>#</a> 函数的嵌套调用</h3><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">swap_addr</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">*</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token operator">*</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token operator">*</span>b <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=9></td><td><pre></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">int</span> <span class="token function">getmax</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token function">swap_addr</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">></span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> a<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token keyword">return</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=16></td><td><pre></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=20></td><td><pre>    <span class="token comment">// 此处调用了getmax函数，该函数中又调用了swap_addr函数</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token function">getmax</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=22></td><td><pre></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=24></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=函数的链式访问><a class=anchor href=#函数的链式访问>#</a> 函数的链式访问</h3><p>把一个函数的返回值作为另一个函数的参数。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">"xxxx"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    </pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token comment">// 非链式写法</span></pre></td></tr><tr><td data-num=9></td><td><pre>    len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    </pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token comment">// 链式写法</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token comment">// printf函数会返回传入值的个数，以多少位来算</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token comment">// 结果为4321</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=函数的递归调用><a class=anchor href=#函数的递归调用>#</a> 函数的递归调用</h3><p><strong>递归的两个必要条件</strong></p><ul><li><p>存在限制条件，当满足这个限制条件的时候，递归便不再继续</p></li><li><p>每次递归调用之后越来越接近这个限制条件</p></li></ul><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">void</span> <span class="token function">printnum</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">></span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printnum</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>n <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    </pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 输入1234</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token function">printnum</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 依次输出1234</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id=数据在内存中的存储><a class=anchor href=#数据在内存中的存储>#</a> 数据在内存中的存储</h2><h3 id=进制权位><a class=anchor href=#进制权位>#</a> 进制权位</h3><p>一个<strong>字节</strong>(byte)等于8个<strong>比特位</strong>(bit)的大小，<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><msup><mn>2</mn><mn>10</mn></msup></mstyle></mrow><annotation encoding=application/x-tex>\small 2^{10}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.713364em;vertical-align:0></span><span class="mord sizing reset-size6 size5"><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.7926266666666666em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span> = 1024</p><ul><li><p>1byte = 8bit</p></li><li><p>1kb = 1024byte</p></li><li><p>1mb = 1024kb</p></li><li><p>1gb = 1024mb</p></li><li><p>1tb = 1024gb</p></li><li><p>1pb = 1024tb</p></li></ul><p><ins><strong>权位运算</strong></ins></p><p>权位从最低位开始算，权值从零开始，每进一位加一，即[<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mtext>权位值</mtext><mo>∗</mo><msup><mtext>多少进制</mtext><mtext>权值</mtext></msup></mstyle></mrow><annotation encoding=application/x-tex>\small \text{权位值} * \text{多少进制}^{\text{权值}}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.614997em;vertical-align:0></span><span class="mord text sizing reset-size6 size5"><span class="mord cjk_fallback">权位值</span></span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">∗</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.736698em;vertical-align:0></span><span class="mord sizing reset-size6 size5"><span class="mord text"><span class="mord cjk_fallback">多少进制</span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.8185533333333332em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">权值</span></span></span></span></span></span></span></span></span></span></span></span></span>]。</p><p>权值为幂，权值的底数为当前数的进制类型。</p><p>123 - 十进制数字</p><p>加权计算过程 -<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mn>1</mn><mo>∗</mo><mn>1</mn><msup><mn>0</mn><mn>2</mn></msup><mo>+</mo><mn>2</mn><mo>∗</mo><mn>1</mn><msup><mn>0</mn><mn>1</mn></msup><mo>+</mo><mn>3</mn><mo>∗</mo><mn>1</mn><msup><mn>0</mn><mn>0</mn></msup></mstyle></mrow><annotation encoding=application/x-tex>\small 1 * 10^2 + 2 * 10^1 + 3 * 10^0</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">1</span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">∗</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.788361em;vertical-align:-.07499700000000001em></span><span class="mord sizing reset-size6 size5">1</span><span class="mord sizing reset-size6 size5"><span class=mord>0</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.7926266666666666em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">+</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">2</span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">∗</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.788361em;vertical-align:-.07499700000000001em></span><span class="mord sizing reset-size6 size5">1</span><span class="mord sizing reset-size6 size5"><span class=mord>0</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.7926266666666666em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">+</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">3</span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">∗</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.713364em;vertical-align:0></span><span class="mord sizing reset-size6 size5">1</span><span class="mord sizing reset-size6 size5"><span class=mord>0</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.7926266666666666em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span> → 123</p><p>010 - 二进制 → 十进制</p><p>加权计算过程 -<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mn>0</mn><mo>∗</mo><msup><mn>2</mn><mn>2</mn></msup><mo>+</mo><mn>1</mn><mo>∗</mo><msup><mn>2</mn><mn>1</mn></msup><mo>+</mo><mn>0</mn><mo>∗</mo><msup><mn>2</mn><mn>0</mn></msup></mstyle></mrow><annotation encoding=application/x-tex>\small 0 * 2^2 + 1 * 2^1 + 0 *2^0</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">0</span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">∗</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.788361em;vertical-align:-.07499700000000001em></span><span class="mord sizing reset-size6 size5"><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.7926266666666666em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">+</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">1</span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">∗</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.788361em;vertical-align:-.07499700000000001em></span><span class="mord sizing reset-size6 size5"><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.7926266666666666em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">+</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">0</span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">∗</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.713364em;vertical-align:0></span><span class="mord sizing reset-size6 size5"><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.7926266666666666em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span> → 2</p><h3 id=原码补码反码><a class=anchor href=#原码补码反码>#</a> 原码，补码，反码</h3><p>在计算机系统内存中，数据存储形式为<strong>二进制的补码</strong>，当打印时需转换为原码。</p><p>其中，<strong>有符号</strong>类型中的正整数和<strong>无符号</strong>类型的原码、反码和补码都相同，而负数的原码、反码和补码都不相同。(规定)</p><ul><li><code>原码</code>可通过将十进制转为二进制取得</li><li><code>反码</code>可通过将原码符号位保持不变，其他位取反取得</li><li><code>补码</code>可通过将<strong>反码加一</strong>得到，或在原码中从右往左找到第一个1，将第一个1左边所有位(除符号位)按位取反取得</li></ul><figure class="highlight tex"><figcaption data-lang=TeX></figcaption><table><tr><td data-num=1></td><td><pre>-14:</pre></td></tr><tr><td data-num=2></td><td><pre>原码：10000000 00000000 00000000 00001110</pre></td></tr><tr><td data-num=3></td><td><pre>反码：11111111 11111111 11111111 11110001</pre></td></tr><tr><td data-num=4></td><td><pre>补码：11111111 11111111 11111111 11110010</pre></td></tr></table></figure><h3 id=字节序存储><a class=anchor href=#字节序存储>#</a> 字节序存储</h3><p><strong>真实十六进制数据</strong></p><p>例如数据 - <code>0x11223344</code>，<code>0x</code>表示十六进制，数据中数值的最<strong>右边</strong>为<strong>最小位</strong>，最<strong>左边</strong>为<strong>最高位</strong>。</p><p><strong>内存地址</strong></p><p>例如地址 - <code>0x00B3FEC8</code>，<code>0x</code>表示十六进制，地址的最右边为最低位(低地址)，最左边为最高位(高地址)。</p><p>地址内存中数据的存储方式有以下两种</p><ul><li><strong>大端</strong>(存储)模式，是指数据的<strong>低位</strong>保存在内存的<strong>高地址中</strong>，而数据的高位保存在内存的低地址中，起始地址是高地址</li><li><strong>小端</strong>(存储)模式，是指数据的<strong>低位</strong>保存在内存的<strong>低地址</strong>中，而数据的高位保存在内存的高地址中，起始地址是低地址</li></ul><p>在C语言中，读取地址是从最低有效字节(Least Significant Byte - LSB)的地址开始读取的。</p><p>最低有效字节的地址顺序是根据系统的字节序而定，对于整数<code>0x12345678</code>，在小端序系统中，内存中的存储顺序可能是<code>78 56 34 12</code>，最低有效字节<code>0x78</code>的地址是整数的起始地址；在大端序系统中，内存中的存储顺序可能是<code>12 34 56 78</code>，最低有效字节<code>0x78</code>的地址是整数的结束地址。</p><details class=info><summary>判断是大端还是小端？</summary><div><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">isLittleEndian</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token comment">// 联合体的所有成员共享相同的内存地址，所有成员的起始地址是相同的</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">union</span> </pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre>        <span class="token keyword">int</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre>        <span class="token comment">// 与字节序无关，数组在内存中的存储是从低地址到高地址的</span></pre></td></tr><tr><td data-num=10></td><td><pre>        <span class="token keyword">char</span> c<span class="token punctuation">[</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token punctuation">&#125;</span> test<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token comment">// 在C语言中，读取地址是从最低有效字节的地址开始读取的</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token comment">// 大端：最低有效字节的地址是整数的结束地址，即值会保存在高地址(最后一个)</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token comment">// 小端：最低有效字节的地址是整数的起始地址，即值会保存在低地址(第一个)</span></pre></td></tr><tr><td data-num=16></td><td><pre>    test<span class="token punctuation">.</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=17></td><td><pre>    <span class="token keyword">return</span> test<span class="token punctuation">.</span>c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 如果是小端序，test.c[0]存储的是最低有效字节</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=19></td><td><pre></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isLittleEndian</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"小端\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"大端\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></div></details><h3 id=由数据溢出而形成的闭环整型><a class=anchor href=#由数据溢出而形成的闭环整型>#</a> 由数据溢出而形成的闭环(整型)</h3><p>编译器通常采用算术右移。</p><figure class="highlight txt"><figcaption data-lang=txt></figcaption><table><tr><td data-num=1></td><td><pre>/*********************************************/</pre></td></tr><tr><td data-num=2></td><td><pre>整型家族(char类型存储值为其对应的`ASCII码`值)</pre></td></tr><tr><td data-num=3></td><td><pre>char(signed char)</pre></td></tr><tr><td data-num=4></td><td><pre>unsigned char</pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre>short(signed short)</pre></td></tr><tr><td data-num=7></td><td><pre>unsigned short</pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre>int(signed int)</pre></td></tr><tr><td data-num=10></td><td><pre>unsigned int</pre></td></tr><tr><td data-num=11></td><td><pre></pre></td></tr><tr><td data-num=12></td><td><pre>long(signed long)</pre></td></tr><tr><td data-num=13></td><td><pre>unsigned long</pre></td></tr><tr><td data-num=14></td><td><pre>long long</pre></td></tr><tr><td data-num=15></td><td><pre>/*********************************************/</pre></td></tr><tr><td data-num=16></td><td><pre></pre></td></tr><tr><td data-num=17></td><td><pre>char类型在内存存储中只存放1个字节即8个比特位，</pre></td></tr><tr><td data-num=18></td><td><pre>倘若char类型变量所赋予的值为整型时，</pre></td></tr><tr><td data-num=19></td><td><pre>此值在内存中所存储的字节仍为8个字节即32个比特位，</pre></td></tr><tr><td data-num=20></td><td><pre>但由于char类型被规定只能取一个字节，因此只会获取内存存储中的1个字节。</pre></td></tr><tr><td data-num=21></td><td><pre></pre></td></tr><tr><td data-num=22></td><td><pre>signed char 与 char 都是有符号类型，其数值范围为`-128 ~ 127`</pre></td></tr><tr><td data-num=23></td><td><pre>当在正数范围内时，系统内存中二进制存储范围(`区域`)，从小到大为</pre></td></tr><tr><td data-num=24></td><td><pre>-------------------------------------------------------------</pre></td></tr><tr><td data-num=25></td><td><pre>  00000000 00000000 00000000 00000000 `00000000`  0</pre></td></tr><tr><td data-num=26></td><td><pre>~ </pre></td></tr><tr><td data-num=27></td><td><pre>  00000000 00000000 00000000 00000000 `01111111`  127</pre></td></tr><tr><td data-num=28></td><td><pre>-------------------------------------------------------------</pre></td></tr><tr><td data-num=29></td><td><pre></pre></td></tr><tr><td data-num=30></td><td><pre>当在负数范围内时，系统内存中二进制存储范围(`区域`)，从小到大为</pre></td></tr><tr><td data-num=31></td><td><pre>-------------------------------------------------------------</pre></td></tr><tr><td data-num=32></td><td><pre>  11111111 11111111 11111111 11111111 `10000000`  -128(规定值)</pre></td></tr><tr><td data-num=33></td><td><pre>~ </pre></td></tr><tr><td data-num=34></td><td><pre>  11111111 11111111 11111111 11111111 `11111111`  -1</pre></td></tr><tr><td data-num=35></td><td><pre>-------------------------------------------------------------</pre></td></tr><tr><td data-num=36></td><td><pre></pre></td></tr><tr><td data-num=37></td><td><pre>当 `127 + 1` 时</pre></td></tr><tr><td data-num=38></td><td><pre>-------------------------------------------------------------</pre></td></tr><tr><td data-num=39></td><td><pre>  00000000 00000000 00000000 00000000 `01111111`  127</pre></td></tr><tr><td data-num=40></td><td><pre>+ </pre></td></tr><tr><td data-num=41></td><td><pre>  00000000 00000000 00000000 00000000 `00000001`  1</pre></td></tr><tr><td data-num=42></td><td><pre>-> </pre></td></tr><tr><td data-num=43></td><td><pre>  11111111 11111111 11111111 11111111 `10000000` -128</pre></td></tr><tr><td data-num=44></td><td><pre>-------------------------------------------------------------</pre></td></tr><tr><td data-num=45></td><td><pre>    </pre></td></tr><tr><td data-num=46></td><td><pre>当 `-1 + 1` 时</pre></td></tr><tr><td data-num=47></td><td><pre>-------------------------------------------------------------</pre></td></tr><tr><td data-num=48></td><td><pre>  11111111 11111111 11111111 11111111 `11111111` -1</pre></td></tr><tr><td data-num=49></td><td><pre>+ </pre></td></tr><tr><td data-num=50></td><td><pre>  00000000 00000000 00000000 00000000 `00000001`  1</pre></td></tr><tr><td data-num=51></td><td><pre>—> </pre></td></tr><tr><td data-num=52></td><td><pre>  00000000 00000000 00000000 00000000 `00000000`  0</pre></td></tr><tr><td data-num=53></td><td><pre>-------------------------------------------------------------</pre></td></tr><tr><td data-num=54></td><td><pre></pre></td></tr><tr><td data-num=55></td><td><pre>unsigned char 为无符号类型，</pre></td></tr><tr><td data-num=56></td><td><pre>其二进制的最高位不再充当符号位而是参与计算的实数，</pre></td></tr><tr><td data-num=57></td><td><pre>因此，其数值范围为 `0 ~ 255`</pre></td></tr><tr><td data-num=58></td><td><pre>当 `255 + 1` 时</pre></td></tr><tr><td data-num=59></td><td><pre>---------------------------------------------------</pre></td></tr><tr><td data-num=60></td><td><pre>  00000000 00000000 00000000 00000000 `11111111`  255</pre></td></tr><tr><td data-num=61></td><td><pre>+ </pre></td></tr><tr><td data-num=62></td><td><pre>  00000000 00000000 00000000 00000000 `00000001`  1</pre></td></tr><tr><td data-num=63></td><td><pre>-> </pre></td></tr><tr><td data-num=64></td><td><pre>  00000000 00000000 00000000 00000000 `00000000`  0</pre></td></tr><tr><td data-num=65></td><td><pre>---------------------------------------------------</pre></td></tr><tr><td data-num=66></td><td><pre> </pre></td></tr><tr><td data-num=67></td><td><pre>当 `0 + -1` 时</pre></td></tr><tr><td data-num=68></td><td><pre>---------------------------------------------------</pre></td></tr><tr><td data-num=69></td><td><pre>  00000000 00000000 00000000 00000000 `00000000`  0</pre></td></tr><tr><td data-num=70></td><td><pre>+ </pre></td></tr><tr><td data-num=71></td><td><pre>  00000000 00000000 00000000 00000000 `11111111` -1(相当于255)</pre></td></tr><tr><td data-num=72></td><td><pre>-> </pre></td></tr><tr><td data-num=73></td><td><pre>  00000000 00000000 00000000 00000000 `11111111`  255</pre></td></tr><tr><td data-num=74></td><td><pre>---------------------------------------------------</pre></td></tr><tr><td data-num=75></td><td><pre>其他整型家族类型跟char类型的情况同理</pre></td></tr></table></figure><h3 id=整型提升详解><a class=anchor href=#整型提升详解>#</a> 整型提升详解</h3><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token keyword">char</span> a <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">signed</span> <span class="token keyword">char</span> b <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    </pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token comment">// 整型提升为int类型</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %d, b = %d, c = %d"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">/* 过程剖析</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token comment">`-1`是整型形式，不管接收`-1`的变量是什么类型，</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment">在计算机内存中，其存储形式为`4`个字节(即`32`个比特位)的`补码`。</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token comment">-----------------------------------------</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token comment">`-1`在内存中的存储形式</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token comment">补码：11111111 11111111 11111111 11111111</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token comment">-----------------------------------------</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token comment">由于C语言的自动类型转换，</span></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token comment">`char`类型只会获取当前变量存储单元中的`1`个字节即`8`个比特位。</span></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token comment"></span></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token comment">补码</span></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token comment">---------------------</span></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token comment">char     a: 11111111</span></pre></td></tr><tr><td data-num=24></td><td><pre><span class="token comment">signed   b: 11111111</span></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token comment">unsigned c: 11111111</span></pre></td></tr><tr><td data-num=26></td><td><pre><span class="token comment">---------------------</span></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token comment">当以`%d`的形式打印时，打印的是变量`原码`的十进制，</span></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token comment">所以此处打印`a`的值为原来的 `-1`，</span></pre></td></tr><tr><td data-num=29></td><td><pre><span class="token comment">变量b与变量a两者都是同样的有符号变量，因此打印`b`的值也为 `-1`。</span></pre></td></tr><tr><td data-num=30></td><td><pre><span class="token comment"></span></pre></td></tr><tr><td data-num=31></td><td><pre><span class="token comment">`变量c`是`无符号`变量，内存中原码、反码和补码都相同，</span></pre></td></tr><tr><td data-num=32></td><td><pre><span class="token comment">并且无符号的最高位不再充当`符号位`而是参与计算的实数，</span></pre></td></tr><tr><td data-num=33></td><td><pre><span class="token comment">因此整型提升时，按规定以数字`0`进行扩充，最后打印`c`的值为 `255`。</span></pre></td></tr><tr><td data-num=34></td><td><pre><span class="token comment">------------------------------------------</span></pre></td></tr><tr><td data-num=35></td><td><pre><span class="token comment">unsigned char c</span></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token comment">补码：00000000 00000000 00000000 11111111</span></pre></td></tr><tr><td data-num=37></td><td><pre><span class="token comment">反码：00000000 00000000 00000000 11111111</span></pre></td></tr><tr><td data-num=38></td><td><pre><span class="token comment">原码：00000000 00000000 00000000 11111111</span></pre></td></tr><tr><td data-num=39></td><td><pre><span class="token comment">------------------------------------------</span></pre></td></tr><tr><td data-num=40></td><td><pre><span class="token comment">*/</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token keyword">char</span> a <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">128</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">char</span> b <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    </pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token comment">// 整型提升为unsigned int类型</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %u\nb = %u"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment">/* 过程剖析</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">char为有符号字符类型，由于C语言的自动类型转换，</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token comment">在内存中存储`1`个字节即`8`个比特位，并且其二进制表示中的最高位为符号位，</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment">当char类型变量所存储的值为`127`时，倘若再与整型数字`1`相加，</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token comment">这会使符号位变为`1`，此时的值按照规定应该是`-128`</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token comment">------------------</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token comment"> 127补码：01111111</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token comment">-128补码：10000000</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token comment">------------------</span></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token comment">因此，有符号char类型值的范围是`-128 ~ 127`</span></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token comment"></span></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token comment">由数据溢出而导致的数据闭环</span></pre></td></tr><tr><td data-num=22></td><td><pre><span class="token comment">--------------------------</span></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token comment">系统内存中数值存储(补码)范围为</span></pre></td></tr><tr><td data-num=24></td><td><pre><span class="token comment">  ~</span></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token comment">  -1：11111111</span></pre></td></tr><tr><td data-num=26></td><td><pre><span class="token comment">   0：00000000</span></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token comment">      .......</span></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token comment"> 127：01111111</span></pre></td></tr><tr><td data-num=29></td><td><pre><span class="token comment">-128：10000000</span></pre></td></tr><tr><td data-num=30></td><td><pre><span class="token comment">-127：10000001</span></pre></td></tr><tr><td data-num=31></td><td><pre><span class="token comment">	  .......</span></pre></td></tr><tr><td data-num=32></td><td><pre><span class="token comment">  -1：11111111</span></pre></td></tr><tr><td data-num=33></td><td><pre><span class="token comment">  ~</span></pre></td></tr><tr><td data-num=34></td><td><pre><span class="token comment">--------------------------</span></pre></td></tr><tr><td data-num=35></td><td><pre><span class="token comment"></span></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token comment">假如按照`%u`的形式打印，打印的是`无符号`变量`原码`的十进制，此时，有两种情况</span></pre></td></tr><tr><td data-num=37></td><td><pre><span class="token comment">----------------------------------------------------------------------------</span></pre></td></tr><tr><td data-num=38></td><td><pre><span class="token comment">倘若传入的是`有符号`变量的负数值，则需以`符号位`进行补码的扩充来实现`整型提升`；</span></pre></td></tr><tr><td data-num=39></td><td><pre><span class="token comment">倘若传入的是`无符号`变量的负数值，则需以数字`0`进行补码的扩充来实现`整型提升`；</span></pre></td></tr><tr><td data-num=40></td><td><pre><span class="token comment">----------------------------------------------------------------------------</span></pre></td></tr><tr><td data-num=41></td><td><pre><span class="token comment"></span></pre></td></tr><tr><td data-num=42></td><td><pre><span class="token comment">此外，由于受`%u`的影响，</span></pre></td></tr><tr><td data-num=43></td><td><pre><span class="token comment">此时该已经完成了`整型提升`的负数`值`的原码、反码和补码都相同，</span></pre></td></tr><tr><td data-num=44></td><td><pre><span class="token comment">因此，按`%u`的形式打印时，只需`变量`对应值的`补码`十进制即可。</span></pre></td></tr><tr><td data-num=45></td><td><pre><span class="token comment"></span></pre></td></tr><tr><td data-num=46></td><td><pre><span class="token comment">此时变量`a`的值带有符号，因此需以`符号位`进行补码的扩充来实现`整型提升`，</span></pre></td></tr><tr><td data-num=47></td><td><pre><span class="token comment">最后再按`原码`的形式将值打印出来。</span></pre></td></tr><tr><td data-num=48></td><td><pre><span class="token comment"></span></pre></td></tr><tr><td data-num=49></td><td><pre><span class="token comment">-128以`%u`格式打印时的内存存储，值为4294967168</span></pre></td></tr><tr><td data-num=50></td><td><pre><span class="token comment">---------------------------------------------------</span></pre></td></tr><tr><td data-num=51></td><td><pre><span class="token comment">补码：11111111 11111111 11111111 11111111 10000000</span></pre></td></tr><tr><td data-num=52></td><td><pre><span class="token comment">反码：11111111 11111111 11111111 11111111 10000000</span></pre></td></tr><tr><td data-num=53></td><td><pre><span class="token comment">原码：11111111 11111111 11111111 11111111 10000000</span></pre></td></tr><tr><td data-num=54></td><td><pre><span class="token comment">---------------------------------------------------</span></pre></td></tr><tr><td data-num=55></td><td><pre><span class="token comment"></span></pre></td></tr><tr><td data-num=56></td><td><pre><span class="token comment">而对于值为`128`的`b`，此时内存中所获取的`补码`为</span></pre></td></tr><tr><td data-num=57></td><td><pre><span class="token comment">-------------------------</span></pre></td></tr><tr><td data-num=58></td><td><pre><span class="token comment">补码：10000000</span></pre></td></tr><tr><td data-num=59></td><td><pre><span class="token comment">等同：01111111 + 00000001</span></pre></td></tr><tr><td data-num=60></td><td><pre><span class="token comment">-------------------------</span></pre></td></tr><tr><td data-num=61></td><td><pre><span class="token comment">即 `127 + 1`，相当于赋值`-128`，</span></pre></td></tr><tr><td data-num=62></td><td><pre><span class="token comment">为此，当以%u形式打印时，也需以`符号位`进行补码的扩充来实现`整型提升`，</span></pre></td></tr><tr><td data-num=63></td><td><pre><span class="token comment">最后再按`原码`的形式将值打印出来，，值为4294967168</span></pre></td></tr><tr><td data-num=64></td><td><pre><span class="token comment">-------------------------------------------------</span></pre></td></tr><tr><td data-num=65></td><td><pre><span class="token comment">补码：11111111 11111111 11111111 11111111 1000000</span></pre></td></tr><tr><td data-num=66></td><td><pre><span class="token comment">反码：11111111 11111111 11111111 11111111 1000000</span></pre></td></tr><tr><td data-num=67></td><td><pre><span class="token comment">原码：11111111 11111111 11111111 11111111 1000000</span></pre></td></tr><tr><td data-num=68></td><td><pre><span class="token comment">-------------------------------------------------</span></pre></td></tr><tr><td data-num=69></td><td><pre><span class="token comment">*/</span></pre></td></tr></table></figure><h3 id=浮点数><a class=anchor href=#浮点数>#</a> 浮点数</h3><p>根据国际标准IEEE(电气和电子工程协会)754，任意一个二进制浮点数可以表示成下面的形式</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mo stretchy=false>(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy=false>)</mo><mi>S</mi></msup><mo>∗</mo><mi>M</mi><mo>∗</mo><msup><mn>2</mn><mi>E</mi></msup></mstyle></mrow><annotation encoding=application/x-tex>\small (-1)^S*M*2^E</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.9616979999999999em;vertical-align:-.225em></span><span class="mopen sizing reset-size6 size5">(</span><span class="mord sizing reset-size6 size5">−</span><span class="mord sizing reset-size6 size5">1</span><span class="mclose sizing reset-size6 size5"><span class=mclose>)</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.8185533333333332em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style=margin-right:.05764em>S</span></span></span></span></span></span></span></span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">∗</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.614997em;vertical-align:0></span><span class="mord mathnormal sizing reset-size6 size5" style=margin-right:.10903em>M</span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">∗</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.736698em;vertical-align:0></span><span class="mord sizing reset-size6 size5"><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.8185533333333332em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style=margin-right:.05764em>E</span></span></span></span></span></span></span></span></span></span></span>，其中</p><ul><li><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mo stretchy=false>(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy=false>)</mo><mi>S</mi></msup></mstyle></mrow><annotation encoding=application/x-tex>\small (-1)^S</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.9616979999999999em;vertical-align:-.225em></span><span class="mopen sizing reset-size6 size5">(</span><span class="mord sizing reset-size6 size5">−</span><span class="mord sizing reset-size6 size5">1</span><span class="mclose sizing reset-size6 size5"><span class=mclose>)</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.8185533333333332em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style=margin-right:.05764em>S</span></span></span></span></span></span></span></span></span></span></span> - 表示符号位，当S为0时，浮点数为正数；当S为1时，浮点数为负数</li><li><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mi>M</mi></mstyle></mrow><annotation encoding=application/x-tex>\small M</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.614997em;vertical-align:0></span><span class="mord mathnormal sizing reset-size6 size5" style=margin-right:.10903em>M</span></span></span></span> - 表示有效数字(<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mn>1</mn><mo>≤</mo><mi>M</mi><mo>&lt;</mo><mn>2</mn></mstyle></mrow><annotation encoding=application/x-tex>\small 1≤M&lt;2</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.702369em;vertical-align:-.12237300000000001em></span><span class="mord sizing reset-size6 size5">1</span><span class=mspace style=margin-right:.2777777777777778em></span><span class="mrel sizing reset-size6 size5">≤</span><span class=mspace style=margin-right:.2777777777777778em></span></span><span class=base><span class=strut style=height:.6501870000000001em;vertical-align:-.035190000000000006em></span><span class="mord mathnormal sizing reset-size6 size5" style=margin-right:.10903em>M</span><span class=mspace style=margin-right:.2777777777777778em></span><span class="mrel sizing reset-size6 size5">&lt;</span><span class=mspace style=margin-right:.2777777777777778em></span></span><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">2</span></span></span></span>)</li><li><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><msup><mn>2</mn><mi>E</mi></msup></mstyle></mrow><annotation encoding=application/x-tex>\small 2^E</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.736698em;vertical-align:0></span><span class="mord sizing reset-size6 size5"><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.8185533333333332em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style=margin-right:.05764em>E</span></span></span></span></span></span></span></span></span></span></span> - 表示规格化后的指数位</li></ul><p>例如，十进制的<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mn>5.0</mn></mstyle></mrow><annotation encoding=application/x-tex>\small 5.0</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">5</span><span class="mord sizing reset-size6 size5">.</span><span class="mord sizing reset-size6 size5">0</span></span></span></span>，其二进制为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mn>101.0</mn></mstyle></mrow><annotation encoding=application/x-tex>\small 101.0</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">1</span><span class="mord sizing reset-size6 size5">0</span><span class="mord sizing reset-size6 size5">1</span><span class="mord sizing reset-size6 size5">.</span><span class="mord sizing reset-size6 size5">0</span></span></span></span>，规格化后即<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mn>1.01</mn><mo>∗</mo><msup><mn>2</mn><mn>2</mn></msup></mstyle></mrow><annotation encoding=application/x-tex>\small 1.01*2^2</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">1</span><span class="mord sizing reset-size6 size5">.</span><span class="mord sizing reset-size6 size5">0</span><span class="mord sizing reset-size6 size5">1</span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">∗</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.713364em;vertical-align:0></span><span class="mord sizing reset-size6 size5"><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.7926266666666666em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>(底下的2表示是二进制，指数是进位数)，使用以上规则可以得出</p><ul><li><p>S = 0 - 即正数</p></li><li><p>M =<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mn>101</mn></mstyle></mrow><annotation encoding=application/x-tex>\small 101</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">1</span><span class="mord sizing reset-size6 size5">0</span><span class="mord sizing reset-size6 size5">1</span></span></span></span>(小数位<code>.</code>的前面)</p></li><li><p>E = 2 - 即规格化后的指数</p></li></ul><p>IEEE754规定，对于32位浮点数，最高位的1位是<strong>符号位</strong><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mi>S</mi></mstyle></mrow><annotation encoding=application/x-tex>\small S</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.614997em;vertical-align:0></span><span class="mord mathnormal sizing reset-size6 size5" style=margin-right:.05764em>S</span></span></span></span>，符号位之后的8位是<strong>指数</strong><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mi>E</mi></mstyle></mrow><annotation encoding=application/x-tex>\small E</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.614997em;vertical-align:0></span><span class="mord mathnormal sizing reset-size6 size5" style=margin-right:.05764em>E</span></span></span></span>(阶码部分)，</p><p>剩下的23位为<strong>有效数字</strong><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><mi>M</mi></mstyle></mrow><annotation encoding=application/x-tex>\small M</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.614997em;vertical-align:0></span><span class="mord mathnormal sizing reset-size6 size5" style=margin-right:.10903em>M</span></span></span></span>(尾数部分)。</p><h2 id=指针><a class=anchor href=#指针>#</a> 指针</h2><h3 id=概述-3><a class=anchor href=#概述-3>#</a> 概述</h3><p>计算机处理的是电信号，能识别二进制语言。</p><p><strong>地址的产生</strong></p><p>32位 - 32根地址线/数据线 | 64位 - 64根地址线/数据线</p><p>计算机与计算机中的硬件都需要通电，地址/数据线是电线，一旦通电就有正电(1)和负电(0)。32位地址线通电后，能产生<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><msup><mn>2</mn><mn>32</mn></msup></mstyle></mrow><annotation encoding=application/x-tex>\small 2^{32}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.713364em;vertical-align:0></span><span class="mord sizing reset-size6 size5"><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.7926266666666666em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>个二进制序列，产生的每个序列可以作为每个单元的编号(0 ~<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mstyle mathsize=0.9em><msup><mn>2</mn><mn>32</mn></msup><mo>−</mo><mn>1</mn></mstyle></mrow><annotation encoding=application/x-tex>\small 2^{32} - 1</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.788361em;vertical-align:-.07499700000000001em></span><span class="mord sizing reset-size6 size5"><span class=mord>2</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:.7926266666666666em><span style=top:-2.963em;margin-right:.05555555555555556em><span class=pstrut style=height:2.6em></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class=mspace style=margin-right:.2222222222222222em></span><span class="mbin sizing reset-size6 size5">−</span><span class=mspace style=margin-right:.2222222222222222em></span></span><span class=base><span class=strut style=height:.5799960000000001em;vertical-align:0></span><span class="mord sizing reset-size6 size5">1</span></span></span></span>)，即地址。</p><p>一个内存单元是一个字节，由于32位地址线一次能产生32个0或1的序列，因此在一个字节8个比特位的换算下，一个地址即<strong>4个字节</strong>(64位 - 8个字节)。</p><p>指针本身是存储内存地址的变量，而解引用操作允许获取或修改指针所指向地址处的数据。</p><h3 id=取址与解引用><a class=anchor href=#取址与解引用>#</a> 取址与解引用</h3><p>指针变量是用来存放地址的，可通过<code>*</code>解引用来间接访问地址空间中的数据。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 打印地址</span></pre></td></tr><tr><td data-num=7></td><td><pre>    </pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span><span class="token comment">// 指针变量</span></pre></td></tr><tr><td data-num=9></td><td><pre>    </pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span><span class="token comment">// 解引用修改值</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 解引用访问值</span></pre></td></tr><tr><td data-num=12></td><td><pre>    </pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">// 指针变量初始化</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>指针的类型决定了指针进行解引用操作时，能够访问的内存空间大小。</p><p>当指针加上偏移量时，指针的类型所占内存空间大小会作为偏移一位的基准。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0x11223344</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">int</span><span class="token operator">*</span> pa <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token operator">*</span>pa <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// 访问4个字节</span></pre></td></tr><tr><td data-num=8></td><td><pre>    </pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token keyword">char</span><span class="token operator">*</span> b <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token operator">*</span>pa <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// 访问1个字节</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span>b <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 一步走1个字节</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><details class=info><summary>a和&a的区别？</summary><div><p><code>a</code>和<code>&amp;a</code>分别表示变量<code>a</code>和变量<code>a</code>的地址。</p></div></details><details class=info><summary>函数指针是什么？</summary><div><p>函数指针是指向函数的指针变量。在<code>C和C++</code>中，函数指针可以用来存储函数的地址，以便在程序运行时调用相应的函数。函数指针的类型与所指向的函数的类型相匹配。</p></div></details><details class=info><summary>指针函数是什么？</summary><div><p>它是一个函数，只不过这个函数的返回值是一个指针。</p></div></details><h3 id=空指针与野指针wild-pointer><a class=anchor href=#空指针与野指针wild-pointer>#</a> 空指针与野指针(wild pointer)</h3><p><strong>空指针</strong>就是指针值为空的指针。</p><p><strong>野指针</strong>就是指针指向的位置是不可知的(不正确的/没有明确限制的)，即指针值不为空但地址不合法的指针。</p><p><strong>野指针的成因</strong></p><ul><li>指针未初始化就使用</li><li>指针越界访问</li><li>指针指向的空间已被释放</li></ul><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 以下皆为导致野指针的错误案例</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">// 指针未初始化就使用</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">;</span><span class="token comment">// 此处为指针的声明</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment">// 指针越界访问</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">// 使用指针指向的空间已被释放</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token keyword">int</span><span class="token operator">*</span> arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token function">free</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token operator">*</span>arr <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr></table></figure><details class=info><summary>指针悬挂(Dangling Pointer)是什么？</summary><div><p>指针悬挂是指一个指针仍然指向之前所引用的对象所在的内存地址，但是这个对象可能已经被销毁或释放。换句话说，指针仍然持有一个地址，但这个地址不再有效，可能已经被其他代码或者系统回收，因此访问该指针可能导致未定义行为。</p></div></details><h3 id=const修饰指针><a class=anchor href=#const修饰指针>#</a> const修饰指针</h3><p><code>const int* a</code> - 值不可变，地址可变 - 常量指针</p><p><code>int* const a</code> - 值可变，地址不可变 - 指针常量</p><p><code>const int* const a</code> - 值不可变，地址也不可变</p><p><ins><strong>相关问题</strong></ins></p><ul><li>什么是常量指针？</li><li>什么是指针常量？</li></ul><h3 id=void关键字><a class=anchor href=#void关键字>#</a> void关键字</h3><p>不能用于声明变量。</p><p>不能对void类型指针解引用。</p><p>把其他类型指针赋值给void类型指针时不需要进行类型转换。</p><p><code>(void*)&amp;变量名</code> - 用于打印变量的十六进制地址</p><details class=info><summary>void*(泛型指针)是什么?</summary><div><p><code>void*</code>是<code>C和C++</code>中的一种泛型指针，被称为<strong>无类型指针或泛型指针</strong>。它是一种特殊的指针类型，可以存储任何类型的地址，但它本身并不知道指向的是什么类型的数据。因此，<code>void*</code>提供了一种通用的指针类型，允许在不关心具体数据类型的情况下进行指针操作。</p><p>在函数参数、返回值或数据结构中，<code>void*</code>经常用于传递或引用未知类型的数据。当需要在不同类型之间进行灵活的数据传递时，<code>void*</code>可以用作一种通用的容器。</p></div></details><h2 id=字符串><a class=anchor href=#字符串>#</a> 字符串</h2><h3 id=概念-2><a class=anchor href=#概念-2>#</a> 概念</h3><p>由<strong>双引号</strong>(Double Quote)引起的一串字符称为<strong>字符串字面值</strong>(String Literal)，简称字符串。</p><p>C语言中，字符串的结束标志是一个转义字符<code>\0</code>，在计算字符串长度时，<code>\0</code>不被算作字符串内容。</p><p>注意，字符串末尾默认添加一个<code>\0</code>结尾，就算字符串为<code>&quot;\0&quot;</code>。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token char">'a'</span><span class="token punctuation">,</span><span class="token char">'b'</span><span class="token punctuation">,</span><span class="token char">'c'</span><span class="token punctuation">,</span><span class="token char">'\0'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">char</span> arr3<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token char">'a'</span><span class="token punctuation">,</span><span class="token char">'b'</span><span class="token punctuation">,</span><span class="token char">'c'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 正常打印</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 正常打印</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>arr3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 打印三个字符后乱码，没有结束标志`\0`</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token string">"\0"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2,后面还有一个`\0`</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>给每个字符规定一个值的这种方式叫做<strong>ASCII编码</strong>，字符对应的值叫做<strong>ASCII值</strong>。</p><ul><li><p><code>a</code> - 97</p></li><li><p><code>A</code> - 65</p></li><li><p><code>\0</code> - 0</p></li><li><p><code>0</code> - 48</p></li></ul><h3 id=strlen库函数><a class=anchor href=#strlen库函数>#</a> strlen()库函数</h3><p>用于计算字符串长度，需包含头文件 - <code>#include&lt;string.h&gt;</code></p><p>函数声明 - <code>size_t strlen(const char* str)</code></p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token char">'a'</span><span class="token punctuation">,</span><span class="token char">'b'</span><span class="token punctuation">,</span><span class="token char">'c'</span><span class="token punctuation">,</span><span class="token char">'\0'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">char</span> arr3<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token char">'a'</span><span class="token punctuation">,</span><span class="token char">'b'</span><span class="token punctuation">,</span><span class="token char">'c'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre>    </pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token function">strlen</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 3</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token function">strlen</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 3</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token function">strlen</span><span class="token punctuation">(</span>arr3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 随机数，没有结束标志`\0`</span></pre></td></tr><tr><td data-num=13></td><td><pre>    </pre></td></tr><tr><td data-num=14></td><td><pre>    </pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token keyword">char</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token char">'a'</span><span class="token punctuation">,</span> <span class="token char">'b'</span><span class="token punctuation">,</span> <span class="token char">'c'</span><span class="token punctuation">,</span> <span class="token char">'d'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 随机值，'\0'位置不明，a为数组首元素地址</span></pre></td></tr><tr><td data-num=17></td><td><pre></pre></td></tr><tr><td data-num=18></td><td><pre>    <span class="token comment">// Error，strlen只接收地址，此处传值会间接为传入数据选取空间并产生非法访问</span></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token comment">/*********************************************************************/</span></pre></td></tr><tr><td data-num=20></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token operator">*</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Error, 同上</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token comment">/*********************************************************************/</span></pre></td></tr><tr><td data-num=23></td><td><pre></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 随机值，传入了整个字符数组的地址</span></pre></td></tr><tr><td data-num=25></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 随机值，整个字符数组地址加上整个字符数组大小个字节</span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 随机值，数组第一个元素地址加上一个字符大小个字节</span></pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=常量字符串><a class=anchor href=#常量字符串>#</a> 常量字符串</h3><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token string">"abcdef"</span><span class="token punctuation">;</span><span class="token comment">// 传入的是字符串首地址</span></pre></td></tr><tr><td data-num=7></td><td><pre>    </pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token comment">// sizeof关键字</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// (4/8)个字节，首字符地址</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1个字节，第二个字符的值，等价写法*(p + 1) == p[1]</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// (4/8)个字节，二级指针，取指针的地址</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// (4/8)个字节，指针的地址加一个指针大小字节-地址</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// (4/8)个字节，第一个字符的地址加一个字符字节大小</span></pre></td></tr><tr><td data-num=14></td><td><pre>    </pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token comment">// strlen库函数，需传入地址</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 6</span></pre></td></tr><tr><td data-num=17></td><td><pre>    </pre></td></tr><tr><td data-num=18></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// err 值，非法访问</span></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// err 值，非法访问</span></pre></td></tr><tr><td data-num=20></td><td><pre>    </pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 随机值，指针的地址</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 随机值，指针的地址加上一个指针大小个字节</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token comment">// 5，第一个字符的地址加上一个字符大小个字节，即第二个字符的地址</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=25></td><td><pre>    </pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=转义字符><a class=anchor href=#转义字符>#</a> 转义字符</h3><p>转义字符<code>\</code>，转移字符组合的长度默认为1，用于转变字符原本所代表的意思。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token comment">// 水平制表符`\t`与`\32`为转义字符，长度为1</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"c:\test\32\test.c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token comment">// 转义字符`\\`，长度为1</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"c:\\test\\32\\test.c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">"c:\test\32\test.c"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token comment">// `\32`，此时的32是8进制数字，</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token comment">// 使用反斜杠后，数字会转变为十进制数字并以其ASCII码对应的字符表示</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><code>\n</code> - 换行</p><p><code>\ddd</code></p><ul><li>ddd表示1~3个八进制的数字，如<code>\130</code>，指字符<code>X</code></li></ul><ul><li>转换八进制数字为十进制数字，并以十进制数字对应的ASCII码字符表示</li></ul><p><code>\xdd</code></p><ul><li>dd表示2个十六进制的数字，如<code>\x30</code>，指字符<code>0</code></li></ul><ul><li>转换十六进制数字为十进制数字，并以十进制数字对应的ASCII码字符表示</li></ul><h2 id=字符串相关库函数><a class=anchor href=#字符串相关库函数>#</a> 字符串相关库函数</h2><p>字符串操作需包含头文件 - <code>#include&lt;string.h&gt;</code></p><h3 id=长度不受限制的><a class=anchor href=#长度不受限制的>#</a> 长度不受限制的</h3><p><code>char* strcpy(char* destination,const char* source)</code> - 拷贝字符串，整体替换</p><p><code>char* strcat(char* destination,const char* source)</code> - 从尾部追加字符串</p><p><code>int strcmp(const char* str1,const char* str2)</code> - 字符串比较</p><ul><li>str1 &gt; str2 - 返回大于0的数字</li><li>str1 == str2 - 返回0</li><li>str1 &lt; str2 - 返回小于0的数字</li></ul><p><code>int sprintf(char* str,const char* format,...)</code> - 将字符串写入字符数组中</p><ul><li><p>以printf函数输出格式的方式将字符串写入到指定内存空间中</p></li><li><p>str - 写入的字符数组</p></li><li><p>format - 写入的字符串</p></li><li><p><code>...</code> - 写入的字符串中对应数据格式的变量名</p></li><li><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token keyword">char</span> buffer<span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">char</span><span class="token operator">*</span> tester <span class="token operator">=</span> <span class="token string">"my tester code."</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token function">sprintf</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span><span class="token string">"%s"</span><span class="token punctuation">,</span>tester<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ul><h3 id=长度受限制的><a class=anchor href=#长度受限制的>#</a> 长度受限制的</h3><p><code>char* strncpy(char* destination,const char* source,size_t count)</code> - 拷贝字符串中N个字符</p><p><code>char* strncat(char* destination,const char* source,size_t count)</code> - 从尾部追加字符串中N个字符</p><p><code>int strncmp(const char* str1,const char* str2,size_t num)</code> - 字符串中比较N个字符</p><h3 id=子串查找><a class=anchor href=#子串查找>#</a> 子串查找</h3><p><code>char* strstr(const char* string,const char* substr)</code> - 子串查找，找不到时返回NULL</p><p><code>char* strchr(const char* str,int character)</code> - 查找单个字符在字符串中第一次出现的位置</p><ul><li><p>返回第一次出现的位置的地址</p></li><li><p>未找到时返回NULL</p></li></ul><p><code>char* strtok(char* str,const char* sep)</code> - 以多个分隔符来分割字符串</p><ul><li><p>sep为分隔符集合，即多个分隔符写在一起而成的字符串</p></li><li><p>该函数会根据分隔符字符串的每一个字符进行一一匹配</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">"zpw@bitedu.tech"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> sep <span class="token operator">=</span> <span class="token string">"@."</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> ret <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>sep<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 取得子串`zpw`，查找字符串的第一个`@`会变为`\0`</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre>ret <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span>sep<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 取得子串`bitedu`，查找字符串的第一个`.`会变为`\0`</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre></pre></td></tr><tr><td data-num=10></td><td><pre>ret <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span>sep<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 取得子串`tech`</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment">// 以遍历的方式读取所有分隔部分</span></pre></td></tr><tr><td data-num=14></td><td><pre>str <span class="token operator">=</span> <span class="token string">"zpw@bitedu.tech"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token keyword">for</span><span class="token punctuation">(</span>ret <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>sep<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token constant">NULL</span> <span class="token operator">!=</span> ret<span class="token punctuation">;</span>ret <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span>sep<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 依次打印各分段</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ul><h3 id=标准错误输出><a class=anchor href=#标准错误输出>#</a> 标准错误输出</h3><p>需包含头文件 - <code>#include&lt;errno.h&gt;</code></p><p><code>char* strerror(int errnum)</code> - 返回错误码所对应的错误信息</p><ul><li><code>0</code> - No error</li><li><code>1</code> - Operation not permitted</li><li><code>2</code> - No such file or directory</li><li>...</li></ul><p><code>void perror(const char* str)</code> - 返回错误信息时添加自定义信息</p><ul><li>将errno的值解释为错误消息，并将其打印到stderr(标准错误输出流，通常是控制台)，可以选择在其前面加上 指定的自定义消息(str)</li><li>errno是一个整型变量，其值描述了调用库函数所产生的错误条件或诊断信息(C标准库的任何函数都可以是errno设置的值，并且即使没有发生错误)</li></ul><h3 id=字符类型判断><a class=anchor href=#字符类型判断>#</a> 字符类型判断</h3><p>需包含头文件 - <code>#include&lt;ctype.h&gt;</code></p><table><thead><tr><th style=text-align:left>函数</th><th style=text-align:left>对应的字符判断条件</th></tr></thead><tbody><tr><td style=text-align:left>isspace()</td><td style=text-align:left>判断是否为空格</td></tr><tr><td style=text-align:left>isdigit()</td><td style=text-align:left>判断是否为数字(0~9)</td></tr><tr><td style=text-align:left>islower()</td><td style=text-align:left>判断是否为小写字母(a~z)</td></tr><tr><td style=text-align:left>isupper()</td><td style=text-align:left>判断是否为大写字母(A~Z)</td></tr><tr><td style=text-align:left>isalpha()</td><td style=text-align:left>判断是否为字母((a~z) 和 (A~Z))</td></tr><tr><td style=text-align:left>isalnum()</td><td style=text-align:left>判断是否为字母或数字</td></tr><tr><td style=text-align:left>isxdigit()</td><td style=text-align:left>判断是否为十进制数字，包含小写和大写字母</td></tr><tr><td style=text-align:left>iscntrl()</td><td style=text-align:left>判断是否为控制字符</td></tr><tr><td style=text-align:left>ispunct()</td><td style=text-align:left>判断是否为任何不属于数字或字母的字符</td></tr><tr><td style=text-align:left>isgraph()</td><td style=text-align:left>判断是否为图形字符</td></tr><tr><td style=text-align:left>isprint()</td><td style=text-align:left>判断是否为可打印字符，包含图形字符和空白字符</td></tr></tbody></table><h3 id=字母字符大小写转换><a class=anchor href=#字母字符大小写转换>#</a> 字母字符大小写转换</h3><p>转小写 - <code>int tolower(int c)</code></p><p>转大写 - <code>int toupper(int c)</code></p><h2 id=左值lvalue与右值rvalue><a class=anchor href=#左值lvalue与右值rvalue>#</a> 左值(lvalue)与右值(rvalue)</h2><p><strong>左值</strong>是指表达式结束后依然存在的持久对象，可以取地址，通常放在赋值语句的左边的表达式，例如变量。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token comment">// x是左值，因为它是一个变量</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span><span class="token comment">// &amp;x是左值，因为它是一个变量的地址</span></pre></td></tr></table></figure><p><strong>右值</strong>是指表达式结束后就不再存在的临时对象，通常不能取地址。右值通常是在表达式中产生的临时值，例如常量、表达式的结果等。</p><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token comment">// 5是右值，因为它是一个临时值</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">// 3/4/3 + 4是右值，因为它是一个临时值</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">// x/y是左值，但x + y是右值，因为它是一个表达式的结果</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">int</span> z <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id=可变参数列表><a class=anchor href=#可变参数列表>#</a> 可变参数列表</h2><p>需包含头文件 - <code>#include&lt;stdarg.h&gt;</code></p><ul><li><code>va_list</code> - 一个类型，用于表示可变参数列表</li><li><code>va_start</code> - 宏，用于初始化可变参数列表，以便可以逐个访问参数</li><li><code>va_arg</code> - 宏，用于从可变参数列表中获取下一个参数的值</li><li><code>va_end</code> - 宏，用于结束可变参数列表的处理</li></ul><figure class="highlight c"><figcaption data-lang=c></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// count是一个常规参数，表示后续可变参数的数量或其他信息</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">// `...`是可变参数列表的语法，表示函数接受可变数量的参数</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token keyword">void</span> <span class="token function">printNumbers</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    va_list args<span class="token punctuation">;</span> <span class="token comment">// 声明一个va_list类型的变量</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token function">va_start</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始化可变参数列表，从count后面开始</span></pre></td></tr><tr><td data-num=7></td><td><pre></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=10></td><td><pre>        <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token function">va_arg</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取下一个整数参数</span></pre></td></tr><tr><td data-num=11></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=13></td><td><pre></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token function">va_end</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 结束可变参数列表的处理</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id=assert断言><a class=anchor href=#assert断言>#</a> assert断言</h2><p>需包含头文件 - <code>&lt;assert.h&gt;</code></p><p><code>assert</code>是一种仅在debug版本中使用的宏函数，用于检查不该发生的情况，可以看作是一种在任何系统状态下都可以安全使用的无害测试手段。</p><ul><li><p>语法 - <code>assert(表达式)</code></p></li><li><p>用于判断表达式的值，如果判断条件为假，程序将调用<code>abort()</code>函数终止，条件为真就继续执行</p></li><li><p>断言用于处理程序中不应该出错的错误，而非逻辑上可能会发生的错误</p></li><li><p>不要把需要执行的代码放到断言的表达式中</p></li></ul><div class=tags><a href=/tags/programming-language/ rel=tag><i class="ic i-tag"></i> 编程语言</a></div></div><footer><div class=meta><span class=item><span class=icon><i class="ic i-calendar-check"></i></span> <span class=text>更新于</span> <time title="修改时间：2024-07-31 12:44:54" itemprop=dateModified datetime=2024-07-31T12:44:54+08:00>2024-07-31</time></span><span class=item data-path=/computer-science/programming/c-language/basis/c/cpart1/ title=阅读次数><span class=icon><i class="ic i-eye"></i></span> <span class=text>阅读次数</span><span class=waline-pageview-count></span> <span class=text>次</span></span></div><div id=copyright><ul><li class=author><strong>本文作者：</strong> ReverseSacle <i class="ic i-at"><em>@</em></i>逆转天平</li><li class=link><strong>本文链接：</strong> <a href=https://www.reversesacle.com/computer-science/programming/c-language/basis/c/cpart1/ title=C语言基础-第一部分-C89&#x2F;C90标准>https://www.reversesacle.com/computer-science/programming/c-language/basis/c/cpart1/</a></li><li class=license><strong>版权声明：</strong> 本站所有文章除特别声明外，均采用 <span class=exturl data-url=aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class=post-nav><div class="item left"><a href=/general-science-and-technology/pc/laptop/laptop-clean/ itemprop=url rel=prev data-background-image=https:&#x2F;&#x2F;resa-imgs.oss-accelerate.aliyuncs.com&#x2F;img&#x2F;acg13.webp title=笔记本的清洁><span class=type>上一篇</span><span class=category><i class="ic i-flag"></i> 笔记本</span><h3>笔记本的清洁</h3></a></div><div class="item right"><a href=/computer-science/programming/c-language/basis/c/cpart2/ itemprop=url rel=next data-background-image=https:&#x2F;&#x2F;resa-imgs.oss-accelerate.aliyuncs.com&#x2F;img&#x2F;acg21.webp title=C语言基础-第二部分-C89&#x2F;C90标准><span class=type>下一篇</span><span class=category><i class="ic i-flag"></i> C语言基础</span><h3>C语言基础-第二部分-C89/C90标准</h3></a></div></div><div class=wrap id=comments><div id=waline-comment></div></div></div><div id=sidebar><div class=inner><div class=panels><div class=inner><div class="contents panel pjax" data-title=文章目录><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%A6%82%E8%BF%B0><span class=toc-number>1.</span> <span class=toc-text>概述</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%9F%BA%E6%9C%ACc%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6%E6%A6%82%E8%BF%B0><span class=toc-number>2.</span> <span class=toc-text>基本C程序框架概述</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B><span class=toc-number>3.</span> <span class=toc-text>数据类型</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B><span class=toc-number>3.1.</span> <span class=toc-text>基本类型</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%89%93%E5%8D%B0%E6%A0%BC%E5%BC%8F><span class=toc-number>3.2.</span> <span class=toc-text>打印格式</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%B8%B8%E8%A7%81%E7%BC%A9%E5%86%99%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA><span class=toc-number>3.3.</span> <span class=toc-text>常见缩写数据表示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%B3%A8%E9%87%8A><span class=toc-number>4.</span> <span class=toc-text>注释</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%8F%98%E9%87%8F%E4%B8%8E%E5%B8%B8%E9%87%8F><span class=toc-number>5.</span> <span class=toc-text>变量与常量</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%A6%82%E8%BF%B0-2><span class=toc-number>5.1.</span> <span class=toc-text>概述</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%8F%98%E9%87%8F><span class=toc-number>5.2.</span> <span class=toc-text>变量</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9Fscope><span class=toc-number>5.2.1.</span> <span class=toc-text>变量的作用域(scope)</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%8F%98%E9%87%8F%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F><span class=toc-number>5.2.2.</span> <span class=toc-text>变量的生命周期</span></a></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%B8%B8%E9%87%8F><span class=toc-number>5.3.</span> <span class=toc-text>常量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E8%BF%90%E7%AE%97%E7%AC%A6operator><span class=toc-number>6.</span> <span class=toc-text>运算符(operator)</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6><span class=toc-number>6.1.</span> <span class=toc-text>算数运算符</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6><span class=toc-number>6.2.</span> <span class=toc-text>移位运算符</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%BD%8D%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%BF%90%E7%AE%97%E7%AC%A6><span class=toc-number>6.3.</span> <span class=toc-text>位(二进制)运算符</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6><span class=toc-number>6.4.</span> <span class=toc-text>赋值运算符</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6><span class=toc-number>6.5.</span> <span class=toc-text>关系运算符</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6><span class=toc-number>6.6.</span> <span class=toc-text>逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%8D%95%E5%8F%8C%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6><span class=toc-number>6.7.</span> <span class=toc-text>单&#x2F;双目运算符</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6><span class=toc-number>6.8.</span> <span class=toc-text>条件运算符</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%80%97%E5%8F%B7%E8%A1%A8%E8%BE%BE%E5%BC%8F><span class=toc-number>6.9.</span> <span class=toc-text>逗号表达式</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%89%A9%E4%B8%8B%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6><span class=toc-number>6.10.</span> <span class=toc-text>剩下的运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B1%82%E5%80%BC><span class=toc-number>7.</span> <span class=toc-text>表达式求值</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%B8%89%E4%B8%AA%E5%BD%B1%E5%93%8D%E5%9B%A0%E7%B4%A0><span class=toc-number>7.1.</span> <span class=toc-text>三个影响因素</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2><span class=toc-number>7.2.</span> <span class=toc-text>类型转换</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%98%BE%E7%A4%BA%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2><span class=toc-number>7.2.1.</span> <span class=toc-text>强制类型转换(显示类型转换)</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E7%AE%97%E6%9C%AF%E8%BD%AC%E6%8D%A2%E8%87%AA%E5%8A%A8%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2><span class=toc-number>7.2.2.</span> <span class=toc-text>算术转换(自动类型转换)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#sizeof%E5%85%B3%E9%94%AE%E5%AD%97><span class=toc-number>8.</span> <span class=toc-text>sizeof关键字</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#scanf%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E6%B5%81%E5%BA%93%E5%87%BD%E6%95%B0><span class=toc-number>9.</span> <span class=toc-text>scanf()标准输入流库函数</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%95%B0%E7%BB%84><span class=toc-number>10.</span> <span class=toc-text>数组</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96><span class=toc-number>10.1.</span> <span class=toc-text>一维数组的创建和初始化</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96><span class=toc-number>10.2.</span> <span class=toc-text>二维数组的创建和初始化</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%95%B0%E7%BB%84%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0><span class=toc-number>10.3.</span> <span class=toc-text>数组作为函数参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%88%86%E6%94%AF%E5%92%8C%E5%BE%AA%E7%8E%AF><span class=toc-number>11.</span> <span class=toc-text>分支和循环</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#if-else%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5><span class=toc-number>11.1.</span> <span class=toc-text>if-else分支语句</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#switch%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5><span class=toc-number>11.2.</span> <span class=toc-text>switch分支语句</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#while%E5%BE%AA%E7%8E%AF><span class=toc-number>11.3.</span> <span class=toc-text>while循环</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#for%E5%BE%AA%E7%8E%AF><span class=toc-number>11.4.</span> <span class=toc-text>for循环</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#do-while%E5%BE%AA%E7%8E%AF><span class=toc-number>11.5.</span> <span class=toc-text>do-while循环</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#goto%E8%AF%AD%E5%8F%A5><span class=toc-number>11.6.</span> <span class=toc-text>goto语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%85%B3%E9%94%AE%E5%AD%97><span class=toc-number>12.</span> <span class=toc-text>关键字</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#static%E5%85%B3%E9%94%AE%E5%AD%97><span class=toc-number>12.1.</span> <span class=toc-text>static关键字</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#extern%E5%85%B3%E9%94%AE%E5%AD%97><span class=toc-number>12.2.</span> <span class=toc-text>extern关键字</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%85%B6%E4%BB%96%E5%85%B3%E9%94%AE%E5%AD%97><span class=toc-number>12.3.</span> <span class=toc-text>其他关键字</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#define%E9%A2%84%E5%A4%84%E7%90%86%E6%8C%87%E4%BB%A4%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F%E5%92%8C%E5%AE%8F><span class=toc-number>13.</span> <span class=toc-text>#define(预处理指令)定义常量和宏</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%87%BD%E6%95%B0><span class=toc-number>14.</span> <span class=toc-text>函数</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%A6%82%E5%BF%B5><span class=toc-number>14.1.</span> <span class=toc-text>概念</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0><span class=toc-number>14.2.</span> <span class=toc-text>自定义函数</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%87%BD%E6%95%B0%E7%9A%84%E5%B5%8C%E5%A5%97%E8%B0%83%E7%94%A8><span class=toc-number>14.3.</span> <span class=toc-text>函数的嵌套调用</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%87%BD%E6%95%B0%E7%9A%84%E9%93%BE%E5%BC%8F%E8%AE%BF%E9%97%AE><span class=toc-number>14.4.</span> <span class=toc-text>函数的链式访问</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%87%BD%E6%95%B0%E7%9A%84%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8><span class=toc-number>14.5.</span> <span class=toc-text>函数的递归调用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%95%B0%E6%8D%AE%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E5%AD%98%E5%82%A8><span class=toc-number>15.</span> <span class=toc-text>数据在内存中的存储</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%BF%9B%E5%88%B6%E6%9D%83%E4%BD%8D><span class=toc-number>15.1.</span> <span class=toc-text>进制权位</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%8E%9F%E7%A0%81%E8%A1%A5%E7%A0%81%E5%8F%8D%E7%A0%81><span class=toc-number>15.2.</span> <span class=toc-text>原码，补码，反码</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%AD%97%E8%8A%82%E5%BA%8F%E5%AD%98%E5%82%A8><span class=toc-number>15.3.</span> <span class=toc-text>字节序存储</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%94%B1%E6%95%B0%E6%8D%AE%E6%BA%A2%E5%87%BA%E8%80%8C%E5%BD%A2%E6%88%90%E7%9A%84%E9%97%AD%E7%8E%AF%E6%95%B4%E5%9E%8B><span class=toc-number>15.4.</span> <span class=toc-text>由数据溢出而形成的闭环(整型)</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%95%B4%E5%9E%8B%E6%8F%90%E5%8D%87%E8%AF%A6%E8%A7%A3><span class=toc-number>15.5.</span> <span class=toc-text>整型提升详解</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%B5%AE%E7%82%B9%E6%95%B0><span class=toc-number>15.6.</span> <span class=toc-text>浮点数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E6%8C%87%E9%92%88><span class=toc-number>16.</span> <span class=toc-text>指针</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%A6%82%E8%BF%B0-3><span class=toc-number>16.1.</span> <span class=toc-text>概述</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%8F%96%E5%9D%80%E4%B8%8E%E8%A7%A3%E5%BC%95%E7%94%A8><span class=toc-number>16.2.</span> <span class=toc-text>取址与解引用</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%A9%BA%E6%8C%87%E9%92%88%E4%B8%8E%E9%87%8E%E6%8C%87%E9%92%88wild-pointer><span class=toc-number>16.3.</span> <span class=toc-text>空指针与野指针(wild pointer)</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#const%E4%BF%AE%E9%A5%B0%E6%8C%87%E9%92%88><span class=toc-number>16.4.</span> <span class=toc-text>const修饰指针</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#void%E5%85%B3%E9%94%AE%E5%AD%97><span class=toc-number>16.5.</span> <span class=toc-text>void关键字</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%AD%97%E7%AC%A6%E4%B8%B2><span class=toc-number>17.</span> <span class=toc-text>字符串</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%A6%82%E5%BF%B5-2><span class=toc-number>17.1.</span> <span class=toc-text>概念</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#strlen%E5%BA%93%E5%87%BD%E6%95%B0><span class=toc-number>17.2.</span> <span class=toc-text>strlen()库函数</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%B8%B8%E9%87%8F%E5%AD%97%E7%AC%A6%E4%B8%B2><span class=toc-number>17.3.</span> <span class=toc-text>常量字符串</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6><span class=toc-number>17.4.</span> <span class=toc-text>转义字符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%85%B3%E5%BA%93%E5%87%BD%E6%95%B0><span class=toc-number>18.</span> <span class=toc-text>字符串相关库函数</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%95%BF%E5%BA%A6%E4%B8%8D%E5%8F%97%E9%99%90%E5%88%B6%E7%9A%84><span class=toc-number>18.1.</span> <span class=toc-text>长度不受限制的</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E9%95%BF%E5%BA%A6%E5%8F%97%E9%99%90%E5%88%B6%E7%9A%84><span class=toc-number>18.2.</span> <span class=toc-text>长度受限制的</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%AD%90%E4%B8%B2%E6%9F%A5%E6%89%BE><span class=toc-number>18.3.</span> <span class=toc-text>子串查找</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%A0%87%E5%87%86%E9%94%99%E8%AF%AF%E8%BE%93%E5%87%BA><span class=toc-number>18.4.</span> <span class=toc-text>标准错误输出</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD><span class=toc-number>18.5.</span> <span class=toc-text>字符类型判断</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%AD%97%E6%AF%8D%E5%AD%97%E7%AC%A6%E5%A4%A7%E5%B0%8F%E5%86%99%E8%BD%AC%E6%8D%A2><span class=toc-number>18.6.</span> <span class=toc-text>字母字符大小写转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%B7%A6%E5%80%BClvalue%E4%B8%8E%E5%8F%B3%E5%80%BCrvalue><span class=toc-number>19.</span> <span class=toc-text>左值(lvalue)与右值(rvalue)</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8><span class=toc-number>20.</span> <span class=toc-text>可变参数列表</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#assert%E6%96%AD%E8%A8%80><span class=toc-number>21.</span> <span class=toc-text>assert断言</span></a></li></ol></div><div class="related panel pjax" data-title=系列文章><ul><li class=active><a href=/computer-science/programming/c-language/basis/c/cpart1/ rel=bookmark title=C语言基础-第一部分-C89/C90标准>C语言基础-第一部分-C89/C90标准</a></li><li><a href=/computer-science/programming/c-language/basis/c/cpart2/ rel=bookmark title=C语言基础-第二部分-C89/C90标准>C语言基础-第二部分-C89/C90标准</a></li><li><a href=/computer-science/programming/c-language/basis/c/cpart3/ rel=bookmark title=C语言基础-第三部分-C99标准>C语言基础-第三部分-C99标准</a></li><li><a href=/computer-science/programming/c-language/basis/c/code-optimization/ rel=bookmark title=代码优化>代码优化</a></li></ul></div><div class="overview panel" data-title=站点概览><div class=author itemprop=author itemscope itemtype=http://schema.org/Person><img class=image itemprop=image alt=ReverseSacle data-src=/images/avatar.webp><p class=name itemprop=name>ReverseSacle</p><div class=description itemprop=description>知识书库 & 学习点滴</div></div><nav class=state><div class="item posts"><a href=/archives/ ><span class=count>186</span> <span class=name>文章</span></a></div><div class="item categories"><a href=/categories/ ><span class=count>52</span> <span class=name>分类</span></a></div><div class="item tags"><a href=/tags/ ><span class=count>18</span> <span class=name>标签</span></a></div></nav><div class=social><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL1JldmVyc2VTYWNsZQ==" title=https:&#x2F;&#x2F;github.com&#x2F;ReverseSacle><i class="ic i-github"></i></span><span class="exturl item email" data-url="bWFpbHRvOnByaXZhdGVAcmV2ZXJzZXNhY2xlLmNvbQ==" title=mailto:private@reversesacle.com><i class="ic i-envelope"></i></span></div><ul class=menu><li class=item><a href=/ rel=section><i class="ic i-home"></i> 首页</a></li><li class="item dropdown"><a href=javascript:void(0);><i class="ic i-feather"></i> 文章</a><ul class=submenu><li class=item><a href=/archives/ rel=section><i class="ic i-list-alt"></i> 归档</a></li><li class=item><a href=/categories/ rel=section><i class="ic i-th"></i> 分类</a></li><li class=item><a href=/tags/ rel=section><i class="ic i-tags"></i> 标签</a></li></ul></li><li class=item><a href=/about/ rel=section><i class="ic i-user"></i> 关于</a></li><li class=item><a href=/friend-links/ rel=section><i class="ic i-heart"></i> 友链</a></li></ul></div></div></div><ul id=quick><li class="prev pjax"><a href=/general-science-and-technology/pc/laptop/laptop-clean/ rel=prev title=上一篇><i class="ic i-chevron-left"></i></a></li><li class=up><i class="ic i-arrow-up"></i></li><li class=down><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href=/computer-science/programming/c-language/basis/c/cpart2/ rel=next title=下一篇><i class="ic i-chevron-right"></i></a></li><li class=percent></li></ul></div></div><div class=dimmer></div></div></main><footer id=footer><div class=inner><div class=widgets><div class="rpost pjax"><h2>随机文章</h2><ul><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a></div><span><a href=/computer-science/programming/c-language/c-data-structure/linear-structure/seqstring/ title=C语言-字符序列存储>C语言-字符序列存储</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/dynamic-program/ title="分类于 动态规划">动态规划</a></div><span><a href=/computer-science/programming/c-language/c-algorithm/dynamic-program/nums/pascals-triangle/ title=帕斯卡三角>帕斯卡三角</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/dev-tool/ title="分类于 开发工具">开发工具</a></div><span><a href=/computer-science/programming/dev-tool/vcpkg/ title=C&#x2F;C++包管理工具vcpkg>C/C++包管理工具vcpkg</a></span></li><li class=item><div class=breadcrumb><a href=/categories/general-science-and-technology/ title="分类于 通用科学技术">通用科学技术</a><i class="ic i-angle-right"></i> <a href=/categories/general-science-and-technology/smartphone/ title="分类于 通用技术之手机端">通用技术之手机端</a></div><span><a href=/general-science-and-technology/smartphone/del-builtin-softwares/ title=手机内置软件卸载>手机内置软件卸载</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a></div><span><a href=/computer-science/programming/c-language/c-data-structure/linear-structure/doubly-link-list/ title=C语言-双向链表>C语言-双向链表</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a></div><span><a href=/computer-science/programming/c-language/c-data-structure/nonlinear-structure/tree-forest/ title=C语言-孩子兄弟树>C语言-孩子兄弟树</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/c-data-structure/ title="分类于 C语言数据结构">C语言数据结构</a></div><span><a href=/computer-science/programming/c-language/c-data-structure/stack/ title=线性表之栈>线性表之栈</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/python/ title="分类于 Python">Python</a></div><span><a href=/computer-science/programming/python/flask-basic/ title=Python后端框架Flask基础>Python后端框架Flask基础</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/network-programming/ title="分类于 网络编程">网络编程</a></div><span><a href=/computer-science/programming/network-programming/log/ title=C&#x2F;C++服务程序的运行日志>C/C++服务程序的运行日志</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/bitwise/ title="分类于 位运算">位运算</a></div><span><a href=/computer-science/programming/c-language/c-algorithm/bitwise/pattern/ title=位运算-模式>位运算-模式</a></span></li></ul></div><div><h2>最新评论</h2><ul id=waline-recent></ul></div></div><div class=status><div class=copyright>&copy; 2021 – <span itemprop=copyrightYear>2025</span><span class=with-love><i class="ic i-sakura rotate"></i></span> <span class=author itemprop=copyrightHolder>ReverseSacle @ ReverseSacle-Blog</span></div><div class=count><i class="ic i-clock" aria-hidden=true></i> <span id=time align=center>载入时间中...<script defer>var now=new Date;function createtime(){var n=new Date("2021-11-16 22:30:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("time").innerHTML="已经过 "+dnum+" 天 "+hnum+" 小时 "+mnum+" 分 "+snum+" 秒 "}setInterval("createtime()",250)</script></span><span class=post-meta-item-icon>|&nbsp<i class="ic i-chart-area"></i></span> <span title=站点总字数>2.1m 字</span> <span class=post-meta-item-icon>|&nbsp<i class="ic i-coffee"></i></span> <span title=站点阅读时长>40:40</span></div></div></div></footer></div><script data-config>var LOCAL={path:"computer-science/programming/c-language/basis/c/cpart1/",favicon:{show:"ReverseSacle-Blog",hide:"ReverseSacle-Blog"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},waline:!0,copy_tex:!0,katex:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src=https://polyfill.alicdn.com/v3/polyfill.min.js></script><script src=https://cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1.16.0/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js></script><script src=/js/app.js></script></body></html>