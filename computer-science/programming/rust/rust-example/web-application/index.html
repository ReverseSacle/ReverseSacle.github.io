<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content=#222><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=icon type=image/ico sizes=48x48 href=/images/favicon.ico><link rel=alternate type=application/rss+xml title=逆转天平 href=https://www.reversesacle.com/rss.xml><link rel=alternate type=application/atom+xml title=逆转天平 href=https://www.reversesacle.com/atom.xml><link rel=alternate type=application/json title=逆转天平 href=https://www.reversesacle.com/feed.json><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel=stylesheet href=/css/app.css><meta name=keywords content=ReverseSacle,reversesacle><meta name=description content="知识书库 & 学习点滴"><link rel=canonical href=https://www.reversesacle.com/computer-science/programming/rust/rust-example/web-application/ ><title>Rust在Linux(CentOS7)虚拟机中的Web基础运用 - Rust案例 - Rust - 编程 - 计算机科学 | ReverseSacle-Blog</title><meta name=generator content="Hexo 6.3.0"></head><body itemscope itemtype=http://schema.org/WebPage><div id=loading><div class=dotloader><div class=dot></div><div class=dot></div><div class=dot></div><div class=dot></div><div class=dot></div></div></div><div id=container><header id=header itemscope itemtype=http://schema.org/WPHeader><div class=inner><div id=brand><div class=pjax><h1 itemprop="name headline">Rust在Linux(CentOS7)虚拟机中的Web基础运用</h1><div class=meta><span class=item title="创建时间：2024-01-25 12:09:06"><span class=icon><i class="ic i-calendar"></i></span> <span class=text>发表于</span> <time itemprop="dateCreated datePublished" datetime=2024-01-25T12:09:06+08:00>2024-01-25</time></span><span class=item title=本文字数><span class=icon><i class="ic i-pen"></i></span> <span class=text>本文字数</span> <span>32k</span> <span class=text>字</span></span><span class=item title=阅读时长><span class=icon><i class="ic i-clock"></i></span> <span class=text>阅读时长</span> <span>37 分钟</span></span></div></div></div><nav id=nav><div class=inner><div class=toggle><div class=lines role=navigation aria-label=切换导航栏><span class=line></span><span class=line></span><span class=line></span></div></div><ul class=menu><li class="item title"><a href=/ rel=start>ReverseSacle-Blog</a></li></ul><ul class=right><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id=imgs class=pjax><ul><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg14.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg10.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg20.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg21.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg16.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg4.webp></li></ul></div></header><div id=waves><svg class=waves xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewBox="0 24 150 28" preserveAspectRatio=none shape-rendering=auto><defs><path id=gentle-wave d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352z"/></defs><g class=parallax><use xlink:href=#gentle-wave x=48 y=0 /><use xlink:href=#gentle-wave x=48 y=3 /><use xlink:href=#gentle-wave x=48 y=5 /><use xlink:href=#gentle-wave x=48 y=7 /></g></svg></div><main><div class=inner><div id=main class=pjax><div class="article wrap"><div class=breadcrumb itemscope itemtype=https://schema.org/BreadcrumbList><i class="ic i-home"></i> <span><a href=/ >首页</a></span><i class="ic i-angle-right"></i> <span itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/ itemprop=item rel=index title="分类于 计算机科学"><span itemprop=name>计算机科学</span></a><meta itemprop=position content=1></span><i class="ic i-angle-right"></i> <span itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/programming/ itemprop=item rel=index title="分类于 编程"><span itemprop=name>编程</span></a><meta itemprop=position content=2></span><i class="ic i-angle-right"></i> <span itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/programming/rust/ itemprop=item rel=index title="分类于 Rust"><span itemprop=name>Rust</span></a><meta itemprop=position content=3></span><i class="ic i-angle-right"></i> <span class=current itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/programming/rust/rust-example/ itemprop=item rel=index title="分类于 Rust案例"><span itemprop=name>Rust案例</span></a><meta itemprop=position content=4></span></div><article itemscope itemtype=http://schema.org/Article class="post block" lang=zh-CN><link itemprop=mainEntityOfPage href=https://www.reversesacle.com/computer-science/programming/rust/rust-example/web-application/ ><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content=/images/avatar.webp><meta itemprop=name content=ReverseSacle><meta itemprop=description content="所见即所得，所思即所行, 知识书库 & 学习点滴"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content=逆转天平></span><div class="body md" itemprop=articleBody><p><span class=exturl data-url="aHR0cHM6Ly9ydXN0d2FzbS5naXRodWIuaW8vZG9jcy9ib29rL2dhbWUtb2YtbGlmZS9pbnRyb2R1Y3Rpb24uaHRtbA==">Rust-Web应用官方教程</span></p><h2 id=配置linux中的rust依赖环境><a class=anchor href=#配置linux中的rust依赖环境>#</a> 配置Linux中的Rust依赖环境</h2><h3 id=安装所需的linux工具><a class=anchor href=#安装所需的linux工具>#</a> 安装所需的Linux工具</h3><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment"># 安装curl</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment"># 网络下载工具</span></pre></td></tr><tr><td data-num=3></td><td><pre>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">curl</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment"># 安装wget</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment"># 网络下载工具</span></pre></td></tr><tr><td data-num=7></td><td><pre>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">wget</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment"># 安装unzip</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment"># 用于zip压缩包解压</span></pre></td></tr><tr><td data-num=11></td><td><pre>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">unzip</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment"># 安装lsof</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token comment"># 用于查看系统上当前打开的文件、套接字和其他资源的详细信息</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token comment"># 这里用来查看占用端口情况</span></pre></td></tr><tr><td data-num=16></td><td><pre>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">lsof</span></pre></td></tr></table></figure><h3 id=安装rust><a class=anchor href=#安装rust>#</a> 安装Rust</h3><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment"># 卸载Rust</span></pre></td></tr><tr><td data-num=2></td><td><pre>rustup self uninstall</pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment"># crate下载源临时切换</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token builtin class-name">export</span> <span class="token assign-left variable">RUSTUP_DIST_SERVER</span><span class="token operator">=</span>https://mirrors.ustc.edu.cn/rust-static</pre></td></tr><tr><td data-num=6></td><td><pre><span class="token builtin class-name">export</span> <span class="token assign-left variable">RUSTUP_UPDATE_ROOT</span><span class="token operator">=</span>https://mirrors.ustc.edu.cn/rust-static/rustup</pre></td></tr><tr><td data-num=7></td><td><pre></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token comment"># 安装Rust</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token function">curl</span> <span class="token parameter variable">-f</span> <span class="token parameter variable">--proto</span> <span class="token string">'=https'</span> <span class="token parameter variable">--tlsv1.2</span> <span class="token parameter variable">-sSf</span> https://sh.rustup.rs <span class="token operator">|</span> <span class="token function">sh</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment"># 输入1</span></pre></td></tr><tr><td data-num=11></td><td><pre></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token comment"># 配置环境</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token builtin class-name">source</span> <span class="token environment constant">$HOME</span>/.cargo/env</pre></td></tr><tr><td data-num=14></td><td><pre></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token comment"># 查看安装版本</span></pre></td></tr><tr><td data-num=16></td><td><pre>rustc <span class="token parameter variable">--version</span></pre></td></tr><tr><td data-num=17></td><td><pre></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token comment"># 安装编译环境</span></pre></td></tr><tr><td data-num=19></td><td><pre>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> gcc</pre></td></tr><tr><td data-num=20></td><td><pre>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> gcc-c++</pre></td></tr></table></figure><h3 id=安装工具链依赖><a class=anchor href=#安装工具链依赖>#</a> 安装工具链依赖</h3><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment"># 安装git</span></pre></td></tr><tr><td data-num=2></td><td><pre>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">git</span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment"># 安装openssl-devel</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment"># 是OpenSSL库的开发包，包含</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment"># 在开发期间用于编译和链接的OpenSSL头文件，</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token comment"># OpenSSL的静态链接库</span></pre></td></tr><tr><td data-num=8></td><td><pre>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> openssl-devel</pre></td></tr><tr><td data-num=9></td><td><pre></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment">#### 升级插件 ####</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">## 升级bison ##</span></pre></td></tr><tr><td data-num=12></td><td><pre>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> bison</pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment">#############################</span></pre></td></tr><tr><td data-num=14></td><td><pre></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token comment">## 升级GCC ##</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token builtin class-name">cd</span> ~</pre></td></tr><tr><td data-num=17></td><td><pre>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> centos-release-scl</pre></td></tr><tr><td data-num=18></td><td><pre>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> devtoolset-8-gcc*</pre></td></tr><tr><td data-num=19></td><td><pre><span class="token function">mv</span> /usr/bin/gcc /usr/bin/gcc-4.8.5</pre></td></tr><tr><td data-num=20></td><td><pre><span class="token function">mv</span> /usr/bin/g++ /usr/bin/g++-4.8.5</pre></td></tr><tr><td data-num=21></td><td><pre><span class="token function">ln</span> <span class="token parameter variable">-s</span> /opt/rh/devtoolset-8/root/bin/gcc /usr/bin/gcc</pre></td></tr><tr><td data-num=22></td><td><pre><span class="token function">ln</span> <span class="token parameter variable">-s</span> /opt/rh/devtoolset-8/root/bin/g++ /usr/bin/g++</pre></td></tr><tr><td data-num=23></td><td><pre><span class="token comment">#############################</span></pre></td></tr><tr><td data-num=24></td><td><pre></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token comment">## 升级make ##</span></pre></td></tr><tr><td data-num=26></td><td><pre><span class="token builtin class-name">cd</span> ~</pre></td></tr><tr><td data-num=27></td><td><pre><span class="token function">wget</span> http://ftp.gnu.org/gnu/make/make-4.3.tar.gz</pre></td></tr><tr><td data-num=28></td><td><pre><span class="token function">tar</span> <span class="token parameter variable">-xzvf</span> make-4.3.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> make-4.3/</pre></td></tr><tr><td data-num=29></td><td><pre>./configure  <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/make</pre></td></tr><tr><td data-num=30></td><td><pre><span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span></pre></td></tr><tr><td data-num=31></td><td><pre><span class="token builtin class-name">cd</span> /usr/bin/ <span class="token operator">&amp;&amp;</span> <span class="token function">mv</span> <span class="token function">make</span> make.bak</pre></td></tr><tr><td data-num=32></td><td><pre><span class="token function">ln</span> <span class="token parameter variable">-sv</span> /usr/local/make/bin/make /usr/bin/make</pre></td></tr><tr><td data-num=33></td><td><pre><span class="token comment">#############################</span></pre></td></tr><tr><td data-num=34></td><td><pre></pre></td></tr><tr><td data-num=35></td><td><pre><span class="token comment">## 升级glibc ##</span></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token builtin class-name">cd</span> ~</pre></td></tr><tr><td data-num=37></td><td><pre><span class="token function">wget</span> http://ftp.gnu.org/gnu/glibc/glibc-2.28.tar.gz</pre></td></tr><tr><td data-num=38></td><td><pre><span class="token function">tar</span> xf glibc-2.28.tar.gz </pre></td></tr><tr><td data-num=39></td><td><pre><span class="token builtin class-name">cd</span> glibc-2.28/ <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> build  <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> build</pre></td></tr><tr><td data-num=40></td><td><pre><span class="token punctuation">..</span>/configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr --disable-profile --enable-add-ons --with-headers<span class="token operator">=</span>/usr/include --with-binutils<span class="token operator">=</span>/usr/bin</pre></td></tr><tr><td data-num=41></td><td><pre><span class="token comment">#############################</span></pre></td></tr><tr><td data-num=42></td><td><pre></pre></td></tr><tr><td data-num=43></td><td><pre><span class="token comment">## 升级升级libstdc++ ##</span></pre></td></tr><tr><td data-num=44></td><td><pre><span class="token builtin class-name">cd</span> ~/glibc-2.28/build</pre></td></tr><tr><td data-num=45></td><td><pre><span class="token function">make</span> all</pre></td></tr><tr><td data-num=46></td><td><pre>yum whatprovides libstdc++.so.6</pre></td></tr><tr><td data-num=47></td><td><pre>yum update <span class="token parameter variable">-y</span> libstdc++.x86_64</pre></td></tr><tr><td data-num=48></td><td><pre></pre></td></tr><tr><td data-num=49></td><td><pre><span class="token builtin class-name">cd</span> ~</pre></td></tr><tr><td data-num=50></td><td><pre><span class="token function">wget</span> http://www.vuln.cn/wp-content/uploads/2019/08/libstdc.so_.6.0.26.zip</pre></td></tr><tr><td data-num=51></td><td><pre><span class="token function">unzip</span> libstdc.so_.6.0.26.zip</pre></td></tr><tr><td data-num=52></td><td><pre><span class="token function">cp</span> libstdc++.so.6.0.26 /lib64/</pre></td></tr><tr><td data-num=53></td><td><pre><span class="token builtin class-name">cd</span> /lib64</pre></td></tr><tr><td data-num=54></td><td><pre></pre></td></tr><tr><td data-num=55></td><td><pre><span class="token comment"># 把原来的命令做备份</span></pre></td></tr><tr><td data-num=56></td><td><pre><span class="token function">cp</span> libstdc++.so.6 libstdc++.so.6.bak</pre></td></tr><tr><td data-num=57></td><td><pre><span class="token function">rm</span> <span class="token parameter variable">-f</span> libstdc++.so.6</pre></td></tr><tr><td data-num=58></td><td><pre></pre></td></tr><tr><td data-num=59></td><td><pre><span class="token comment"># 重新链接</span></pre></td></tr><tr><td data-num=60></td><td><pre><span class="token function">ln</span> <span class="token parameter variable">-s</span> libstdc++.so.6.0.26 libstdc++.so.6</pre></td></tr><tr><td data-num=61></td><td><pre></pre></td></tr><tr><td data-num=62></td><td><pre><span class="token builtin class-name">cd</span> ~/glibc-2.28/build</pre></td></tr><tr><td data-num=63></td><td><pre><span class="token function">make</span></pre></td></tr><tr><td data-num=64></td><td><pre><span class="token function">make</span> <span class="token function">install</span></pre></td></tr><tr><td data-num=65></td><td><pre><span class="token comment">#################无视最后的报错#################</span></pre></td></tr><tr><td data-num=66></td><td><pre></pre></td></tr><tr><td data-num=67></td><td><pre><span class="token comment">## 由于glibc升级而需重新生成区域设置 ##</span></pre></td></tr><tr><td data-num=68></td><td><pre><span class="token builtin class-name">cd</span> ~</pre></td></tr><tr><td data-num=69></td><td><pre>localedef <span class="token parameter variable">-c</span> <span class="token parameter variable">-f</span> UTF-8 <span class="token parameter variable">-i</span> zh_CN zh_CN.UTF-8</pre></td></tr><tr><td data-num=70></td><td><pre>localectl set-locale <span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>zh_CN.UTF-8</pre></td></tr></table></figure><h3 id=安装工具链><a class=anchor href=#安装工具链>#</a> 安装工具链</h3><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment"># 安装wasm-pack依赖</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token function">cargo</span> <span class="token function">install</span> wasm-bindgen-cli</pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment"># 安装wasm-pack</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment"># 用于构建wasm应用程序的工具</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token function">cargo</span> <span class="token function">install</span> wasm-pack</pre></td></tr><tr><td data-num=7></td><td><pre></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token comment"># 安装cargo-generate</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment"># 通过利用预先存在的git存储库作为模板，帮助快速启动并运行新的Rust项目</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token function">cargo</span> <span class="token function">install</span> cargo-generate</pre></td></tr><tr><td data-num=11></td><td><pre></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token comment"># 安装Node 与 npm</span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token comment"># Node Package Manager - NPM</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token comment"># 是JavaScript的包管理器。使用它来安装和运行JavaScript捆绑器和开发服务器</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token builtin class-name">cd</span> ~</pre></td></tr><tr><td data-num=16></td><td><pre><span class="token function">wget</span> https://nodejs.org/dist/v14.21.3/node-v14.21.3-linux-x64.tar.xz</pre></td></tr><tr><td data-num=17></td><td><pre><span class="token function">tar</span> <span class="token parameter variable">-xvf</span> node-v14.21.3-linux-x64.tar.xz</pre></td></tr><tr><td data-num=18></td><td><pre><span class="token function">ln</span> <span class="token parameter variable">-s</span> /root/node-v14.21.3-linux-x64/bin/node /usr/local/bin/node</pre></td></tr><tr><td data-num=19></td><td><pre><span class="token function">ln</span> <span class="token parameter variable">-s</span> /root/node-v14.21.3-linux-x64/bin/npm /usr/local/bin/npm</pre></td></tr><tr><td data-num=20></td><td><pre><span class="token function">node</span> <span class="token parameter variable">-v</span></pre></td></tr></table></figure><h2 id=临时crate下载源切换><a class=anchor href=#临时crate下载源切换>#</a> 临时crate下载源切换</h2><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token builtin class-name">export</span> <span class="token assign-left variable">RUSTUP_DIST_SERVER</span><span class="token operator">=</span>https://mirrors.ustc.edu.cn/rust-static</pre></td></tr><tr><td data-num=2></td><td><pre><span class="token builtin class-name">export</span> <span class="token assign-left variable">RUSTUP_UPDATE_ROOT</span><span class="token operator">=</span>https://mirrors.ustc.edu.cn/rust-static/rustup</pre></td></tr></table></figure><h2 id=临时npm下载源切换><a class=anchor href=#临时npm下载源切换>#</a> 临时npm下载源切换</h2><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment"># npm后面添加的选项</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment"># 淘宝镜像源</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token parameter variable">--registry</span> https://registry.npmmirror.com</pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment"># 本地代理</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment"># socks5</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token function">git</span> config <span class="token parameter variable">--global</span> http.proxy socks5://127.0.0.1:10808</pre></td></tr><tr><td data-num=8></td><td><pre><span class="token function">git</span> config <span class="token parameter variable">--global</span> https.proxy socks5://127.0.0.1:10808</pre></td></tr></table></figure><h2 id=安全内核与防火墙><a class=anchor href=#安全内核与防火墙>#</a> 安全内核与防火墙</h2><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">#### 防火墙操作二选一 ####</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment"># (可选一) 开通端口</span></pre></td></tr><tr><td data-num=3></td><td><pre>firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8080</span>/tcp <span class="token parameter variable">--permanent</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment"># (可选二) 关闭防火墙</span></pre></td></tr><tr><td data-num=6></td><td><pre>systemctl stop firewalld</pre></td></tr><tr><td data-num=7></td><td><pre><span class="token comment">##########################</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment">#### 后续操作失败后再执行的附加操作，当后续操作失败了再执行 ####</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment">#### 关闭SELINUX操作二选一 ####</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">## (可选一)临时关闭</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token comment"># 设置SELinux为permissive模式，临时关闭</span></pre></td></tr><tr><td data-num=13></td><td><pre>setenforce <span class="token number">0</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token comment"># 设置SELinux为enforcing模式，临时关闭后开启</span></pre></td></tr><tr><td data-num=15></td><td><pre>setenforce <span class="token number">1</span> </pre></td></tr><tr><td data-num=16></td><td><pre></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token comment">## (可选二)永久关闭</span></pre></td></tr><tr><td data-num=18></td><td><pre><span class="token function">vi</span> /etc/selinux/config</pre></td></tr><tr><td data-num=19></td><td><pre><span class="token comment"># 将SELINUX=enforcing改为SELINUX=disabled</span></pre></td></tr><tr><td data-num=20></td><td><pre><span class="token comment"># 重启虚拟机后</span></pre></td></tr><tr><td data-num=21></td><td><pre>getenforce</pre></td></tr><tr><td data-num=22></td><td><pre><span class="token comment">##########################</span></pre></td></tr></table></figure><h2 id=hello-world><a class=anchor href=#hello-world>#</a> Hello world!</h2><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token builtin class-name">cd</span> ~</pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment"># wasm-pack模板</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token function">cargo</span> generate <span class="token parameter variable">--git</span> https://github.com/rustwasm/wasm-pack-template</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">## 名称统一为wasm-game-of-life</span></pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token builtin class-name">cd</span> wasm-game-of-life</pre></td></tr><tr><td data-num=7></td><td><pre>wasm-pack build --no-typescript</pre></td></tr><tr><td data-num=8></td><td><pre><span class="token function">npm</span> init wasm-app www <span class="token parameter variable">--registry</span> https://registry.npmmirror.com</pre></td></tr><tr><td data-num=9></td><td><pre><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--registry</span> https://registry.npmmirror.com</pre></td></tr></table></figure><p>在npm的package.json配置文件中添加dependencies</p><figure class="highlight json"><figcaption data-lang=JSON><span>/wasm-game-of-life/www/package.json</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>  <span class="token comment">// -----snip-----</span></pre></td></tr><tr><td data-num=3></td><td><pre>  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token property">"wasm-game-of-life"</span><span class="token operator">:</span> <span class="token string">"file:../pkg"</span></pre></td></tr><tr><td data-num=5></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=6></td><td><pre>  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token comment">// -----snip-----</span></pre></td></tr><tr><td data-num=8></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>修改项目使用的依赖为wasm-game-of-life，将hello-wasm-pack修改为wasm-game-of-life</p><figure class="highlight js"><figcaption data-lang=JavaScript><span>wasm-game-of-life/www/index.js</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> wasm <span class="token keyword">from</span> <span class="token string">"wasm-game-of-life"</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>由于虚拟机监听的访问地址受到限制，因此不能在宿主主机的浏览器中打开。为此需将监听地址修改为任意地址，以此可以在虚拟机外打开。</p><figure class="highlight js"><figcaption data-lang=JavaScript><span>wasm-game-of-life/www/webpack.config.js</span></figcaption><table><tr><td data-num=1></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>  <span class="token comment">/* -----snip----- */</span></pre></td></tr><tr><td data-num=3></td><td><pre>  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'index.html'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=5></td><td><pre>  <span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=6></td><td><pre>  <span class="token comment">/* 最后面添加监听地址修改代码 */</span></pre></td></tr><tr><td data-num=7></td><td><pre>  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span> </pre></td></tr><tr><td data-num=11></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>默认宿主主机的虚拟机以桥接的方式连接网络，在宿主主机的浏览器上输入<code>http://虚拟机IP:8080/</code>，即可访问。</p><h2 id=网站留言评论系统-应用案例-rust嵌入js中><a class=anchor href=#网站留言评论系统-应用案例-rust嵌入js中>#</a> 网站留言评论系统-应用案例-Rust嵌入JS中</h2><p>该案例与<span class=exturl data-url=aHR0cHM6Ly9naXRodWIuY29tL1JldmVyc2VTYWNsZS9zaW1wbGUtY29tbWVudC1zeXN0ZW0tcnVzdC12ZXJzaW9u>→simple-comment-system-rust-version</span>配套使用</p><p>默认在Linux(CentOS 7.9)虚拟机中的根目录</p><h3 id=wasm-pack命令概述><a class=anchor href=#wasm-pack命令概述>#</a> wasm-pack命令概述</h3><p>wasm-pack的编译命令参数<code>--target</code>，默认为<code>--target bundler</code>，相关参数如下</p><ul><li><p><code>web</code> - 用于在浏览器环境中运行的WebAssembly模块</p></li><li><p><code>nodejs</code> - 用于在Node.js环境中运行的WebAssembly模块</p></li><li><p><code>bundler</code> - 用于在通用JavaScript bundler(例如Webpack或Parcel)中使用的WebAssembly模块</p></li><li><p><code>no-modules</code> - 在没有ES6模块支持的环境中使用的WebAssembly模块</p></li><li><p><code>es5</code> - 为旧版本浏览器和环境中的ES5 JavaScript提供支持</p></li></ul><h3 id=创建新项目><a class=anchor href=#创建新项目>#</a> 创建新项目</h3><p><strong>创建新crate项目</strong> - <code>cargo new webpage --lib</code></p><p><strong>添加Rust与Javascript交互所需依赖</strong></p><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment"># 切换到项目根目录</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token builtin class-name">cd</span> webpage</pre></td></tr><tr><td data-num=3></td><td><pre><span class="token function">vi</span> Cargo.toml</pre></td></tr></table></figure><figure class="highlight toml"><figcaption data-lang=TOML><span>./Cargo.toml</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token punctuation">[</span><span class="token table class-name">package</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">"webpage"</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"0.1.0"</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token key property">edition</span> <span class="token punctuation">=</span> <span class="token string">"2021"</span></pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token punctuation">[</span><span class="token table class-name">lib</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token key property">crate-type</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"cdylib"</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token key property">wasm-bindgen</span> <span class="token punctuation">=</span> <span class="token string">"0.2.90"</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token key property">chrono</span> <span class="token punctuation">=</span> <span class="token string">"0.4.9"</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token key property">web-sys</span> <span class="token punctuation">=</span> <span class="token punctuation">&#123;</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"0.3.68"</span><span class="token punctuation">,</span><span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"console"</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>编写交互代码</strong></p><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token builtin class-name">cd</span> src</pre></td></tr></table></figure><p><strong>依次创建以下目录内容</strong></p><figure class="highlight text"><figcaption data-lang=text></figcaption><table><tr><td data-num=1></td><td><pre>src</pre></td></tr><tr><td data-num=2></td><td><pre>├── lib.rs</pre></td></tr><tr><td data-num=3></td><td><pre>├── TextBeautify.rs</pre></td></tr><tr><td data-num=4></td><td><pre>└── TimeTackle.rs</pre></td></tr></table></figure><figure class="highlight rust"><figcaption data-lang=Rust><span>./src/lib.rs</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token attribute attr-name">#![allow(non_snake_case)]</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token attribute attr-name">#![allow(dead_code)]</span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">mod</span> <span class="token class-name">TextBeautify</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">mod</span> <span class="token class-name">TimeTackle</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight rust"><figcaption data-lang=Rust><span>./src/TextBeautify.rs</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">use</span> <span class="token namespace">wasm_bindgen<span class="token punctuation">::</span>prelude<span class="token punctuation">::</span></span><span class="token operator">*</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token attribute attr-name">#[wasm_bindgen]</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">text_beautify</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">str</span><span class="token punctuation">,</span>cols<span class="token punctuation">:</span> <span class="token keyword">usize</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">String</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>	<span class="token keyword">let</span> <span class="token keyword">mut</span> buf <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre></pre></td></tr><tr><td data-num=8></td><td><pre>	<span class="token keyword">for</span> c <span class="token keyword">in</span> text<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=9></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=10></td><td><pre>		<span class="token keyword">if</span> <span class="token char">'\r'</span> <span class="token operator">==</span> c <span class="token operator">||</span> <span class="token char">'\n'</span> <span class="token operator">==</span> c <span class="token punctuation">&#123;</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=11></td><td><pre>		<span class="token keyword">if</span> <span class="token number">0</span> <span class="token operator">!=</span> buf<span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token number">0</span> <span class="token operator">==</span> buf<span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> cols <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=12></td><td><pre>			buf<span class="token punctuation">.</span><span class="token function">push_str</span><span class="token punctuation">(</span><span class="token string">"&lt;br/>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=13></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=14></td><td><pre>		buf<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=15></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=16></td><td><pre>	buf</pre></td></tr><tr><td data-num=17></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight rust"><figcaption data-lang=Rust><span>./src/TimeTackle.rs</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">use</span> <span class="token namespace">chrono<span class="token punctuation">::</span></span><span class="token punctuation">&#123;</span> <span class="token class-name">Utc</span><span class="token punctuation">,</span><span class="token class-name">TimeZone</span><span class="token punctuation">,</span><span class="token class-name">NaiveDateTime</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">use</span> <span class="token namespace">wasm_bindgen<span class="token punctuation">::</span>prelude<span class="token punctuation">::</span></span><span class="token operator">*</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token attribute attr-name">#[wasm_bindgen]</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">timestamp_tackle</span><span class="token punctuation">(</span>stamp<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">str</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">String</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=7></td><td><pre>	<span class="token keyword">if</span> <span class="token keyword">let</span> <span class="token class-name">Ok</span><span class="token punctuation">(</span>old_stamp<span class="token punctuation">)</span> <span class="token operator">=</span> stamp<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token keyword">u64</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=8></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=9></td><td><pre>		<span class="token keyword">let</span> new_stamp <span class="token operator">=</span> <span class="token class-name">Utc</span><span class="token punctuation">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">timestamp_millis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">u64</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>		<span class="token keyword">let</span> time_space <span class="token operator">=</span> new_stamp <span class="token operator">-</span> old_stamp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>		<span class="token keyword">let</span> pass_days <span class="token operator">=</span> time_space <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">24</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre>		<span class="token keyword">let</span> pass_hours <span class="token operator">=</span> time_space <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">24</span> <span class="token operator">*</span> pass_days<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=13></td><td><pre>		<span class="token keyword">let</span> pass_minutes <span class="token operator">=</span> time_space <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">24</span> <span class="token operator">*</span> pass_days<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> pass_hours<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre>		<span class="token keyword">let</span> <span class="token keyword">mut</span> buf <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=15></td><td><pre></pre></td></tr><tr><td data-num=16></td><td><pre>		<span class="token keyword">if</span> <span class="token number">0</span> <span class="token operator">!=</span> pass_days</pre></td></tr><tr><td data-num=17></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=18></td><td><pre>			<span class="token keyword">if</span> pass_days <span class="token operator">></span> <span class="token number">365</span></pre></td></tr><tr><td data-num=19></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=20></td><td><pre>				<span class="token keyword">if</span> <span class="token keyword">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>naive<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token class-name">NaiveDateTime</span><span class="token punctuation">::</span><span class="token function">from_timestamp_opt</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=21></td><td><pre>					old_stamp <span class="token keyword">as</span> <span class="token keyword">i64</span><span class="token punctuation">,</span><span class="token number">0</span></pre></td></tr><tr><td data-num=22></td><td><pre>				<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=23></td><td><pre>					<span class="token keyword">let</span> datetime <span class="token operator">=</span> <span class="token class-name">Utc</span><span class="token punctuation">.</span><span class="token function">from_utc_datetime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>naive<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=24></td><td><pre>					<span class="token keyword">let</span> format_str <span class="token operator">=</span> <span class="token string">"%Y-%m-%d"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=25></td><td><pre>					<span class="token keyword">let</span> format_time <span class="token operator">=</span> datetime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>format_str<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=26></td><td><pre></pre></td></tr><tr><td data-num=27></td><td><pre>					buf<span class="token punctuation">.</span><span class="token function">push_str</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>format_time<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=28></td><td><pre>				<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"error time"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=29></td><td><pre>			<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> buf<span class="token punctuation">.</span><span class="token function">push_str</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"&#123;&#125; 天前"</span><span class="token punctuation">,</span>pass_days<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=30></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=31></td><td><pre>		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token number">0</span> <span class="token operator">!=</span> pass_hours<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=32></td><td><pre>			buf<span class="token punctuation">.</span><span class="token function">push_str</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"&#123;&#125; 小时前"</span><span class="token punctuation">,</span>pass_hours<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=33></td><td><pre>		<span class="token punctuation">&#125;</span> </pre></td></tr><tr><td data-num=34></td><td><pre>		<span class="token keyword">else</span> <span class="token punctuation">&#123;</span> buf<span class="token punctuation">.</span><span class="token function">push_str</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"&#123;&#125; 分钟前"</span><span class="token punctuation">,</span>pass_minutes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=35></td><td><pre></pre></td></tr><tr><td data-num=36></td><td><pre>		<span class="token keyword">return</span> buf<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=37></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=38></td><td><pre>	<span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"error time"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=39></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>wasm-pack build</strong></p><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span></pre></td></tr><tr><td data-num=2></td><td><pre>systemctl restart network</pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment"># 项目中没有typesrcipt</span></pre></td></tr><tr><td data-num=5></td><td><pre>wasm-pack build --no-typescript <span class="token parameter variable">--target</span> web</pre></td></tr></table></figure><h3 id=拉取http服务项目><a class=anchor href=#拉取http服务项目>#</a> 拉取HTTP服务项目</h3><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token builtin class-name">cd</span> ~</pre></td></tr><tr><td data-num=2></td><td><pre><span class="token function">git</span> clone https://github.com/ReverseSacle/simple-comment-system-rust-version.git</pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token function">vi</span> simple-comment-system-rust-version/src/Config/_config.json</pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment">## 修改 _config.json ##</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token comment"># .... #</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token string">"root_dir"</span><span class="token builtin class-name">:</span> <span class="token string">"../webpage/docs"</span>,</pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment"># .... #</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment">####</span></pre></td></tr></table></figure><h3 id=编写前端代码><a class=anchor href=#编写前端代码>#</a> 编写前端代码</h3><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token builtin class-name">cd</span> ~</pre></td></tr><tr><td data-num=2></td><td><pre><span class="token builtin class-name">cd</span> webpage</pre></td></tr><tr><td data-num=3></td><td><pre><span class="token function">mkdir</span> docs</pre></td></tr><tr><td data-num=4></td><td><pre><span class="token builtin class-name">cd</span> docs</pre></td></tr></table></figure><p><strong>依次创建以下目录内容</strong></p><figure class="highlight text"><figcaption data-lang=text></figcaption><table><tr><td data-num=1></td><td><pre>docs</pre></td></tr><tr><td data-num=2></td><td><pre>├── css</pre></td></tr><tr><td data-num=3></td><td><pre>│   ├── comment_reply.css</pre></td></tr><tr><td data-num=4></td><td><pre>│   └── comments.css</pre></td></tr><tr><td data-num=5></td><td><pre>├── index.html</pre></td></tr><tr><td data-num=6></td><td><pre>└── js</pre></td></tr><tr><td data-num=7></td><td><pre>    └── comments.js</pre></td></tr></table></figure><figure class="highlight html"><figcaption data-lang=HTML><span>./docs/index.html</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./css/comments.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./css/comment_reply.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/crypto-js@4.2.0/core.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/crypto-js@4.2.0/sha256.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./js/comments.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./js/webpage.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment-block<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=16></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>input-block<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=17></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>input-area clearfix<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=18></td><td><pre>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nickname<span class="token punctuation">"</span></span> <span class="token attr-name">maxlength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>19<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span> nickname(1~19个字符)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=19></td><td><pre>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">maxlength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>44<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span> email(8~44字符)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=20></td><td><pre>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-block<span class="token punctuation">"</span></span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span> <span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=21></td><td><pre>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button-area clearfix<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=22></td><td><pre>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>commit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=23></td><td><pre>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=24></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=25></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>开头<code>_host</code>常量改为当前虚拟机IP地址。</p><figure class="highlight js"><figcaption data-lang=JavaScript><span>./docs/js/comments.js</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">import</span> init<span class="token punctuation">,</span><span class="token punctuation">&#123;</span> </pre></td></tr><tr><td data-num=2></td><td><pre>	timestamp_tackle<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=3></td><td><pre>	text_beautify  </pre></td></tr><tr><td data-num=4></td><td><pre><span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"./webpage.js"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=5></td><td><pre></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment">/* 服务器地址 */</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token keyword">const</span> _host <span class="token operator">=</span> <span class="token string">"192.168.80.151"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment">/* 前端POST请求 */</span></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">_PostRequest</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token keyword">try</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=13></td><td><pre>        <span class="token keyword">const</span> _URL <span class="token operator">=</span> <span class="token string">"http://"</span> <span class="token operator">+</span> _host <span class="token operator">+</span> url<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre>        <span class="token keyword">var</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=15></td><td><pre>            _URL<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=16></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=17></td><td><pre>                <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=18></td><td><pre>                <span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=19></td><td><pre>                    <span class="token string-property property">"Content-Type"</span><span class="token operator">:</span> <span class="token string">"text/plain"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=20></td><td><pre>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=21></td><td><pre>                <span class="token literal-property property">body</span><span class="token operator">:</span> data<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=22></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=23></td><td><pre>        <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=24></td><td><pre>        <span class="token keyword">return</span> response<span class="token punctuation">.</span>ok<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=25></td><td><pre>    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=26></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=27></td><td><pre></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token comment">/* 前端GET请求 */</span></pre></td></tr><tr><td data-num=29></td><td><pre><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">_GetRequest</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=30></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=31></td><td><pre>    <span class="token keyword">try</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=32></td><td><pre>        <span class="token keyword">const</span> _URL <span class="token operator">=</span> <span class="token string">"http://"</span> <span class="token operator">+</span> _host <span class="token operator">+</span> url<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=33></td><td><pre>        <span class="token keyword">var</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>_URL<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=34></td><td><pre></pre></td></tr><tr><td data-num=35></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=36></td><td><pre></pre></td></tr><tr><td data-num=37></td><td><pre>        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=38></td><td><pre>    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=39></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=40></td><td><pre></pre></td></tr><tr><td data-num=41></td><td><pre><span class="token comment">/* 获取主线评论的数量 */</span></pre></td></tr><tr><td data-num=42></td><td><pre><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">commentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=43></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=44></td><td><pre>    <span class="token keyword">const</span> responseData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">_GetRequest</span><span class="token punctuation">(</span><span class="token string">"/database?count"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=45></td><td><pre>    <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=46></td><td><pre></pre></td></tr><tr><td data-num=47></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span>responseData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> count <span class="token operator">=</span> responseData<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=48></td><td><pre></pre></td></tr><tr><td data-num=49></td><td><pre>    <span class="token keyword">return</span> count<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=50></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=51></td><td><pre></pre></td></tr><tr><td data-num=52></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num=53></td><td><pre><span class="token comment"> * 评论标签的头像处理 </span></pre></td></tr><tr><td data-num=54></td><td><pre><span class="token comment"> * 适配了Gravatar API</span></pre></td></tr><tr><td data-num=55></td><td><pre><span class="token comment">**/</span> </pre></td></tr><tr><td data-num=56></td><td><pre><span class="token keyword">function</span> <span class="token function">avatarAppend</span><span class="token punctuation">(</span><span class="token parameter">mainUserLabel<span class="token punctuation">,</span>mail_md5</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=57></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=58></td><td><pre>    <span class="token keyword">var</span> avatarLabel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=59></td><td><pre>    avatarLabel<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"avatar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=60></td><td><pre></pre></td></tr><tr><td data-num=61></td><td><pre>    <span class="token keyword">var</span> imgUrl <span class="token operator">=</span> <span class="token string">"https://gravatar.com/avatar/"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=62></td><td><pre>    avatarLabel<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"&lt;img src=\""</span> <span class="token operator">+</span> imgUrl <span class="token operator">+</span> mail_md5 <span class="token operator">+</span> <span class="token string">"\" alt=img>"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=63></td><td><pre>    mainUserLabel<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>avatarLabel<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=64></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=65></td><td><pre></pre></td></tr><tr><td data-num=66></td><td><pre><span class="token comment">/** </span></pre></td></tr><tr><td data-num=67></td><td><pre><span class="token comment"> * 评论框中评论内容的添加 </span></pre></td></tr><tr><td data-num=68></td><td><pre><span class="token comment"> * 就将从数据库表中获取的内容放到html的评论标签中</span></pre></td></tr><tr><td data-num=69></td><td><pre><span class="token comment">**/</span> </pre></td></tr><tr><td data-num=70></td><td><pre><span class="token keyword">function</span> <span class="token function">commentAppend</span><span class="token punctuation">(</span><span class="token parameter">mainUserLabel<span class="token punctuation">,</span>record<span class="token punctuation">,</span>response_label <span class="token operator">=</span> <span class="token keyword">null</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=71></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=72></td><td><pre>    <span class="token keyword">var</span> commentBoxLabel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=73></td><td><pre>    commentBoxLabel<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"comment-box"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=74></td><td><pre></pre></td></tr><tr><td data-num=75></td><td><pre>    <span class="token comment">/* comment box head area star-area */</span></pre></td></tr><tr><td data-num=76></td><td><pre>    <span class="token comment">/****************************************************/</span></pre></td></tr><tr><td data-num=77></td><td><pre>    <span class="token keyword">var</span> boxHead <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=78></td><td><pre>    boxHead<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"cbox-head clearfix"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=79></td><td><pre></pre></td></tr><tr><td data-num=80></td><td><pre>    <span class="token comment">/* nickname area */</span></pre></td></tr><tr><td data-num=81></td><td><pre>    <span class="token keyword">var</span> authorName <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=82></td><td><pre>    authorName<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"cbauthor-name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=83></td><td><pre>    authorName<span class="token punctuation">.</span>innerText <span class="token operator">=</span> record<span class="token punctuation">.</span>nick_name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=84></td><td><pre></pre></td></tr><tr><td data-num=85></td><td><pre>    <span class="token comment">/* timestamp transform into format time */</span></pre></td></tr><tr><td data-num=86></td><td><pre>    <span class="token keyword">var</span> timeSpendLabel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=87></td><td><pre>	<span class="token keyword">var</span> time_tackle <span class="token operator">=</span> <span class="token function">timestamp_tackle</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>create_at<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=88></td><td><pre>	timeSpendLabel<span class="token punctuation">.</span>innerText <span class="token operator">=</span> time_tackle<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=89></td><td><pre></pre></td></tr><tr><td data-num=90></td><td><pre>    <span class="token comment">/* reply area */</span></pre></td></tr><tr><td data-num=91></td><td><pre>    <span class="token keyword">var</span> replyLabel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=92></td><td><pre>    replyLabel<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"reply"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=93></td><td><pre>    replyLabel<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"response_id"</span><span class="token punctuation">,</span>record<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=94></td><td><pre>    replyLabel<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"回复"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=95></td><td><pre></pre></td></tr><tr><td data-num=96></td><td><pre>    boxHead<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>authorName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=97></td><td><pre>    boxHead<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>timeSpendLabel<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=98></td><td><pre>    boxHead<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>replyLabel<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=99></td><td><pre>    commentBoxLabel<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>boxHead<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=100></td><td><pre>    <span class="token comment">/****************************************************/</span></pre></td></tr><tr><td data-num=101></td><td><pre>    <span class="token comment">/* comment box head area end-area */</span></pre></td></tr><tr><td data-num=102></td><td><pre></pre></td></tr><tr><td data-num=103></td><td><pre>    <span class="token comment">/* coment box content area start-area */</span></pre></td></tr><tr><td data-num=104></td><td><pre>    <span class="token keyword">var</span> boxContent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=105></td><td><pre>    boxContent<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"cbox-content"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=106></td><td><pre></pre></td></tr><tr><td data-num=107></td><td><pre>    <span class="token keyword">var</span> response_user <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=108></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> response_label<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=109></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=110></td><td><pre>        response_user <span class="token operator">=</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=111></td><td><pre>            <span class="token string">"&lt;a class=\"at\" href=\"#\">"</span> <span class="token operator">+</span> </pre></td></tr><tr><td data-num=112></td><td><pre>            <span class="token string">"@"</span> <span class="token operator">+</span> response_label<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"nick_name"</span><span class="token punctuation">)</span> <span class="token operator">+</span> </pre></td></tr><tr><td data-num=113></td><td><pre>            <span class="token string">"&lt;/a>"</span> <span class="token operator">+</span> <span class="token string">","</span></pre></td></tr><tr><td data-num=114></td><td><pre>        <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=115></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=116></td><td><pre>    boxContent<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=117></td><td><pre>        response_user <span class="token operator">+</span> </pre></td></tr><tr><td data-num=118></td><td><pre>        <span class="token string">"&lt;p>"</span> <span class="token operator">+</span> </pre></td></tr><tr><td data-num=119></td><td><pre>        record<span class="token punctuation">.</span>comment <span class="token operator">+</span></pre></td></tr><tr><td data-num=120></td><td><pre>        <span class="token string">"&lt;/p>"</span></pre></td></tr><tr><td data-num=121></td><td><pre>    <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=122></td><td><pre>    commentBoxLabel<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>boxContent<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=123></td><td><pre></pre></td></tr><tr><td data-num=124></td><td><pre>    mainUserLabel<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>commentBoxLabel<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=125></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=126></td><td><pre></pre></td></tr><tr><td data-num=127></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num=128></td><td><pre><span class="token comment"> * 评论标签的样式创建以及内容添加</span></pre></td></tr><tr><td data-num=129></td><td><pre><span class="token comment"> * 新的评论标签的样式和内容添加，</span></pre></td></tr><tr><td data-num=130></td><td><pre><span class="token comment"> * 以及通过控制评论展示区css样式的高度属性来让展示区域实现变动</span></pre></td></tr><tr><td data-num=131></td><td><pre><span class="token comment">**/</span> </pre></td></tr><tr><td data-num=132></td><td><pre><span class="token keyword">function</span> <span class="token function">contentAppend</span><span class="token punctuation">(</span><span class="token parameter">userBlock<span class="token punctuation">,</span>record<span class="token punctuation">,</span>response_label <span class="token operator">=</span> <span class="token keyword">null</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=133></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=134></td><td><pre>    <span class="token keyword">var</span> commentBlock <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"comment-block"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=135></td><td><pre>    <span class="token keyword">var</span> commentContainer <span class="token operator">=</span> commentBlock<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=136></td><td><pre>    <span class="token keyword">var</span> mainUserLabel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=137></td><td><pre></pre></td></tr><tr><td data-num=138></td><td><pre>    mainUserLabel<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"main-level clearfix"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=139></td><td><pre></pre></td></tr><tr><td data-num=140></td><td><pre>    <span class="token function">avatarAppend</span><span class="token punctuation">(</span>mainUserLabel<span class="token punctuation">,</span>record<span class="token punctuation">.</span>mail_md5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=141></td><td><pre>    <span class="token function">commentAppend</span><span class="token punctuation">(</span>mainUserLabel<span class="token punctuation">,</span>record<span class="token punctuation">,</span>response_label<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=142></td><td><pre>    userBlock<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>mainUserLabel<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=143></td><td><pre></pre></td></tr><tr><td data-num=144></td><td><pre>    <span class="token comment">/* state stretch */</span></pre></td></tr><tr><td data-num=145></td><td><pre>    <span class="token keyword">var</span> CB_Height <span class="token operator">=</span> commentBlock<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=146></td><td><pre>    <span class="token keyword">var</span> newHeight <span class="token operator">=</span> CB_Height <span class="token operator">+</span> <span class="token number">90</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=147></td><td><pre></pre></td></tr><tr><td data-num=148></td><td><pre>    commentBlock<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> newHeight <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=149></td><td><pre>    commentContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> newHeight <span class="token operator">-</span> <span class="token number">325</span> <span class="token operator">+</span>  <span class="token string">"px"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=150></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=151></td><td><pre></pre></td></tr><tr><td data-num=152></td><td><pre><span class="token comment">/** </span></pre></td></tr><tr><td data-num=153></td><td><pre><span class="token comment"> * 回复按钮的输入区域的右上角的X的点击功能</span></pre></td></tr><tr><td data-num=154></td><td><pre><span class="token comment"> * 就是将由评论按钮功能产生的评论输入区标签删减，</span></pre></td></tr><tr><td data-num=155></td><td><pre><span class="token comment"> * 接着再调整发生高度变化的评论展示区和当前评论的内容展示区的高度到原来的样子</span></pre></td></tr><tr><td data-num=156></td><td><pre><span class="token comment">**/</span> </pre></td></tr><tr><td data-num=157></td><td><pre><span class="token keyword">function</span> <span class="token function">replyCancleClick</span><span class="token punctuation">(</span><span class="token parameter">reply_label</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=158></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=159></td><td><pre>    <span class="token keyword">var</span> cboxHead <span class="token operator">=</span> reply_label<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=160></td><td><pre>    <span class="token keyword">var</span> commentBox <span class="token operator">=</span> cboxHead<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=161></td><td><pre>    <span class="token keyword">var</span> cboxContent <span class="token operator">=</span> cboxHead<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=162></td><td><pre>    <span class="token keyword">var</span> commentBlock <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"comment-block"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=163></td><td><pre>    <span class="token keyword">var</span> CB_height <span class="token operator">=</span> commentBlock<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=164></td><td><pre>    <span class="token keyword">var</span> CC_height <span class="token operator">=</span> cboxContent<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=165></td><td><pre></pre></td></tr><tr><td data-num=166></td><td><pre>    commentBlock<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> CB_height <span class="token operator">-</span> <span class="token number">305</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=167></td><td><pre>    cboxContent<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> CC_height <span class="token operator">-</span> <span class="token number">340</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=168></td><td><pre>    cboxContent<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"unset"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=169></td><td><pre></pre></td></tr><tr><td data-num=170></td><td><pre>    commentBox<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>commentBox<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">)</span><span class="token punctuation">;</span>	</pre></td></tr><tr><td data-num=171></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=172></td><td><pre></pre></td></tr><tr><td data-num=173></td><td><pre><span class="token comment">/** </span></pre></td></tr><tr><td data-num=174></td><td><pre><span class="token comment"> * 回复按钮的输入区域的右小角的提交的点击功能</span></pre></td></tr><tr><td data-num=175></td><td><pre><span class="token comment"> * 与评论输入区域的提交按钮相比，回复按钮的评论输入区的提交按钮多了</span></pre></td></tr><tr><td data-num=176></td><td><pre><span class="token comment"> * 父评论的查找，以及提交后，回复评论的输入区会消失</span></pre></td></tr><tr><td data-num=177></td><td><pre><span class="token comment">**/</span> </pre></td></tr><tr><td data-num=178></td><td><pre><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">replyCommitClick</span><span class="token punctuation">(</span><span class="token parameter">reply_label</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=179></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=180></td><td><pre>    <span class="token keyword">var</span> cboxHead <span class="token operator">=</span> reply_label<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=181></td><td><pre>    <span class="token keyword">var</span> cboxContent <span class="token operator">=</span> cboxHead<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=182></td><td><pre>    <span class="token keyword">var</span> inputBlock <span class="token operator">=</span> cboxContent<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=183></td><td><pre>    <span class="token keyword">var</span> inputArea <span class="token operator">=</span> inputBlock<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=184></td><td><pre>    <span class="token keyword">var</span> nickname_label <span class="token operator">=</span> inputArea<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=185></td><td><pre>    <span class="token keyword">var</span> email_label <span class="token operator">=</span> nickname_label<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=186></td><td><pre>    <span class="token keyword">var</span> button_label <span class="token operator">=</span> email_label<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=187></td><td><pre>    <span class="token keyword">var</span> text_label <span class="token operator">=</span> button_label<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=188></td><td><pre></pre></td></tr><tr><td data-num=189></td><td><pre>    <span class="token keyword">var</span> nickname_label_value <span class="token operator">=</span> nickname_label<span class="token punctuation">.</span>value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=190></td><td><pre>    <span class="token keyword">var</span> email_md5 <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">SHA256</span><span class="token punctuation">(</span>email_label<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=191></td><td><pre>    <span class="token keyword">var</span> reply_parent <span class="token operator">=</span> cboxHead<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=192></td><td><pre></pre></td></tr><tr><td data-num=193></td><td><pre>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token string">"parent_id"</span> <span class="token operator">!=</span> reply_parent<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=194></td><td><pre>        reply_parent <span class="token operator">=</span> reply_parent<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=195></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=196></td><td><pre></pre></td></tr><tr><td data-num=197></td><td><pre>    <span class="token keyword">var</span> response_id <span class="token operator">=</span> reply_label<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"response_id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=198></td><td><pre>    <span class="token keyword">var</span> parent_id <span class="token operator">=</span> reply_parent<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=199></td><td><pre></pre></td></tr><tr><td data-num=200></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">!=</span> nickname_label_value<span class="token punctuation">.</span>length<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=201></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=202></td><td><pre>        <span class="token keyword">var</span> comment <span class="token operator">=</span> <span class="token function">text_beautify</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=203></td><td><pre>            text_label<span class="token punctuation">.</span>value<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=204></td><td><pre>            text_label<span class="token punctuation">.</span>cols</pre></td></tr><tr><td data-num=205></td><td><pre>        <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=206></td><td><pre>        <span class="token keyword">var</span> curTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=207></td><td><pre>        <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=208></td><td><pre>            <span class="token string">":"</span> <span class="token operator">+</span></pre></td></tr><tr><td data-num=209></td><td><pre>            parent_id <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span></pre></td></tr><tr><td data-num=210></td><td><pre>            response_id <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span></pre></td></tr><tr><td data-num=211></td><td><pre>            nickname_label_value <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span></pre></td></tr><tr><td data-num=212></td><td><pre>            email_label<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span></pre></td></tr><tr><td data-num=213></td><td><pre>            email_md5 <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span></pre></td></tr><tr><td data-num=214></td><td><pre>            curTime <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span></pre></td></tr><tr><td data-num=215></td><td><pre>            comment</pre></td></tr><tr><td data-num=216></td><td><pre>        <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=217></td><td><pre></pre></td></tr><tr><td data-num=218></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">==</span> <span class="token keyword">await</span> <span class="token function">_PostRequest</span><span class="token punctuation">(</span><span class="token string">"/database?insert"</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=219></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=220></td><td><pre>            <span class="token function">replyCancleClick</span><span class="token punctuation">(</span>reply_label<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=221></td><td><pre>            <span class="token function">commentReplyShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=222></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=223></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=224></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=225></td><td><pre></pre></td></tr><tr><td data-num=226></td><td><pre><span class="token comment">/** </span></pre></td></tr><tr><td data-num=227></td><td><pre><span class="token comment"> * 回复按钮的点击功能</span></pre></td></tr><tr><td data-num=228></td><td><pre><span class="token comment"> * 就是在当前所点击的评论的标签下添加一个评论输入区，</span></pre></td></tr><tr><td data-num=229></td><td><pre><span class="token comment"> * 额外多了个`x`撤销按钮，以及提交按钮的功能发生了变化</span></pre></td></tr><tr><td data-num=230></td><td><pre><span class="token comment">**/</span> </pre></td></tr><tr><td data-num=231></td><td><pre><span class="token keyword">function</span> <span class="token function">replyClick</span><span class="token punctuation">(</span><span class="token parameter">reply_label</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=232></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=233></td><td><pre>    <span class="token keyword">var</span> cboxHead <span class="token operator">=</span> reply_label<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=234></td><td><pre>    <span class="token keyword">var</span> reply_commentBox <span class="token operator">=</span> cboxHead<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=235></td><td><pre>    <span class="token keyword">var</span> comment_inputBlock <span class="token operator">=</span> reply_commentBox<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=236></td><td><pre></pre></td></tr><tr><td data-num=237></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"input-block"</span> <span class="token operator">==</span> comment_inputBlock<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=238></td><td><pre>        <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=239></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=240></td><td><pre></pre></td></tr><tr><td data-num=241></td><td><pre>    <span class="token keyword">var</span> commentBlock <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"comment-block"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=242></td><td><pre>    <span class="token keyword">var</span> reply_inputBlock <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=243></td><td><pre>    <span class="token keyword">var</span> reply_inputArea <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=244></td><td><pre>    <span class="token keyword">var</span> reply_nickname <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=245></td><td><pre>    <span class="token keyword">var</span> reply_email <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=246></td><td><pre>    <span class="token keyword">var</span> reply_textBlock <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"textarea"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=247></td><td><pre>    <span class="token keyword">var</span> reply_buttonArea <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=248></td><td><pre>    <span class="token keyword">var</span> reply_commit <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=249></td><td><pre></pre></td></tr><tr><td data-num=250></td><td><pre>    reply_inputBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"input-block"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=251></td><td><pre>    reply_inputArea<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"input-area clearfix"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=252></td><td><pre></pre></td></tr><tr><td data-num=253></td><td><pre>    reply_nickname<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span><span class="token string">"text"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=254></td><td><pre>    reply_nickname<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"nickname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=255></td><td><pre>    reply_nickname<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"maxlength"</span><span class="token punctuation">,</span><span class="token string">"19"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=256></td><td><pre>    reply_nickname<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"placeholder"</span><span class="token punctuation">,</span><span class="token string">" nickname(1~19个字符)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=257></td><td><pre></pre></td></tr><tr><td data-num=258></td><td><pre>    reply_email<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span><span class="token string">"email"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=259></td><td><pre>    reply_email<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"email"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=260></td><td><pre>    reply_email<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"maxlength"</span><span class="token punctuation">,</span><span class="token string">"44"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=261></td><td><pre>    reply_email<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"placeholder"</span><span class="token punctuation">,</span><span class="token string">" email(8~44个字符)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=262></td><td><pre></pre></td></tr><tr><td data-num=263></td><td><pre>    reply_textBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"text-block"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=264></td><td><pre>    reply_textBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"cols"</span><span class="token punctuation">,</span><span class="token string">"50"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=265></td><td><pre>    reply_textBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"placeholder"</span><span class="token punctuation">,</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=266></td><td><pre></pre></td></tr><tr><td data-num=267></td><td><pre>    reply_buttonArea<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"button-area clearfix"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=268></td><td><pre>    reply_commit<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=269></td><td><pre>    reply_commit<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"commit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=270></td><td><pre>    reply_commit<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"提交"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=271></td><td><pre></pre></td></tr><tr><td data-num=272></td><td><pre>    reply_inputBlock<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>reply_inputArea<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=273></td><td><pre>    reply_inputArea<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>reply_nickname<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=274></td><td><pre>    reply_inputArea<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>reply_email<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=275></td><td><pre>    reply_inputArea<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>reply_textBlock<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=276></td><td><pre>    reply_inputArea<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>reply_buttonArea<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=277></td><td><pre></pre></td></tr><tr><td data-num=278></td><td><pre>    reply_buttonArea<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>reply_commit<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=279></td><td><pre>    reply_commentBox<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>reply_inputBlock<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=280></td><td><pre></pre></td></tr><tr><td data-num=281></td><td><pre>    <span class="token keyword">var</span> origin_height <span class="token operator">=</span> commentBlock<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=282></td><td><pre>    commentBlock<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> origin_height <span class="token operator">+</span> <span class="token number">300</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=283></td><td><pre></pre></td></tr><tr><td data-num=284></td><td><pre>    <span class="token keyword">var</span> reply_prev_sibling <span class="token operator">=</span> reply_inputBlock<span class="token punctuation">.</span>previousSibling<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=285></td><td><pre>    <span class="token keyword">var</span> orgin_prev_height <span class="token operator">=</span> reply_prev_sibling<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=286></td><td><pre>    reply_prev_sibling<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> orgin_prev_height <span class="token operator">+</span> <span class="token number">335</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=287></td><td><pre>    reply_prev_sibling<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=288></td><td><pre></pre></td></tr><tr><td data-num=289></td><td><pre>    <span class="token keyword">var</span> reply_cancle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=290></td><td><pre>    reply_cancle<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=291></td><td><pre></pre></td></tr><tr><td data-num=292></td><td><pre>    reply_cancle<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"cancle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=293></td><td><pre>    reply_cancle<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"X"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=294></td><td><pre>    reply_inputArea<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>reply_cancle<span class="token punctuation">,</span>reply_textBlock<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=295></td><td><pre></pre></td></tr><tr><td data-num=296></td><td><pre>    reply_cancle<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=297></td><td><pre>        <span class="token string">"click"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=298></td><td><pre>        <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">replyCancleClick</span><span class="token punctuation">(</span>reply_label<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=299></td><td><pre>        <span class="token boolean">false</span></pre></td></tr><tr><td data-num=300></td><td><pre>    <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=301></td><td><pre></pre></td></tr><tr><td data-num=302></td><td><pre>    reply_commit<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=303></td><td><pre>        <span class="token string">"click"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=304></td><td><pre>        <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">replyCommitClick</span><span class="token punctuation">(</span>reply_label<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=305></td><td><pre>        <span class="token boolean">false</span></pre></td></tr><tr><td data-num=306></td><td><pre>    <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=307></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=308></td><td><pre></pre></td></tr><tr><td data-num=309></td><td><pre><span class="token comment">/** </span></pre></td></tr><tr><td data-num=310></td><td><pre><span class="token comment"> * 评论展示区的加载</span></pre></td></tr><tr><td data-num=311></td><td><pre><span class="token comment"> * 向数据库请求主线评论数据，</span></pre></td></tr><tr><td data-num=312></td><td><pre><span class="token comment"> * 接着将请求的内容按照html标签的所属关系依次建立并将内容添加上去</span></pre></td></tr><tr><td data-num=313></td><td><pre><span class="token comment">**/</span> </pre></td></tr><tr><td data-num=314></td><td><pre><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">commentPreShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=315></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=316></td><td><pre>    <span class="token keyword">const</span> responseData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">_GetRequest</span><span class="token punctuation">(</span><span class="token string">"/database?parent"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=317></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">==</span> responseData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=318></td><td><pre></pre></td></tr><tr><td data-num=319></td><td><pre>    <span class="token keyword">var</span> data <span class="token operator">=</span> responseData<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=320></td><td><pre>    <span class="token keyword">var</span> array <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=321></td><td><pre>    <span class="token keyword">const</span> array_length <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=322></td><td><pre></pre></td></tr><tr><td data-num=323></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> array_length <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">==</span> array_length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=324></td><td><pre>        <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=325></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=326></td><td><pre></pre></td></tr><tr><td data-num=327></td><td><pre>    <span class="token keyword">var</span> commentBlock <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"comment-block"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=328></td><td><pre>    <span class="token keyword">var</span> commentContainer <span class="token operator">=</span> commentBlock<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=329></td><td><pre></pre></td></tr><tr><td data-num=330></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"comment-container"</span> <span class="token operator">!=</span> commentContainer<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=331></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=332></td><td><pre>        <span class="token keyword">var</span> newCommentContainer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=333></td><td><pre>        <span class="token keyword">var</span> newInfo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=334></td><td><pre>        <span class="token keyword">var</span> newCommentList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=335></td><td><pre></pre></td></tr><tr><td data-num=336></td><td><pre>        newCommentContainer<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"comment-container"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=337></td><td><pre>        newInfo<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"info"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=338></td><td><pre>        newInfo<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span><span class="token string">"text"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=339></td><td><pre>        newCommentList<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"comment-list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=340></td><td><pre></pre></td></tr><tr><td data-num=341></td><td><pre>        newCommentContainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newInfo<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=342></td><td><pre>        newCommentContainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newCommentList<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=343></td><td><pre>        commentBlock<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newCommentContainer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=344></td><td><pre></pre></td></tr><tr><td data-num=345></td><td><pre>        commentContainer <span class="token operator">=</span> newCommentContainer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=346></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=347></td><td><pre>    <span class="token keyword">var</span> commentList <span class="token operator">=</span> commentContainer<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=348></td><td><pre>    <span class="token keyword">var</span> record <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=349></td><td><pre></pre></td></tr><tr><td data-num=350></td><td><pre>    array<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=351></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> array_length<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=352></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=353></td><td><pre>        <span class="token keyword">var</span> sub <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=354></td><td><pre>        <span class="token keyword">var</span> member_ptr <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=355></td><td><pre></pre></td></tr><tr><td data-num=356></td><td><pre>        record<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=357></td><td><pre>        record<span class="token punctuation">.</span>parent_id <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=358></td><td><pre>        record<span class="token punctuation">.</span>response_id <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=359></td><td><pre>        record<span class="token punctuation">.</span>nick_name <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=360></td><td><pre>        record<span class="token punctuation">.</span>mail <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=361></td><td><pre>        record<span class="token punctuation">.</span>mail_md5 <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=362></td><td><pre>        record<span class="token punctuation">.</span>create_at <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=363></td><td><pre>        record<span class="token punctuation">.</span>comment <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=364></td><td><pre></pre></td></tr><tr><td data-num=365></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> sub<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=366></td><td><pre>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> sub<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=367></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=368></td><td><pre>            <span class="token keyword">const</span> c <span class="token operator">=</span> sub<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=369></td><td><pre></pre></td></tr><tr><td data-num=370></td><td><pre>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">":"</span> <span class="token operator">==</span> c <span class="token operator">&amp;&amp;</span> <span class="token number">7</span> <span class="token operator">!=</span> member_ptr<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token operator">++</span>member_ptr<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=371></td><td><pre>            <span class="token keyword">else</span></pre></td></tr><tr><td data-num=372></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=373></td><td><pre>                <span class="token keyword">switch</span><span class="token punctuation">(</span>member_ptr<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=374></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=375></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>id <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=376></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>parent_id <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=377></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>response_id <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=378></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>nick_name <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=379></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>mail <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=380></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>mail_md5 <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=381></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>create_at <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=382></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>comment <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=383></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=384></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=385></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=386></td><td><pre>        <span class="token keyword">var</span> userBlock <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=387></td><td><pre>        <span class="token keyword">var</span> commentListFirstChild <span class="token operator">=</span> commentList<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=388></td><td><pre></pre></td></tr><tr><td data-num=389></td><td><pre>        userBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span>record<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=390></td><td><pre>        userBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"nick_name"</span><span class="token punctuation">,</span>record<span class="token punctuation">.</span>nick_name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=391></td><td><pre>        userBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"parent_id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	</pre></td></tr><tr><td data-num=392></td><td><pre></pre></td></tr><tr><td data-num=393></td><td><pre>        <span class="token function">contentAppend</span><span class="token punctuation">(</span>userBlock<span class="token punctuation">,</span>record<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=394></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> commentListFirstChild<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=395></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=396></td><td><pre>            commentList<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>userBlock<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=397></td><td><pre>            commentList<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=398></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=399></td><td><pre>        <span class="token keyword">else</span><span class="token punctuation">&#123;</span> commentList<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>userBlock<span class="token punctuation">,</span>commentListFirstChild<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=400></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=401></td><td><pre>    <span class="token keyword">var</span> commentNum <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">commentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=402></td><td><pre>    <span class="token keyword">var</span> info <span class="token operator">=</span> commentContainer<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=403></td><td><pre>    <span class="token keyword">var</span> replyElements <span class="token operator">=</span> commentList<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">"reply"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=404></td><td><pre></pre></td></tr><tr><td data-num=405></td><td><pre>    info<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"已有"</span> <span class="token operator">+</span> commentNum <span class="token operator">+</span> <span class="token string">"条评论"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=406></td><td><pre></pre></td></tr><tr><td data-num=407></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> reply <span class="token keyword">of</span> replyElements<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=408></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=409></td><td><pre>        reply<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=410></td><td><pre>            <span class="token string">"click"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=411></td><td><pre>            <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">replyClick</span><span class="token punctuation">(</span>reply<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=412></td><td><pre>            <span class="token boolean">false</span></pre></td></tr><tr><td data-num=413></td><td><pre>        <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=414></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=415></td><td><pre>	<span class="token function">commentReplyShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=416></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=417></td><td><pre></pre></td></tr><tr><td data-num=418></td><td><pre><span class="token comment">/** </span></pre></td></tr><tr><td data-num=419></td><td><pre><span class="token comment"> * 评论输入区域的右下角的点击功能</span></pre></td></tr><tr><td data-num=420></td><td><pre><span class="token comment"> * 就是将输入区输入的内容按照前后端规定的统一数据格式，发送给后端，</span></pre></td></tr><tr><td data-num=421></td><td><pre><span class="token comment"> * 成功发送后，评论展示区的样式会发生变化</span></pre></td></tr><tr><td data-num=422></td><td><pre><span class="token comment">**/</span> </pre></td></tr><tr><td data-num=423></td><td><pre><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">buttonClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=424></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=425></td><td><pre>    <span class="token keyword">var</span> commentBlock <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"comment-block"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=426></td><td><pre>    <span class="token keyword">var</span> commentContainer <span class="token operator">=</span> commentBlock<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=427></td><td><pre></pre></td></tr><tr><td data-num=428></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"comment-container"</span> <span class="token operator">!=</span> commentContainer<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=429></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=430></td><td><pre>        <span class="token keyword">var</span> newCommentContainer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=431></td><td><pre>        <span class="token keyword">var</span> newInfo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=432></td><td><pre>        <span class="token keyword">var</span> newCommentList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=433></td><td><pre></pre></td></tr><tr><td data-num=434></td><td><pre>        newCommentContainer<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"comment-container"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=435></td><td><pre>        newInfo<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"info"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=436></td><td><pre>        newInfo<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span><span class="token string">"text"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=437></td><td><pre>        newCommentList<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"comment-list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=438></td><td><pre></pre></td></tr><tr><td data-num=439></td><td><pre>        newCommentContainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newInfo<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=440></td><td><pre>        newCommentContainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newCommentList<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=441></td><td><pre>        commentBlock<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newCommentContainer<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=442></td><td><pre></pre></td></tr><tr><td data-num=443></td><td><pre>        commentContainer <span class="token operator">=</span> newCommentContainer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=444></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=445></td><td><pre>    <span class="token keyword">var</span> commentList <span class="token operator">=</span> commentContainer<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=446></td><td><pre>    <span class="token keyword">var</span> inputBlock <span class="token operator">=</span> commentBlock<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=447></td><td><pre>    <span class="token keyword">var</span> inputArea <span class="token operator">=</span> inputBlock<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=448></td><td><pre></pre></td></tr><tr><td data-num=449></td><td><pre>    <span class="token keyword">var</span> nickname_label <span class="token operator">=</span> inputArea<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=450></td><td><pre>    <span class="token keyword">var</span> email_label <span class="token operator">=</span> nickname_label<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=451></td><td><pre>    <span class="token keyword">var</span> text_label <span class="token operator">=</span> email_label<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=452></td><td><pre>    <span class="token keyword">var</span> email_md5 <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">SHA256</span><span class="token punctuation">(</span>email_label<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>	</pre></td></tr><tr><td data-num=453></td><td><pre>    <span class="token keyword">var</span> nickname_label_value <span class="token operator">=</span> nickname_label<span class="token punctuation">.</span>value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=454></td><td><pre></pre></td></tr><tr><td data-num=455></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">!=</span> nickname_label_value<span class="token punctuation">.</span>length<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=456></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=457></td><td><pre>        <span class="token comment">/* current time */</span></pre></td></tr><tr><td data-num=458></td><td><pre>        <span class="token keyword">var</span> comment <span class="token operator">=</span> <span class="token function">text_beautify</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=459></td><td><pre>            text_label<span class="token punctuation">.</span>value<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=460></td><td><pre>			text_label<span class="token punctuation">.</span>cols</pre></td></tr><tr><td data-num=461></td><td><pre>		<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=462></td><td><pre>        <span class="token keyword">var</span> curTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=463></td><td><pre>        <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num=464></td><td><pre>            <span class="token string">":"</span> <span class="token operator">+</span> </pre></td></tr><tr><td data-num=465></td><td><pre>            <span class="token string">":"</span> <span class="token operator">+</span> </pre></td></tr><tr><td data-num=466></td><td><pre>            <span class="token string">":"</span> <span class="token operator">+</span> </pre></td></tr><tr><td data-num=467></td><td><pre>            nickname_label_value <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> </pre></td></tr><tr><td data-num=468></td><td><pre>            email_label<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> </pre></td></tr><tr><td data-num=469></td><td><pre>            email_md5 <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> </pre></td></tr><tr><td data-num=470></td><td><pre>            curTime  <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> </pre></td></tr><tr><td data-num=471></td><td><pre>            comment</pre></td></tr><tr><td data-num=472></td><td><pre>        <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=473></td><td><pre></pre></td></tr><tr><td data-num=474></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">==</span> <span class="token keyword">await</span> <span class="token function">_PostRequest</span><span class="token punctuation">(</span><span class="token string">"/database?insert"</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=475></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=476></td><td><pre>            commentContainer<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>commentList<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=477></td><td><pre>            commentBlock<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">"360px"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=478></td><td><pre>            commentContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">"0px"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=479></td><td><pre></pre></td></tr><tr><td data-num=480></td><td><pre>            <span class="token keyword">var</span> commentList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=481></td><td><pre>            <span class="token keyword">var</span> commentNum <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">commentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=482></td><td><pre>            <span class="token keyword">var</span> info <span class="token operator">=</span> commentContainer<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=483></td><td><pre></pre></td></tr><tr><td data-num=484></td><td><pre>            commentList<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"comment-list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=485></td><td><pre>            commentContainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>commentList<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=486></td><td><pre>            <span class="token function">commentPreShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=487></td><td><pre></pre></td></tr><tr><td data-num=488></td><td><pre>            info<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"已有"</span> <span class="token operator">+</span> commentNum <span class="token operator">+</span> <span class="token string">"条评论"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=489></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=490></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=491></td><td><pre></pre></td></tr><tr><td data-num=492></td><td><pre>    nickname_label<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=493></td><td><pre>    email_label<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=494></td><td><pre>    text_label<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=495></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=496></td><td><pre></pre></td></tr><tr><td data-num=497></td><td><pre></pre></td></tr><tr><td data-num=498></td><td><pre><span class="token comment">/** </span></pre></td></tr><tr><td data-num=499></td><td><pre><span class="token comment"> * 评论展示区中主线子评论的加载 </span></pre></td></tr><tr><td data-num=500></td><td><pre><span class="token comment"> * 由于之前显示的子评论会造成重复现象，故需先将所用主线评论中的主线子评论列表删除，</span></pre></td></tr><tr><td data-num=501></td><td><pre><span class="token comment"> * 之后从后端数据库中获取主线子评论，</span></pre></td></tr><tr><td data-num=502></td><td><pre><span class="token comment"> * 依次按照获取的记录中的parent_id来将主线子评论，添加到对应的主线评论下面</span></pre></td></tr><tr><td data-num=503></td><td><pre><span class="token comment">*/</span></pre></td></tr><tr><td data-num=504></td><td><pre><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">commentReplyShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=505></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=506></td><td><pre>    <span class="token keyword">const</span> responseData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">_GetRequest</span><span class="token punctuation">(</span><span class="token string">"/database?reply"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=507></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">==</span> responseData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=508></td><td><pre></pre></td></tr><tr><td data-num=509></td><td><pre>    <span class="token keyword">var</span> data <span class="token operator">=</span> responseData<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=510></td><td><pre>    <span class="token keyword">var</span> array <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=511></td><td><pre>    <span class="token keyword">const</span> array_length <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=512></td><td><pre></pre></td></tr><tr><td data-num=513></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> array_length <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">==</span> array_length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=514></td><td><pre>        <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=515></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=516></td><td><pre></pre></td></tr><tr><td data-num=517></td><td><pre>    <span class="token keyword">var</span> commentBlock <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"comment-block"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=518></td><td><pre>    <span class="token keyword">var</span> parent_id_elements <span class="token operator">=</span> commentBlock<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">"parent_id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=519></td><td><pre>    <span class="token keyword">var</span> record <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=520></td><td><pre></pre></td></tr><tr><td data-num=521></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> p <span class="token keyword">of</span> parent_id_elements<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=522></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=523></td><td><pre>        <span class="token keyword">var</span> child_element <span class="token operator">=</span> p<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=524></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"child-list"</span> <span class="token operator">==</span> child_element<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=525></td><td><pre>            p<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>child_element<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=526></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=527></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=528></td><td><pre></pre></td></tr><tr><td data-num=529></td><td><pre>    array<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=530></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> array_length<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=531></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=532></td><td><pre>        <span class="token keyword">var</span> sub <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=533></td><td><pre>        <span class="token keyword">var</span> member_ptr <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=534></td><td><pre></pre></td></tr><tr><td data-num=535></td><td><pre>        record<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=536></td><td><pre>        record<span class="token punctuation">.</span>parent_id <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=537></td><td><pre>        record<span class="token punctuation">.</span>response_id <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=538></td><td><pre>        record<span class="token punctuation">.</span>nick_name <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=539></td><td><pre>        record<span class="token punctuation">.</span>mail <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=540></td><td><pre>        record<span class="token punctuation">.</span>mail_md5 <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=541></td><td><pre>        record<span class="token punctuation">.</span>create_at <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=542></td><td><pre>        record<span class="token punctuation">.</span>comment <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=543></td><td><pre></pre></td></tr><tr><td data-num=544></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> sub<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=545></td><td><pre>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> sub<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=546></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=547></td><td><pre>            <span class="token keyword">const</span> c <span class="token operator">=</span> sub<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=548></td><td><pre></pre></td></tr><tr><td data-num=549></td><td><pre>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">":"</span> <span class="token operator">==</span> c <span class="token operator">&amp;&amp;</span> <span class="token number">7</span> <span class="token operator">!=</span> member_ptr<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token operator">++</span>member_ptr<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=550></td><td><pre>            <span class="token keyword">else</span></pre></td></tr><tr><td data-num=551></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=552></td><td><pre>                <span class="token keyword">switch</span><span class="token punctuation">(</span>member_ptr<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=553></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=554></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>id <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=555></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>parent_id <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=556></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>response_id <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=557></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>nick_name <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=558></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>mail <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=559></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>mail_md5 <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=560></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>create_at <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=561></td><td><pre>                    <span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> record<span class="token punctuation">.</span>comment <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=562></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=563></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=564></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=565></td><td><pre>        <span class="token keyword">var</span> parent_label <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>parent_id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=566></td><td><pre>        <span class="token keyword">var</span> response_label <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>response_id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=567></td><td><pre>        <span class="token keyword">var</span> childList <span class="token operator">=</span> parent_label<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=568></td><td><pre>        <span class="token keyword">var</span> userBlock <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=569></td><td><pre></pre></td></tr><tr><td data-num=570></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"child-list"</span> <span class="token operator">!=</span> childList<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=571></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=572></td><td><pre>            childList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=573></td><td><pre>            childList<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"child-list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=574></td><td><pre>            childList<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token string">"5px"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=575></td><td><pre></pre></td></tr><tr><td data-num=576></td><td><pre>            parent_label<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>childList<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=577></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=578></td><td><pre></pre></td></tr><tr><td data-num=579></td><td><pre>        userBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span>record<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=580></td><td><pre>        userBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span><span class="token string">"child_id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=581></td><td><pre>        userBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"nick_name"</span><span class="token punctuation">,</span>record<span class="token punctuation">.</span>nick_name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=582></td><td><pre>        userBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"parent_id"</span><span class="token punctuation">,</span>record<span class="token punctuation">.</span>parent_id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=583></td><td><pre>        userBlock<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"response_id"</span><span class="token punctuation">,</span>record<span class="token punctuation">.</span>response_id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=584></td><td><pre></pre></td></tr><tr><td data-num=585></td><td><pre>        <span class="token function">contentAppend</span><span class="token punctuation">(</span>userBlock<span class="token punctuation">,</span>record<span class="token punctuation">,</span>response_label<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=586></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> childList<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=587></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=588></td><td><pre>            childList<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>userBlock<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=589></td><td><pre>            childList<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=590></td><td><pre>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> childList<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>userBlock<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=591></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=592></td><td><pre></pre></td></tr><tr><td data-num=593></td><td><pre>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> parent_id_elements<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=594></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=595></td><td><pre>        <span class="token keyword">var</span> commentContainer <span class="token operator">=</span> commentBlock<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=596></td><td><pre>        <span class="token keyword">var</span> commentList <span class="token operator">=</span> commentContainer<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=597></td><td><pre>        <span class="token keyword">var</span> replyElements <span class="token operator">=</span> commentList<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">"reply"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=598></td><td><pre></pre></td></tr><tr><td data-num=599></td><td><pre>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> reply <span class="token keyword">of</span> replyElements<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=600></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=601></td><td><pre>            reply<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=602></td><td><pre>                <span class="token string">"click"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=603></td><td><pre>                <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">replyClick</span><span class="token punctuation">(</span>reply<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=604></td><td><pre>                <span class="token boolean">false</span></pre></td></tr><tr><td data-num=605></td><td><pre>            <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=606></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=607></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=608></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=609></td><td><pre></pre></td></tr><tr><td data-num=610></td><td><pre><span class="token comment">/* 输入http链接时客户端加载响应函数 */</span></pre></td></tr><tr><td data-num=611></td><td><pre>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=612></td><td><pre>    <span class="token keyword">var</span> commentBlock <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"comment-block"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=613></td><td><pre>    <span class="token keyword">var</span> inputBlock <span class="token operator">=</span> commentBlock<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=614></td><td><pre>    <span class="token keyword">var</span> inputArea <span class="token operator">=</span> inputBlock<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=615></td><td><pre>    <span class="token keyword">var</span> buttonArea <span class="token operator">=</span> inputArea<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=616></td><td><pre>    <span class="token keyword">var</span> commitButton <span class="token operator">=</span> buttonArea<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=617></td><td><pre></pre></td></tr><tr><td data-num=618></td><td><pre>	<span class="token keyword">await</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=619></td><td><pre>    <span class="token keyword">await</span> <span class="token function">commentPreShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=620></td><td><pre>    commitButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=621></td><td><pre>        <span class="token string">"click"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=622></td><td><pre>        <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">buttonClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=623></td><td><pre>        <span class="token boolean">false</span></pre></td></tr><tr><td data-num=624></td><td><pre>    <span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=625></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight css"><figcaption data-lang=CSS><span>./docs/css/comments.css</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token selector">#comment-block,</span></pre></td></tr><tr><td data-num=2></td><td><pre>#comment-block *<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>    <span class="token property">list-style-type</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token property">-webkit-box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token property">-moz-box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Roboto'</span><span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Sans-serif<span class="token punctuation">,</span> Verdana<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=18></td><td><pre></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token selector">#comment-block</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=20></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 360px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token property">border</span><span class="token punctuation">:</span> 2px solid #f7f7f7<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 .625rem 1.875rem -.9375rem <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0.1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=26></td><td><pre></pre></td></tr><tr><td data-num=27></td><td><pre><span class="token comment">/* input area part  start-area */</span></pre></td></tr><tr><td data-num=28></td><td><pre><span class="token selector">#comment-block .input-block</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=29></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=30></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 546px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=31></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 306px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=32></td><td><pre>    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=33></td><td><pre>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=34></td><td><pre>    <span class="token property">border</span><span class="token punctuation">:</span> 2px solid #f7f7f7<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=35></td><td><pre>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 .625rem 1.875rem -.9375rem <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0.1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=37></td><td><pre></pre></td></tr><tr><td data-num=38></td><td><pre><span class="token selector">#comment-block .input-block .input-area</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=39></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=40></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 520px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=41></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=42></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=43></td><td><pre>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=44></td><td><pre>    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=45></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=46></td><td><pre></pre></td></tr><tr><td data-num=47></td><td><pre><span class="token selector">#comment-block .input-block .input-area .nickname</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=48></td><td><pre>    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=49></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 161px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=50></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 31px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=51></td><td><pre>    <span class="token property">border-right</span><span class="token punctuation">:</span> 2px solid #ccc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=52></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=53></td><td><pre></pre></td></tr><tr><td data-num=54></td><td><pre><span class="token selector">#comment-block .input-block .input-area .email</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=55></td><td><pre>    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=56></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 345px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=57></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 31px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=58></td><td><pre>    <span class="token property">border-right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=59></td><td><pre>    <span class="token property">padding-left</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=60></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=61></td><td><pre></pre></td></tr><tr><td data-num=62></td><td><pre><span class="token selector">#comment-block .input-block .input-area .text-block</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=63></td><td><pre>    <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=64></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 520px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=65></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 231px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=66></td><td><pre>    <span class="token property">border-top</span><span class="token punctuation">:</span> 2px dashed #ccc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=67></td><td><pre>    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 2px dashed #ccc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=68></td><td><pre>    <span class="token property">padding-top</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=69></td><td><pre>    <span class="token property">resize</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=70></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=71></td><td><pre></pre></td></tr><tr><td data-num=72></td><td><pre><span class="token selector">#comment-block .input-block .button-area .commit</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=73></td><td><pre>    <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=74></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=75></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=76></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> 0 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=77></td><td><pre>    <span class="token property">border-radius</span><span class="token punctuation">:</span> .3rem<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=78></td><td><pre>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #eff2f3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=79></td><td><pre>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=80></td><td><pre>    <span class="token property">line-height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=81></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=82></td><td><pre></pre></td></tr><tr><td data-num=83></td><td><pre><span class="token selector">#comment-block .input-block .button-area .commit:hover</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=84></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> #e9546b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=85></td><td><pre>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #eff2f3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=86></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=87></td><td><pre><span class="token comment">/* input area part end-area */</span></pre></td></tr><tr><td data-num=88></td><td><pre></pre></td></tr><tr><td data-num=89></td><td><pre></pre></td></tr><tr><td data-num=90></td><td><pre><span class="token comment">/* comment show area */</span></pre></td></tr><tr><td data-num=91></td><td><pre><span class="token selector">#comment-block .comment-container</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=92></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=93></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 546px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=94></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=95></td><td><pre>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=96></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 320px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=97></td><td><pre>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=98></td><td><pre>    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=99></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=100></td><td><pre></pre></td></tr><tr><td data-num=101></td><td><pre><span class="token selector">#comment-block .comment-container .info</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=102></td><td><pre>    <span class="token property">padding</span><span class="token punctuation">:</span> .3125rem<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=103></td><td><pre>    <span class="token property">font-weight</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=104></td><td><pre>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.25em<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=105></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=106></td><td><pre></pre></td></tr><tr><td data-num=107></td><td><pre><span class="token selector">#comment-block .comment-list</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=108></td><td><pre>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=109></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=110></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=111></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=112></td><td><pre></pre></td></tr><tr><td data-num=113></td><td><pre><span class="token selector">#comment-block .comment-list::before</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=114></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=115></td><td><pre>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=116></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=117></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 50px<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=118></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 45px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=119></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 27px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=120></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> #c7cacb<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=121></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=122></td><td><pre></pre></td></tr><tr><td data-num=123></td><td><pre><span class="token selector">#comment-block .comment-list::after</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=124></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=125></td><td><pre>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=126></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> #c7cacb<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=127></td><td><pre>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=128></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 23px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=129></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=130></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=131></td><td><pre>    <span class="token property">border</span><span class="token punctuation">:</span> 3px solid #dee1e3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=132></td><td><pre>    <span class="token property">-webkit-border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=133></td><td><pre>    <span class="token property">-moz-border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=134></td><td><pre>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=135></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=136></td><td><pre></pre></td></tr><tr><td data-num=137></td><td><pre><span class="token selector">#comment-block .comment-list li</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=138></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=139></td><td><pre>    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=140></td><td><pre>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=141></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=142></td><td><pre></pre></td></tr><tr><td data-num=143></td><td><pre><span class="token selector">#comment-block .comment-list li::after</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=144></td><td><pre>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=145></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=146></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=147></td><td><pre>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=148></td><td><pre>    <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=149></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=150></td><td><pre></pre></td></tr><tr><td data-num=151></td><td><pre><span class="token selector">#comment-block .comment-list .main-level::after</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=152></td><td><pre>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=153></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=154></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=155></td><td><pre>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=156></td><td><pre>    <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=157></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=158></td><td><pre></pre></td></tr><tr><td data-num=159></td><td><pre><span class="token selector">#comment-block .comment-list .avatar</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=160></td><td><pre>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=161></td><td><pre>    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=162></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=163></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 54px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=164></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 54px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=165></td><td><pre>    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 17px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=166></td><td><pre>    <span class="token property">border</span><span class="token punctuation">:</span> 3px solid #FFF<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=167></td><td><pre>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=168></td><td><pre>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 1px 2px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0.2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=169></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=170></td><td><pre></pre></td></tr><tr><td data-num=171></td><td><pre><span class="token selector">#comment-block .comment-list .avatar img</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=172></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=173></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=174></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=175></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=176></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=177></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=178></td><td><pre></pre></td></tr><tr><td data-num=179></td><td><pre><span class="token comment">/* comment box of coment area start-area */</span></pre></td></tr><tr><td data-num=180></td><td><pre><span class="token selector">#comment-block .comment-list .comment-box</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=181></td><td><pre>    <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=182></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=183></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 465px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=184></td><td><pre>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 1px 1px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0.15<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=185></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=186></td><td><pre></pre></td></tr><tr><td data-num=187></td><td><pre><span class="token selector">#comment-block .comment-list .comment-box::before,</span></pre></td></tr><tr><td data-num=188></td><td><pre>#comment-block .comment-list .comment-box::after<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=189></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=190></td><td><pre>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=191></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=192></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> -11px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=193></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=194></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=195></td><td><pre>    <span class="token property">border-width</span><span class="token punctuation">:</span> 10px 12px 10px 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=196></td><td><pre>    <span class="token property">border-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=197></td><td><pre>    <span class="token property">border-color</span><span class="token punctuation">:</span> transparent #FCFCFC<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=198></td><td><pre>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=199></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=200></td><td><pre></pre></td></tr><tr><td data-num=201></td><td><pre><span class="token selector">#comment-block .comment-list .comment-box::before</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=202></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> -12px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=203></td><td><pre>    <span class="token property">border-width</span><span class="token punctuation">:</span> 11px 13px 11px 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=204></td><td><pre>    <span class="token property">border-color</span><span class="token punctuation">:</span> transparent <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0.05<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=205></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=206></td><td><pre></pre></td></tr><tr><td data-num=207></td><td><pre><span class="token selector">#comment-block .comment-list .comment-box::before,</span></pre></td></tr><tr><td data-num=208></td><td><pre>#comment-block .comment-list .comment-box::after<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=209></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=210></td><td><pre>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=211></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=212></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> -11px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=213></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=214></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=215></td><td><pre>    <span class="token property">border-width</span><span class="token punctuation">:</span> 10px 12px 10px 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=216></td><td><pre>    <span class="token property">border-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=217></td><td><pre>    <span class="token property">border-color</span><span class="token punctuation">:</span> transparent #FCFCFC<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=218></td><td><pre>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=219></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=220></td><td><pre></pre></td></tr><tr><td data-num=221></td><td><pre><span class="token selector">#comment-block .comment-list .comment-box::before</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=222></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> -12px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=223></td><td><pre>    <span class="token property">border-width</span><span class="token punctuation">:</span> 11px 13px 11px 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=224></td><td><pre>    <span class="token property">border-color</span><span class="token punctuation">:</span> transparent <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0.05<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=225></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=226></td><td><pre></pre></td></tr><tr><td data-num=227></td><td><pre><span class="token comment">/* comment box head area start-area */</span></pre></td></tr><tr><td data-num=228></td><td><pre><span class="token selector">#comment-block .comment-list .comment-box .cbox-head</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=229></td><td><pre>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=230></td><td><pre>    <span class="token property">padding</span><span class="token punctuation">:</span> 10px 12px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=231></td><td><pre>    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #E5E5E5<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=232></td><td><pre>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px 4px 0 0<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=233></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> #FCFCFC<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=234></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=235></td><td><pre></pre></td></tr><tr><td data-num=236></td><td><pre><span class="token selector">#comment-block .comment-list .comment-box .cbox-head</span></pre></td></tr><tr><td data-num=237></td><td><pre>.cbauthor-name<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=238></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> #283035<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=239></td><td><pre>    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=240></td><td><pre>    <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=241></td><td><pre>    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=242></td><td><pre>    <span class="token property">margin-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=243></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=244></td><td><pre></pre></td></tr><tr><td data-num=245></td><td><pre><span class="token selector">#comment-block .comment-list .comment-box .cbox-head</span></pre></td></tr><tr><td data-num=246></td><td><pre>span<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=247></td><td><pre>    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=248></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=249></td><td><pre>    <span class="token property">font-size</span><span class="token punctuation">:</span> 13px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=250></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=251></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=252></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=253></td><td><pre></pre></td></tr><tr><td data-num=254></td><td><pre><span class="token comment">/* comment box head area end-area */</span></pre></td></tr><tr><td data-num=255></td><td><pre></pre></td></tr><tr><td data-num=256></td><td><pre><span class="token comment">/* comment box content area start-area */</span></pre></td></tr><tr><td data-num=257></td><td><pre><span class="token selector">#comment-block .comment-list .comment-box</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=258></td><td><pre>    <span class="token property">font-size</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=259></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> #595959<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=260></td><td><pre>    <span class="token property">-webkit-border-radius</span><span class="token punctuation">:</span> 0 0 4px 4px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=261></td><td><pre>    <span class="token property">-moz-border-radius</span><span class="token punctuation">:</span> 0 0 4px 4px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=262></td><td><pre>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 0 0 4px 4px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=263></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=264></td><td><pre></pre></td></tr><tr><td data-num=265></td><td><pre><span class="token comment">/* comment box content area end-area */</span></pre></td></tr><tr><td data-num=266></td><td><pre><span class="token comment">/* comment box of comment area end-area */</span></pre></td></tr></table></figure><figure class="highlight css"><figcaption data-lang=CSS><span>./docs/css/comment_reply.css</span></figcaption><table><tr><td data-num=1></td><td><pre><span class="token selector">#comment-block .comment-list li .comment-box .input-block</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 450px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 290px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 70px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token selector">#comment-block .comment-list li .comment-box .input-block </span></pre></td></tr><tr><td data-num=8></td><td><pre>.input-area<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 430px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 285px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token selector">#comment-block .comment-list li .comment-box .input-block </span></pre></td></tr><tr><td data-num=14></td><td><pre>.input-area .nickname<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 158px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=18></td><td><pre></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token selector">#comment-block .comment-list li .comment-box .input-block </span></pre></td></tr><tr><td data-num=20></td><td><pre>.input-area .email<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=21></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 228px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=24></td><td><pre></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token selector">#comment-block .comment-list li .comment-box .input-block </span></pre></td></tr><tr><td data-num=26></td><td><pre>.input-area .text-block<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 430px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=28></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 225px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=29></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=30></td><td><pre></pre></td></tr><tr><td data-num=31></td><td><pre><span class="token selector">#comment-block .comment-list li .comment-box .input-block </span></pre></td></tr><tr><td data-num=32></td><td><pre>.input-area .cancle<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=33></td><td><pre>    <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=34></td><td><pre>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=35></td><td><pre>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=37></td><td><pre></pre></td></tr><tr><td data-num=38></td><td><pre><span class="token selector">#comment-block .comment-list li .comment-box .input-block </span></pre></td></tr><tr><td data-num=39></td><td><pre>.input-area .cancle:hover<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=40></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> #e9546b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=41></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=42></td><td><pre></pre></td></tr><tr><td data-num=43></td><td><pre><span class="token selector">#comment-block .comment-list li .comment-box .input-block </span></pre></td></tr><tr><td data-num=44></td><td><pre>.button-area .commit<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=45></td><td><pre>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=46></td><td><pre>    <span class="token property">line-height</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=47></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=48></td><td><pre>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=49></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=50></td><td><pre></pre></td></tr><tr><td data-num=51></td><td><pre><span class="token comment">/* child list reply input */</span></pre></td></tr><tr><td data-num=52></td><td><pre><span class="token comment">/****************************************/</span></pre></td></tr><tr><td data-num=53></td><td><pre><span class="token selector">#comment-block .comment-list li .child-list .comment-box .input-block</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=54></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=55></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 290px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=56></td><td><pre>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=57></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=58></td><td><pre></pre></td></tr><tr><td data-num=59></td><td><pre><span class="token selector">#comment-block .comment-list li .child-list .comment-box .input-block </span></pre></td></tr><tr><td data-num=60></td><td><pre>.input-area<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=61></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 380px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=62></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 285px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=63></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=64></td><td><pre></pre></td></tr><tr><td data-num=65></td><td><pre><span class="token selector">#comment-block .comment-list li .child-list .comment-box .input-block </span></pre></td></tr><tr><td data-num=66></td><td><pre>.input-area .nickname<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=67></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 158px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=68></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 26px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=69></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=70></td><td><pre></pre></td></tr><tr><td data-num=71></td><td><pre><span class="token selector">#comment-block .comment-list li .child-list .comment-box .input-block </span></pre></td></tr><tr><td data-num=72></td><td><pre>.input-area .email<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=73></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 208px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=74></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 26px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=75></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=76></td><td><pre></pre></td></tr><tr><td data-num=77></td><td><pre><span class="token selector">#comment-block .comment-list li .child-list .comment-box .input-block </span></pre></td></tr><tr><td data-num=78></td><td><pre>.input-area .text-block<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=79></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 380px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=80></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 225px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=81></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=82></td><td><pre></pre></td></tr><tr><td data-num=83></td><td><pre><span class="token selector">#comment-block .comment-list li .child-list .comment-box .input-block </span></pre></td></tr><tr><td data-num=84></td><td><pre>.input-area .cancle<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=85></td><td><pre>    <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=86></td><td><pre>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=87></td><td><pre>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=88></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=89></td><td><pre></pre></td></tr><tr><td data-num=90></td><td><pre><span class="token selector">#comment-block .comment-list li .child-list .comment-box .input-block </span></pre></td></tr><tr><td data-num=91></td><td><pre>.input-area .cancle:hover<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=92></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> #e9546b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=93></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=94></td><td><pre></pre></td></tr><tr><td data-num=95></td><td><pre><span class="token selector">#comment-block .comment-list li .child-list .comment-box .input-block </span></pre></td></tr><tr><td data-num=96></td><td><pre>.button-area .commit<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=97></td><td><pre>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=98></td><td><pre>    <span class="token property">line-height</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=99></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=100></td><td><pre>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=101></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=102></td><td><pre><span class="token comment">/****************************************/</span></pre></td></tr><tr><td data-num=103></td><td><pre></pre></td></tr><tr><td data-num=104></td><td><pre><span class="token comment">/* reply style */</span></pre></td></tr><tr><td data-num=105></td><td><pre><span class="token selector">#comment-block .comment-list .comment-box .cbox-head .reply</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=106></td><td><pre>    <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=107></td><td><pre>    <span class="token property">margin-left</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=108></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=109></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=110></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> #e9546b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=111></td><td><pre>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=112></td><td><pre>    <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> color 0.3s ease<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=113></td><td><pre>    <span class="token property">-o-transition</span><span class="token punctuation">:</span> color 0.3s ease<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=114></td><td><pre>    <span class="token property">transition</span><span class="token punctuation">:</span> color 0.3s ease<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=115></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=116></td><td><pre></pre></td></tr><tr><td data-num=117></td><td><pre><span class="token selector">#comment-block .comment-list .comment-box .cbox-head</span></pre></td></tr><tr><td data-num=118></td><td><pre>.reply:hover<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=119></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> #03658c<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=120></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=121></td><td><pre><span class="token comment">/******************************/</span></pre></td></tr><tr><td data-num=122></td><td><pre></pre></td></tr><tr><td data-num=123></td><td><pre><span class="token selector">#comment-block .comment-list .child-list::before,</span></pre></td></tr><tr><td data-num=124></td><td><pre>#comment-block .comment-list .child-list::after<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=125></td><td><pre>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=126></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=127></td><td><pre></pre></td></tr><tr><td data-num=128></td><td><pre><span class="token selector">#comment-block .comment-list .child-list li::before</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=129></td><td><pre>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=130></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 56px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=131></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=132></td><td><pre>    <span class="token property">background</span><span class="token punctuation">:</span> #c7cacb<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=133></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=134></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=135></td><td><pre>    <span class="token property">left</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=136></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=137></td><td><pre></pre></td></tr><tr><td data-num=138></td><td><pre><span class="token selector">#comment-block .comment-list .child-list .avatar</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=139></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=140></td><td><pre>    <span class="token property">height</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=141></td><td><pre>    <span class="token property">margin-left</span><span class="token punctuation">:</span> 75px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=142></td><td><pre>    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=143></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=144></td><td><pre></pre></td></tr><tr><td data-num=145></td><td><pre><span class="token selector">#comment-block .comment-list .child-list .comment-box</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=146></td><td><pre>    <span class="token property">width</span><span class="token punctuation">:</span> 405px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=147></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=148></td><td><pre></pre></td></tr><tr><td data-num=149></td><td><pre><span class="token selector">#comment-block .comment-list .child-list .comment-box</span></pre></td></tr><tr><td data-num=150></td><td><pre>.cbox-head<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=151></td><td><pre>    <span class="token property">padding</span><span class="token punctuation">:</span> 6px 8px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=152></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=153></td><td><pre></pre></td></tr><tr><td data-num=154></td><td><pre><span class="token selector">#comment-block .comment-list .child-list .comment-box</span></pre></td></tr><tr><td data-num=155></td><td><pre>.cbox-head .cbauthor-name<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=156></td><td><pre>    <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=157></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=158></td><td><pre></pre></td></tr><tr><td data-num=159></td><td><pre><span class="token selector">#comment-block .comment-list .child-list .comment-box</span></pre></td></tr><tr><td data-num=160></td><td><pre>.cbox-head span<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=161></td><td><pre>    <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=162></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=163></td><td><pre></pre></td></tr><tr><td data-num=164></td><td><pre><span class="token selector">#comment-block .comment-list .child-list .comment-box</span></pre></td></tr><tr><td data-num=165></td><td><pre>.cbox-head .reply<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=166></td><td><pre>    <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=167></td><td><pre>    <span class="token property">margin-left</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=168></td><td><pre>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=169></td><td><pre>    <span class="token property">top</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=170></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> #e9546b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=171></td><td><pre>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=172></td><td><pre>    <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> color 0.3s ease<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=173></td><td><pre>    <span class="token property">-o-transition</span><span class="token punctuation">:</span> color 0.3s ease<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=174></td><td><pre>    <span class="token property">transition</span><span class="token punctuation">:</span> color 0.3s ease<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=175></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=176></td><td><pre></pre></td></tr><tr><td data-num=177></td><td><pre><span class="token selector">#comment-block .comment-list .child-list .comment-box</span></pre></td></tr><tr><td data-num=178></td><td><pre>.cbox-head .reply:hover<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=179></td><td><pre>    <span class="token property">color</span><span class="token punctuation">:</span> #03658c<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=180></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=181></td><td><pre></pre></td></tr><tr><td data-num=182></td><td><pre><span class="token selector">#comment-block .comment-list .child-list .comment-box</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=183></td><td><pre>    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=184></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id=正式运行><a class=anchor href=#正式运行>#</a> 正式运行</h3><figure class="highlight bash"><figcaption data-lang=bash></figcaption><table><tr><td data-num=1></td><td><pre><span class="token builtin class-name">cd</span> ~</pre></td></tr><tr><td data-num=2></td><td><pre><span class="token builtin class-name">cd</span> webpage/pkg</pre></td></tr><tr><td data-num=3></td><td><pre><span class="token function">cp</span> * <span class="token punctuation">..</span>/docs/js</pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token comment">#### 防火墙操作二选一 ####</span></pre></td></tr><tr><td data-num=6></td><td><pre><span class="token comment"># (可选一) 开通端口</span></pre></td></tr><tr><td data-num=7></td><td><pre>firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8080</span>/tcp <span class="token parameter variable">--permanent</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token comment"># (可选二) 关闭防火墙</span></pre></td></tr><tr><td data-num=10></td><td><pre>systemctl stop firewalld</pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">##########################</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre><span class="token builtin class-name">cd</span> ~</pre></td></tr><tr><td data-num=14></td><td><pre><span class="token builtin class-name">cd</span> simple-comment-system-rust-version</pre></td></tr><tr><td data-num=15></td><td><pre></pre></td></tr><tr><td data-num=16></td><td><pre>systemctl restart network</pre></td></tr><tr><td data-num=17></td><td><pre><span class="token function">cargo</span> run</pre></td></tr><tr><td data-num=18></td><td><pre></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token comment"># 主机浏览器上</span></pre></td></tr><tr><td data-num=20></td><td><pre>http://虚拟主机ip地址/index.html</pre></td></tr></table></figure><h2 id=网站留言评论系统-应用案例-rust完全替代js><a class=anchor href=#网站留言评论系统-应用案例-rust完全替代js>#</a> 网站留言评论系统-应用案例-Rust完全替代JS</h2></div><footer><div class=meta><span class=item><span class=icon><i class="ic i-calendar-check"></i></span> <span class=text>更新于</span> <time title="修改时间：2024-04-05 02:52:03" itemprop=dateModified datetime=2024-04-05T02:52:03+08:00>2024-04-05</time></span><span class=item data-path=/computer-science/programming/rust/rust-example/web-application/ title=阅读次数><span class=icon><i class="ic i-eye"></i></span> <span class=text>阅读次数</span><span class=waline-pageview-count></span> <span class=text>次</span></span></div><div id=copyright><ul><li class=author><strong>本文作者：</strong> ReverseSacle <i class="ic i-at"><em>@</em></i>逆转天平</li><li class=link><strong>本文链接：</strong> <a href=https://www.reversesacle.com/computer-science/programming/rust/rust-example/web-application/ title=Rust在Linux(CentOS7)虚拟机中的Web基础运用>https://www.reversesacle.com/computer-science/programming/rust/rust-example/web-application/</a></li><li class=license><strong>版权声明：</strong> 本站所有文章除特别声明外，均采用 <span class=exturl data-url=aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class=post-nav><div class="item left"><a href=/computer-science/programming/web/json/ itemprop=url rel=prev data-background-image=https:&#x2F;&#x2F;resa-imgs.oss-accelerate.aliyuncs.com&#x2F;img&#x2F;acg14.webp title=轻量级的数据交换格式JSON><span class=type>上一篇</span><span class=category><i class="ic i-flag"></i> web</span><h3>轻量级的数据交换格式JSON</h3></a></div><div class="item right"><a href=/computer-science/programming/network-programming/ubuntu-obs-server/ itemprop=url rel=next data-background-image=https:&#x2F;&#x2F;resa-imgs.oss-accelerate.aliyuncs.com&#x2F;img&#x2F;acg6.webp title="Ubuntu服务器OBS Studio配置"><span class=type>下一篇</span><span class=category><i class="ic i-flag"></i> 网络编程</span><h3>Ubuntu服务器OBS Studio配置</h3></a></div></div><div class=wrap id=comments><div id=waline-comment></div></div></div><div id=sidebar><div class=inner><div class=panels><div class=inner><div class="contents panel pjax" data-title=文章目录><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%85%8D%E7%BD%AElinux%E4%B8%AD%E7%9A%84rust%E4%BE%9D%E8%B5%96%E7%8E%AF%E5%A2%83><span class=toc-number>1.</span> <span class=toc-text>配置Linux中的Rust依赖环境</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%AE%89%E8%A3%85%E6%89%80%E9%9C%80%E7%9A%84linux%E5%B7%A5%E5%85%B7><span class=toc-number>1.1.</span> <span class=toc-text>安装所需的Linux工具</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%AE%89%E8%A3%85rust><span class=toc-number>1.2.</span> <span class=toc-text>安装Rust</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7%E9%93%BE%E4%BE%9D%E8%B5%96><span class=toc-number>1.3.</span> <span class=toc-text>安装工具链依赖</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7%E9%93%BE><span class=toc-number>1.4.</span> <span class=toc-text>安装工具链</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%B8%B4%E6%97%B6crate%E4%B8%8B%E8%BD%BD%E6%BA%90%E5%88%87%E6%8D%A2><span class=toc-number>2.</span> <span class=toc-text>临时crate下载源切换</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E4%B8%B4%E6%97%B6npm%E4%B8%8B%E8%BD%BD%E6%BA%90%E5%88%87%E6%8D%A2><span class=toc-number>3.</span> <span class=toc-text>临时npm下载源切换</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%AE%89%E5%85%A8%E5%86%85%E6%A0%B8%E4%B8%8E%E9%98%B2%E7%81%AB%E5%A2%99><span class=toc-number>4.</span> <span class=toc-text>安全内核与防火墙</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#hello-world><span class=toc-number>5.</span> <span class=toc-text>Hello world!</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%BD%91%E7%AB%99%E7%95%99%E8%A8%80%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F-%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B-rust%E5%B5%8C%E5%85%A5js%E4%B8%AD><span class=toc-number>6.</span> <span class=toc-text>网站留言评论系统-应用案例-Rust嵌入JS中</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#wasm-pack%E5%91%BD%E4%BB%A4%E6%A6%82%E8%BF%B0><span class=toc-number>6.1.</span> <span class=toc-text>wasm-pack命令概述</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E5%88%9B%E5%BB%BA%E6%96%B0%E9%A1%B9%E7%9B%AE><span class=toc-number>6.2.</span> <span class=toc-text>创建新项目</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%8B%89%E5%8F%96http%E6%9C%8D%E5%8A%A1%E9%A1%B9%E7%9B%AE><span class=toc-number>6.3.</span> <span class=toc-text>拉取HTTP服务项目</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E7%BC%96%E5%86%99%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81><span class=toc-number>6.4.</span> <span class=toc-text>编写前端代码</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%AD%A3%E5%BC%8F%E8%BF%90%E8%A1%8C><span class=toc-number>6.5.</span> <span class=toc-text>正式运行</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%BD%91%E7%AB%99%E7%95%99%E8%A8%80%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F-%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B-rust%E5%AE%8C%E5%85%A8%E6%9B%BF%E4%BB%A3js><span class=toc-number>7.</span> <span class=toc-text>网站留言评论系统-应用案例-Rust完全替代JS</span></a></li></ol></div><div class="related panel pjax" data-title=系列文章><ul><li><a href=/computer-science/programming/rust/rust-example/socket/ rel=bookmark title=rust版HTTP协议的socket通信>rust版HTTP协议的socket通信</a></li><li class=active><a href=/computer-science/programming/rust/rust-example/web-application/ rel=bookmark title=Rust在Linux(CentOS7)虚拟机中的Web基础运用>Rust在Linux(CentOS7)虚拟机中的Web基础运用</a></li></ul></div><div class="overview panel" data-title=站点概览><div class=author itemprop=author itemscope itemtype=http://schema.org/Person><img class=image itemprop=image alt=ReverseSacle data-src=/images/avatar.webp><p class=name itemprop=name>ReverseSacle</p><div class=description itemprop=description>知识书库 & 学习点滴</div></div><nav class=state><div class="item posts"><a href=/archives/ ><span class=count>186</span> <span class=name>文章</span></a></div><div class="item categories"><a href=/categories/ ><span class=count>52</span> <span class=name>分类</span></a></div><div class="item tags"><a href=/tags/ ><span class=count>18</span> <span class=name>标签</span></a></div></nav><div class=social><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL1JldmVyc2VTYWNsZQ==" title=https:&#x2F;&#x2F;github.com&#x2F;ReverseSacle><i class="ic i-github"></i></span><span class="exturl item email" data-url="bWFpbHRvOnByaXZhdGVAcmV2ZXJzZXNhY2xlLmNvbQ==" title=mailto:private@reversesacle.com><i class="ic i-envelope"></i></span></div><ul class=menu><li class=item><a href=/ rel=section><i class="ic i-home"></i> 首页</a></li><li class="item dropdown"><a href=javascript:void(0);><i class="ic i-feather"></i> 文章</a><ul class=submenu><li class=item><a href=/archives/ rel=section><i class="ic i-list-alt"></i> 归档</a></li><li class=item><a href=/categories/ rel=section><i class="ic i-th"></i> 分类</a></li><li class=item><a href=/tags/ rel=section><i class="ic i-tags"></i> 标签</a></li></ul></li><li class=item><a href=/about/ rel=section><i class="ic i-user"></i> 关于</a></li><li class=item><a href=/friend-links/ rel=section><i class="ic i-heart"></i> 友链</a></li></ul></div></div></div><ul id=quick><li class="prev pjax"><a href=/computer-science/programming/web/json/ rel=prev title=上一篇><i class="ic i-chevron-left"></i></a></li><li class=up><i class="ic i-arrow-up"></i></li><li class=down><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href=/computer-science/programming/network-programming/ubuntu-obs-server/ rel=next title=下一篇><i class="ic i-chevron-right"></i></a></li><li class=percent></li></ul></div></div><div class=dimmer></div></div></main><footer id=footer><div class=inner><div class=widgets><div class="rpost pjax"><h2>随机文章</h2><ul><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/computer-basic/ title="分类于 计算机基础">计算机基础</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/computer-basic/computer-composition-principles/ title="分类于 计算机组成原理">计算机组成原理</a></div><span><a href=/computer-science/computer-basic/composition/ccppart1/ title=计算机组成原理-CSAPP-第一部分>计算机组成原理-CSAPP-第一部分</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a></div><span><a href=/computer-science/programming/c-language/c-data-structure/nonlinear-structure/binary-tree/ title=C语言-二叉树(二叉链表)>C语言-二叉树(二叉链表)</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/c-data-structure/ title="分类于 C语言数据结构">C语言数据结构</a></div><span><a href=/computer-science/programming/c-language/c-data-structure/generalized-table/ title=线性表进阶之广义表(列表)>线性表进阶之广义表(列表)</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/web/ title="分类于 web">web</a></div><span><a href=/computer-science/programming/web/json/ title=轻量级的数据交换格式JSON>轻量级的数据交换格式JSON</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/dynamic-program/ title="分类于 动态规划">动态规划</a></div><span><a href=/computer-science/programming/c-language/c-algorithm/dynamic-program/subset/word-break/ title=单词拆分>单词拆分</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/web/ title="分类于 web">web</a></div><span><a href=/computer-science/programming/web/hcpart1/ title=HTML与CSS基础知识-第一部分>HTML与CSS基础知识-第一部分</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/graph/ title="分类于 图">图</a></div><span><a href=/computer-science/programming/c-language/c-algorithm/graph/trick/ title=图相关技巧>图相关技巧</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/c-data-structure/ title="分类于 C语言数据结构">C语言数据结构</a></div><span><a href=/computer-science/programming/c-language/c-data-structure/stack/ title=线性表之栈>线性表之栈</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/algorithm/ title="分类于 算法">算法</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/algorithm/sort/ title="分类于 序列重组">序列重组</a></div><span><a href=/computer-science/programming/algorithm/sort/merge-sort/ title=归并排序>归并排序</a></span></li><li class=item><div class=breadcrumb><a href=/categories/general-science-and-technology/ title="分类于 通用科学技术">通用科学技术</a><i class="ic i-angle-right"></i> <a href=/categories/general-science-and-technology/pc/ title="分类于 通用技术之PC端">通用技术之PC端</a><i class="ic i-angle-right"></i> <a href=/categories/general-science-and-technology/pc/laptop/ title="分类于 笔记本">笔记本</a></div><span><a href=/general-science-and-technology/pc/laptop/laptop-clean/ title=笔记本的清洁>笔记本的清洁</a></span></li></ul></div><div><h2>最新评论</h2><ul id=waline-recent></ul></div></div><div class=status><div class=copyright>&copy; 2021 – <span itemprop=copyrightYear>2025</span><span class=with-love><i class="ic i-sakura rotate"></i></span> <span class=author itemprop=copyrightHolder>ReverseSacle @ ReverseSacle-Blog</span></div><div class=count><i class="ic i-clock" aria-hidden=true></i> <span id=time align=center>载入时间中...<script defer>var now=new Date;function createtime(){var n=new Date("2021-11-16 22:30:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("time").innerHTML="已经过 "+dnum+" 天 "+hnum+" 小时 "+mnum+" 分 "+snum+" 秒 "}setInterval("createtime()",250)</script></span><span class=post-meta-item-icon>|&nbsp<i class="ic i-chart-area"></i></span> <span title=站点总字数>2.1m 字</span> <span class=post-meta-item-icon>|&nbsp<i class="ic i-coffee"></i></span> <span title=站点阅读时长>40:40</span></div></div></div></footer></div><script data-config>var LOCAL={path:"computer-science/programming/rust/rust-example/web-application/",favicon:{show:"ReverseSacle-Blog",hide:"ReverseSacle-Blog"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},waline:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src=https://polyfill.alicdn.com/v3/polyfill.min.js></script><script src=https://cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1.16.0/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js></script><script src=/js/app.js></script></body></html>