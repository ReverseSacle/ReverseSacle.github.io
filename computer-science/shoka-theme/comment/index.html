<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content=#222><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=icon type=image/ico sizes=48x48 href=/images/favicon.ico><link rel=alternate type=application/rss+xml title=逆转天平 href=https://www.reversesacle.com/rss.xml><link rel=alternate type=application/atom+xml title=逆转天平 href=https://www.reversesacle.com/atom.xml><link rel=alternate type=application/json title=逆转天平 href=https://www.reversesacle.com/feed.json><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel=stylesheet href=/css/app.css><meta name=keywords content=ReverseSacle,reversesacle><meta name=description content="知识书库 & 学习点滴"><link rel=canonical href=https://www.reversesacle.com/computer-science/shoka-theme/comment/ ><title>评论区基本功能 - Shoka主题 - 计算机科学 | ReverseSacle-Blog</title><meta name=generator content="Hexo 6.3.0"></head><body itemscope itemtype=http://schema.org/WebPage><div id=loading><div class=dotloader><div class=dot></div><div class=dot></div><div class=dot></div><div class=dot></div><div class=dot></div></div></div><div id=container><header id=header itemscope itemtype=http://schema.org/WPHeader><div class=inner><div id=brand><div class=pjax><h1 itemprop="name headline">评论区基本功能</h1><div class=meta><span class=item title="创建时间：2022-09-20 13:14:56"><span class=icon><i class="ic i-calendar"></i></span> <span class=text>发表于</span> <time itemprop="dateCreated datePublished" datetime=2022-09-20T13:14:56+08:00>2022-09-20</time></span><span class=item title=本文字数><span class=icon><i class="ic i-pen"></i></span> <span class=text>本文字数</span> <span>26k</span> <span class=text>字</span></span><span class=item title=阅读时长><span class=icon><i class="ic i-clock"></i></span> <span class=text>阅读时长</span> <span>30 分钟</span></span></div></div></div><nav id=nav><div class=inner><div class=toggle><div class=lines role=navigation aria-label=切换导航栏><span class=line></span><span class=line></span><span class=line></span></div></div><ul class=menu><li class="item title"><a href=/ rel=start>ReverseSacle-Blog</a></li></ul><ul class=right><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id=imgs class=pjax><ul><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg19.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg10.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg20.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg11.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg21.webp></li><li class=item data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/img/acg4.webp></li></ul></div></header><div id=waves><svg class=waves xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewBox="0 24 150 28" preserveAspectRatio=none shape-rendering=auto><defs><path id=gentle-wave d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352z"/></defs><g class=parallax><use xlink:href=#gentle-wave x=48 y=0 /><use xlink:href=#gentle-wave x=48 y=3 /><use xlink:href=#gentle-wave x=48 y=5 /><use xlink:href=#gentle-wave x=48 y=7 /></g></svg></div><main><div class=inner><div id=main class=pjax><div class="article wrap"><div class=breadcrumb itemscope itemtype=https://schema.org/BreadcrumbList><i class="ic i-home"></i> <span><a href=/ >首页</a></span><i class="ic i-angle-right"></i> <span itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/ itemprop=item rel=index title="分类于 计算机科学"><span itemprop=name>计算机科学</span></a><meta itemprop=position content=1></span><i class="ic i-angle-right"></i> <span class=current itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/categories/computer-science/shoka-theme/ itemprop=item rel=index title="分类于 Shoka主题"><span itemprop=name>Shoka主题</span></a><meta itemprop=position content=2></span></div><article itemscope itemtype=http://schema.org/Article class="post block" lang=zh-CN><link itemprop=mainEntityOfPage href=https://www.reversesacle.com/computer-science/shoka-theme/comment/ ><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content=/images/avatar.webp><meta itemprop=name content=ReverseSacle><meta itemprop=description content="所见即所得，所思即所行, 知识书库 & 学习点滴"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content=逆转天平></span><div class="body md" itemprop=articleBody><div class="note primary"><p><code>导航栏</code> <a href=https://www.reversesacle.com/supplement-for-shoka-theme/ >📌主页布局</a> - <a href=https://www.reversesacle.com/computer-science/shoka-theme/image/ >💾图片及图床</a> - <a href=https://www.reversesacle.com/computer-science/shoka-theme/comment/ >💬评论区</a> - <a href=https://www.reversesacle.com/computer-science/shoka-theme/another/ >⚙️其他</a></p></div><h2 id=valine已停止更新><a class=anchor href=#valine已停止更新>#</a> Valine(已停止更新)</h2><details class=info><summary>评论基本功能</summary><div><div class=links><div class=item title=LeanCloud官网 style=--block-color:#0099CC><span class="exturl image" data-url=aHR0cHM6Ly9jb25zb2xlLmxlYW5jbG91ZC5hcHAv data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/text/comment/202210031307097.webp></span><div class=info><span class="exturl title" data-url=aHR0cHM6Ly9jb25zb2xlLmxlYW5jbG91ZC5hcHAv>LeanCloud官网</span><p class=desc>前往LeanCloud官网主页</p></div></div></div><ul><li><p>先在LeanCloud官网完成注册认证后，点击左上蓝色logo图标，进入后点创建应用<img data-src=https://resa-imgs.oss-accelerate.aliyuncs.com/text/comment/202210031307092.webp alt=""></p></li><li><p>创建好后，在<code>./themes/shoka/_config.yml</code>文件中配置valine元素的相关信息(相关信息可在LeanCloud官网→点击左上蓝色logo图标→点击LeanCloud刚刚创建的应用→设置→应用凭证中查看)</p><figure class="highlight yaml"><figcaption data-lang=YAML></figcaption><table><tr><td data-num=1></td><td><pre><span class="token key atrule">valine</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num=2></td><td><pre>  <span class="token key atrule">appId</span><span class="token punctuation">:</span> <span class="token string">"AppID对应码"</span></pre></td></tr><tr><td data-num=3></td><td><pre>  <span class="token key atrule">appKey</span><span class="token punctuation">:</span> <span class="token string">"AppKey对应码"</span></pre></td></tr><tr><td data-num=4></td><td><pre>  <span class="token key atrule">placeholder</span><span class="token punctuation">:</span> <span class="token string">"在评论框内显示的提示语"</span></pre></td></tr><tr><td data-num=5></td><td><pre>  <span class="token key atrule">avatar</span><span class="token punctuation">:</span> mp </pre></td></tr><tr><td data-num=6></td><td><pre>  <span class="token key atrule">pageSize</span><span class="token punctuation">:</span> <span class="token number">10</span> <span class="token comment"># Pagination size</span></pre></td></tr><tr><td data-num=7></td><td><pre>  <span class="token key atrule">lang</span><span class="token punctuation">:</span> zh<span class="token punctuation">-</span>CN</pre></td></tr><tr><td data-num=8></td><td><pre>  <span class="token key atrule">visitor</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># Article reading statistic</span></pre></td></tr><tr><td data-num=9></td><td><pre>  <span class="token key atrule">NoRecordIP</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># Whether to record the commenter IP</span></pre></td></tr><tr><td data-num=10></td><td><pre>  <span class="token key atrule">serverURLs</span><span class="token punctuation">:</span> <span class="token comment">#详情在下面的info处</span></pre></td></tr><tr><td data-num=11></td><td><pre>  <span class="token key atrule">powerMode</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></pre></td></tr><tr><td data-num=12></td><td><pre>  <span class="token key atrule">tagMeta</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token key atrule">visitor</span><span class="token punctuation">:</span> 新朋友</pre></td></tr><tr><td data-num=14></td><td><pre>    <span class="token key atrule">master</span><span class="token punctuation">:</span> 博主</pre></td></tr><tr><td data-num=15></td><td><pre>    <span class="token key atrule">friend</span><span class="token punctuation">:</span> 小伙伴</pre></td></tr><tr><td data-num=16></td><td><pre>    <span class="token key atrule">investor</span><span class="token punctuation">:</span> 会员</pre></td></tr><tr><td data-num=17></td><td><pre>  <span class="token key atrule">tagColor</span><span class="token punctuation">:</span>   <span class="token comment">#visitor可以不用配置颜色</span></pre></td></tr><tr><td data-num=18></td><td><pre>    <span class="token key atrule">master</span><span class="token punctuation">:</span> <span class="token string">"#a77c59"</span></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token key atrule">friend</span><span class="token punctuation">:</span> <span class="token string">"#855194"</span></pre></td></tr><tr><td data-num=20></td><td><pre>    <span class="token key atrule">investor</span><span class="token punctuation">:</span> <span class="token string">"#ed6ea0"</span></pre></td></tr><tr><td data-num=21></td><td><pre>  <span class="token key atrule">tagMember</span><span class="token punctuation">:</span>  <span class="token comment">#评论区管理员和小伙伴们的标签定制处</span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token key atrule">master</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num=23></td><td><pre>      <span class="token comment"># - hash of master@email.com</span></pre></td></tr><tr><td data-num=24></td><td><pre>    <span class="token key atrule">friend</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num=25></td><td><pre>      <span class="token comment"># - hash of friend@email.com</span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token key atrule">investor</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num=27></td><td><pre>      <span class="token comment"># - hash of investor1@email.com</span></pre></td></tr></table></figure></li></ul><table><thead><tr><th style=text-align:left><span class="label warning">info</span></th></tr></thead><tbody><tr><td style=text-align:left>关于<code>serverURLs</code>，默认填写为LeanCloud服务器地址(REST API服务器地址)。倘若已在LeanCloud应用→设置→域名绑定处绑定了<ins>API访问域名</ins>，则填入API域名(注意别漏了<code>https://</code>)；倘若使用了LeanCloud的共享域名，则填入LeanCloud应用→设置→域名绑定处的<ins>服务器地址</ins> <code>https://xxxxxxxx.api.lncldglobal.com</code>(xxxxxxxx为AppID前8位小写)</td></tr><tr><td style=text-align:left>关于<code>tagMember</code>，评论区中，各评论对应的<ins>邮箱hash码</ins>可在LeanCloud应用控制台→数据储存→结构化数据→点击Comment&lt;/&gt;类，通过查看<code>mailMd5</code>标签栏来获取</td></tr></tbody></table><p> </p><p><font size=4><ins><strong>个性头像</strong></ins></font></p><div class=links><div class=item title=Gravatar官网 style=--block-color:#0099CC><span class="exturl image" data-url=aHR0cHM6Ly9lbi5ncmF2YXRhci5jb20v data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/text/comment/202210031307096.webp></span><div class=info><span class="exturl title" data-url=aHR0cHM6Ly9lbi5ncmF2YXRhci5jb20v>Gravatar官网</span><p class=desc>前往Gravatar官网主页</p></div></div></div><p>在Gravatar官网，完成邮箱注册之后，在出现的<code>Manage Gravatars</code>页面→点击<code>Pick new image</code>处添加头像图片</p><table><thead><tr><th style=text-align:left><span class="label warning">info</span></th></tr></thead><tbody><tr><td style=text-align:left>hash码可通过在自己的网站评论后，再在LeanCloud应用控制台→数据存储→结构化数据→左边第二侧的Comment&lt;/&gt;类→查看mailMd5可得(可通过勾选评论方式将测试评论删除)，之后填入<code>./themes/shoka/_config.yml</code>文件中valine参数→tagMember→master处(评论区显示管理员的对应标签)。头像配置好后，需要一定的缓冲时间，最慢有7天缓冲时间。</td></tr></tbody></table></div></details><details class=info><summary>评论管理及邮件通知功能</summary><div><div class=links><div class=item title=Akismet官网 style=--block-color:#0099CC><span class="exturl image" data-url="aHR0cHM6Ly9ha2lzbWV0LmNvbS8=" data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/text/comment/202210031307095.webp></span><div class=info><span class="exturl title" data-url="aHR0cHM6Ly9ha2lzbWV0LmNvbS8=">Akismet官网</span><p class=desc>前往Akismet官网主页</p></div></div><div class=item title=Valine-Admin-Github官网 style=--block-color:#0099CC><span class="exturl image" data-url="aHR0cHM6Ly9naXRodWIuY29tL0Rlc2VydHNQL1ZhbGluZS1BZG1pbg==" data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/text/comment/202210031307098.webp></span><div class=info><span class="exturl title" data-url="aHR0cHM6Ly9naXRodWIuY29tL0Rlc2VydHNQL1ZhbGluZS1BZG1pbg==">Valine-Admin-Github官网</span><p class=desc>前往Valine-Admin-Github项目主页</p></div></div></div><p>该主题使用的<code>Valine-Admin</code>魔改评论系统中，其第一个定时唤醒任务功能已经失效了(第二个邮件未发送检查定时任务并未失效)。</p><p>此处提供两种比较流行并有效的定时唤醒任务替代方法 - <code>Github Action</code>与<code>cloudflare worker</code></p><p> </p><p><font size=4><ins><strong>云引擎域名的选择及配置</strong></ins></font></p><table><thead><tr><th style=text-align:left>(可选一)国际版(共享域名)案例(墙内已无法使用)</th></tr></thead><tbody><tr><td style=text-align:left>LeanCloud应用主页→云引擎→管理部署→点击web→设置，在<ins>访问域名</ins>中的共享域名空白处填入你的前缀(任意填写)，之后再配置<code>Valine-Admin</code>(配置邮件检漏通知定时任务即可，其中的定时唤醒任务已不需要配置)</td></tr></tbody></table><figure class="highlight tex"><figcaption data-lang=TeX></figcaption><table><tr><td data-num=1></td><td><pre>//共享域名填写例子</pre></td></tr><tr><td data-num=2></td><td><pre>填入的云引擎共享域名为 cloud.avosapps.us</pre></td></tr><tr><td data-num=3></td><td><pre>(环境变量)ADMIN_URL填写为 https://cloud.avosapps.us/</pre></td></tr></table></figure><table><thead><tr><th style=text-align:left>(可选二)国际版(有自己的域名，未备案/已备案都行)与华东、华北版(有自己的域名并已备案)案例</th></tr></thead><tbody><tr><td style=text-align:left>LeanCloud应用主页→设置→域名绑定，绑定<ins>云引擎域名</ins>及<ins>API访问域名</ins>，之后再配置<code>Valine-Admin</code>(配置邮件检漏通知定时任务即可，其中的定时唤醒任务已不需要配置)</td></tr></tbody></table><figure class="highlight tex"><figcaption data-lang=TeX><span>个人域名例子</span></figcaption><table><tr><td data-num=1></td><td><pre>绑定的云引擎域名为 LeanCloud.example.com</pre></td></tr><tr><td data-num=2></td><td><pre>(环境变量)ADMIN_URL填写为 https://LeanCloud.example.com/</pre></td></tr><tr><td data-num=3></td><td><pre></pre></td></tr><tr><td data-num=4></td><td><pre>假如你购买的域名为：example.com，你博客使用的子域名为www.example.com，</pre></td></tr><tr><td data-num=5></td><td><pre>此时你可以用你的另一个子域名来绑定，域名备案后其下的子域名也具有同样作用</pre></td></tr><tr><td data-num=6></td><td><pre>比如</pre></td></tr><tr><td data-num=7></td><td><pre>(购入)域名为: example.com</pre></td></tr><tr><td data-num=8></td><td><pre>其子域名可为：www.example.com,cloud.example.com,xxx.example.com(xxx为自行填入部分,字数/类型不限)</pre></td></tr><tr><td data-num=9></td><td><pre>假如想在LeanCloud绑定cloud.example.com，</pre></td></tr><tr><td data-num=10></td><td><pre>你只需在你的域名购入服务商处添加一个CNAME类型的记录，</pre></td></tr><tr><td data-num=11></td><td><pre>其域名头为Cloud，值内容为(LeanCloud应用→域名绑定处)显示的推荐DNS配置</pre></td></tr></table></figure><p> </p><p><font size=4><ins><strong>环境变量详解</strong></ins></font></p><table><thead><tr><th style=text-align:left>变量名</th><th style=text-align:left>值</th></tr></thead><tbody><tr><td style=text-align:left>ADMIN_URL</td><td style=text-align:left><code>https://xxx.avosapps.us/</code>(LeanCloud共享域名或自己绑定的API访问域名)</td></tr><tr><td style=text-align:left>AKISMET_KEY</td><td style=text-align:left>AKISMET官网注册即可得到的API key</td></tr><tr><td style=text-align:left>BLOGGER_EMAIL</td><td style=text-align:left>(博主接收网站评论的收件邮箱)</td></tr><tr><td style=text-align:left>SENDER_EMAIL</td><td style=text-align:left>(用于发送网站评论通知的发件邮箱)</td></tr><tr><td style=text-align:left>SENDER_NAME</td><td style=text-align:left>ReverseSacle(发件邮箱发送邮件显示的发送人昵称)</td></tr><tr><td style=text-align:left>SITE_NAME</td><td style=text-align:left>ReverseSacle-Blog(发件邮箱发送邮件显示的网站名称)</td></tr><tr><td style=text-align:left>SITE_URL</td><td style=text-align:left><code>https://xxx.xxxxxxx.com</code>(发件邮箱发送邮件显示的网站名称)</td></tr><tr><td style=text-align:left>MAIL_SUBJECT</td><td style=text-align:left><code>$&#123;PARENT_NICK&#125;，您在$&#123;SITE_NAME&#125;上的评论收到了回复</code></td></tr><tr><td style=text-align:left>MAIL_SUBJECT_ADMIN</td><td style=text-align:left><code>$&#123;SITE_NAME&#125;上有新评论了</code></td></tr><tr><td style=text-align:left>SMTP_PASS</td><td style=text-align:left>(邮箱开启SMTP后可得。倘若是QQ邮箱，可在邮箱设置中点击账号选项，找到服务，再点击开启SMTP可得)</td></tr><tr><td style=text-align:left>SMTP_SERVICE</td><td style=text-align:left>(邮件服务提供商，支持 QQ、163、126、Gmail、Outlook365等)</td></tr><tr><td style=text-align:left>SMTP_USER</td><td style=text-align:left><code>xxxx@xxx.com</code>(开启SMTP的邮箱)</td></tr></tbody></table><p>配置彩色留言评论通知，只有博主的通知没有彩色效果</p><p><img data-src=https://resa-imgs.oss-accelerate.aliyuncs.com/text/comment/202210031307093.webp alt=""></p><p><code>MAIL_TEMPLATE</code>的值为</p><figure class="highlight html"><figcaption data-lang=HTML></figcaption><table><tr><td data-num=1></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border-radius</span><span class="token punctuation">:</span> 10px 10px 10px 10px<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span>13px<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #555555<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 666px<span class="token punctuation">;</span><span class="token property">font-family</span><span class="token punctuation">:</span><span class="token string">'Century Gothic'</span><span class="token punctuation">,</span><span class="token string">'Trebuchet MS'</span><span class="token punctuation">,</span><span class="token string">'Hiragino Sans GB'</span><span class="token punctuation">,</span>微软雅黑<span class="token punctuation">,</span><span class="token string">'Microsoft Yahei'</span><span class="token punctuation">,</span>Tahoma<span class="token punctuation">,</span>Helvetica<span class="token punctuation">,</span>Arial<span class="token punctuation">,</span><span class="token string">'SimSun'</span><span class="token punctuation">,</span>sans-serif<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>50px auto<span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span>1px solid #eee<span class="token punctuation">;</span><span class="token property">max-width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span> #ffffff <span class="token function">repeating-linear-gradient</span><span class="token punctuation">(</span>-45deg<span class="token punctuation">,</span>#fff<span class="token punctuation">,</span>#fff 1.125rem<span class="token punctuation">,</span>transparent 1.125rem<span class="token punctuation">,</span>transparent 2.25rem<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 1px 5px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.15<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span>#49BDAD<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>#ffffff<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span> 10px 10px 0 0<span class="token punctuation">;</span><span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">-moz-linear-gradient</span><span class="token punctuation">(</span>0deg<span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span>67<span class="token punctuation">,</span> 198<span class="token punctuation">,</span> 184<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 209<span class="token punctuation">,</span> 244<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">-webkit-linear-gradient</span><span class="token punctuation">(</span>0deg<span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span>67<span class="token punctuation">,</span> 198<span class="token punctuation">,</span> 184<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 209<span class="token punctuation">,</span> 244<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 66px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span>15px<span class="token punctuation">;</span><span class="token property">word-break</span><span class="token punctuation">:</span>break-all<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span> 23px 32px<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">hsla</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0%<span class="token punctuation">,</span>100%<span class="token punctuation">,</span>.4<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span> 10px 10px 0 0<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>您在<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;SITE_URL&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> $&#123;SITE_NAME&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>上的留言有新回复啦！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">margin</span><span class="token punctuation">:</span>40px auto<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>90%</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>$&#123;PARENT_NICK&#125; 同学，您曾在文章上发表评论：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background</span><span class="token punctuation">:</span> #fafafa <span class="token function">repeating-linear-gradient</span><span class="token punctuation">(</span>-45deg<span class="token punctuation">,</span>#fff<span class="token punctuation">,</span>#fff 1.125rem<span class="token punctuation">,</span>transparent 1.125rem<span class="token punctuation">,</span>transparent 2.25rem<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 2px 5px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.15<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>20px 0px<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>15px<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span>5px<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span>14px<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>#555555<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>$&#123;PARENT_COMMENT&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>$&#123;NICK&#125; 给您的回复如下：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background</span><span class="token punctuation">:</span> #fafafa <span class="token function">repeating-linear-gradient</span><span class="token punctuation">(</span>-45deg<span class="token punctuation">,</span>#fff<span class="token punctuation">,</span>#fff 1.125rem<span class="token punctuation">,</span>transparent 1.125rem<span class="token punctuation">,</span>transparent 2.25rem<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 2px 5px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.15<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>20px 0px<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>15px<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span>5px<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span>14px<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>#555555<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>$&#123;COMMENT&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>您可以点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span>#12addb</span><span class="token punctuation">"</span></span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;POST_URL&#125;#comments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>查看回复的完整內容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>，欢迎再次光临<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span>#12addb</span><span class="token punctuation">"</span></span></span>                <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;SITE_URL&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> $&#123;SITE_NAME&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><span class="token selector">a:link</span><span class="token punctuation">&#123;</span><span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">&#125;</span><span class="token selector">a:visited</span><span class="token punctuation">&#123;</span><span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">&#125;</span><span class="token selector">a:hover</span><span class="token punctuation">&#123;</span><span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">&#125;</span><span class="token selector">a:active</span><span class="token punctuation">&#123;</span><span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p><code>MAIL_TEMPLATE_ADMIN</code>的值为</p><figure class="highlight html"><figcaption data-lang=HTML></figcaption><table><tr><td data-num=1></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border-top</span><span class="token punctuation">:</span>2px solid #12ADDB<span class="token punctuation">;</span><span class="token property">box-shadow</span><span class="token punctuation">:</span>0 1px 3px #AAAAAA<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span>180%<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>0 15px 12px<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>50px auto<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span>12px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border-bottom</span><span class="token punctuation">:</span>1px solid #DDD<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span>14px<span class="token punctuation">;</span><span class="token property">font-weight</span><span class="token punctuation">:</span>normal<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>13px 0 10px 8px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>您在<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span> #12ADDB<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;SITE_URL&#125;<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>$&#123;SITE_NAME&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>上的文章有了新的评论<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>$&#123;NICK&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span>回复说：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span> 10px 15px<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>18px 0<span class="token punctuation">;</span><span class="token property">word-wrap</span><span class="token punctuation">:</span>break-word<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span> $&#123;COMMENT&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>您可以点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span>#12addb</span><span class="token punctuation">"</span></span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;POST_URL&#125;<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>查看回复的完整內容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p> </p><p><font size=4><ins><strong>设置定时唤醒任务</strong></ins></font></p><p>下面操作二选一，唤醒的实质就相当于手动点击并打开LeanCloud后台地址页面一次。</p><p><font size=3><ins><strong>(可选一)Github Action</strong></ins></font></p><p>参考<span class=exturl data-url=aHR0cHM6Ly9naXRodWIuY29tL1JldmVyc2VTYWNsZS9BdXRvX1dha2VfTGVhbkNsb3Vk>→Auto_Wake_LeanCloud(Github)</span>，按仓库里面的说明来操作，或者在Github内搜寻其他用于<code>LeanCloud唤醒</code>的仓库</p><p><font size=3><ins><strong>(可选二)Cloudflare worker</strong></ins></font></p><p>cloudflare主页→点击左下角<code>Workers和Pages</code>→概述→点击右边的创建应用程序→workers→创建Worker→填写名称→点击右下角的部署→点击编辑代码→将下方代码修改后填入并保存→保存后返回，选择触发器，滑动页面至看到Cron触发器→点击添加Cron触发器→选择Cron并填入<code>*/20 0-15 * * *</code> → 点击添加触发器</p><figure class="highlight javascript"><figcaption data-lang=javascript></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">const</span> domain <span class="token operator">=</span> <span class="token string">"https://xxx.example.com/"</span>	<span class="token comment">//填入你的LeanCloud后台地址</span></pre></td></tr><tr><td data-num=2></td><td><pre></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scheduled'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>  event<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num=5></td><td><pre>    <span class="token function">handleSchedule</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>scheduledTime<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=6></td><td><pre>  <span class="token punctuation">)</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">handleSchedule</span><span class="token punctuation">(</span><span class="token parameter">scheduledDate</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=10></td><td><pre>  <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>domain<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=11></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>scheduledDate<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><table><thead><tr><th style=text-align:left><span class="label warning">info</span></th></tr></thead><tbody><tr><td style=text-align:left><ins>评论管理地址</ins>(即后台地址)指LeanCloud应用页面→云引擎→管理部署→web→部署→生产环境下面的链接(即<ins>云引擎、ClientEngine 域名</ins>)</td></tr><tr><td style=text-align:left><ins>评论管理注册地址</ins>：后台地址 + <code>/sign-up</code>，比如<code>https://xxxx.avosapps.us/sign-up</code>，<code>https://cloud.example.com/sign-up</code></td></tr><tr><td style=text-align:left>Github定时任务与Cloudflare worker的定时任务都是免费的，但较繁杂。Github定时任务每一次的执行并不一定准时，因为其需要排队，有1到5分钟甚至更长的偏差；Cloudflare worker的定时任务基本没有偏差。</td></tr></tbody></table></div></details><details class=info><summary>关于LeanCloud国际版国内跨域问题</summary><div><p><font size=4><ins><strong>前言</strong></ins></font></p><ul><li>由于国内的网络政策，LeanCloud国际版修改了其服务政策，其自家的<ins>共享域名API</ins>拒绝了所有国内ip的请求，但仍可通过绑定<ins>自定义域名</ins>来解决该问题</li><li>另外，倘若你是<ins>只是看上</ins>免费的LeanCloud国际版共享域名的用户，并未拥有一个域名，则需手动反向代理LeanCloud国际版的<code>REST API 服务器地址</code>，此处不提供相关方法，可自行搜索<ins>nginx反向代理</ins>或<ins>宝塔反向代理</ins>，但反代的<ins>成本</ins>可能比一个域名的成本<ins>还高</ins></li></ul><p><font size=4><ins><strong>正式操作</strong></ins></font></p><ul><li><p>前往LeanCloud应用页面→设置→域名绑定，绑定<ins>API访问域名</ins>及<ins>云引擎、ClientEngine 域名</ins>，使用自己域名的<ins>子域名</ins>来作为绑定对象。比如你的<ins>域名</ins>为<code>example.com</code>，则<code>xxx.example.com</code>中的xxx为你的子域名头(可自定义)。绑定后，前往自己域名购入服务商处，在DNS解析里添加一个值为LeanCloud推荐DNS配置(在LeanCloud域名绑定处可见)的<code>CNAME</code>类型记录<img data-src=https://resa-imgs.oss-accelerate.aliyuncs.com/text/comment/202210031307265.webp alt=""></p></li><li><p>添加完后，返回桌面，打开博客根目录<code>./themes/shoka/_config.yml</code>文件，找到<code>valine</code>元素，修改其<code>serverURLs</code>变量的参数为你刚刚绑定的<ins>API访问域名</ins>(别忘了加上<code>https://</code>)</p></li></ul></div></details><details class=info><summary>Minivaline插件链接替换思路与案例</summary><div><p>替换案例为<code>unpkg.com</code>链接，但此处还是推荐jsdelivr链接，按需选择即可。</p><p>Minivaline中包含了评论表情、游客头像、评论游客区域样式等部分，再加上其本身所用的插件，这里对各个部分进行了展开。</p><p><font size=4><ins><strong>准备条件</strong></ins></font></p><p>打开<code>./themes/shoka/_config.yml</code>文件，滑到页底，将vendors区块→js→valine的链接改为<code>js/MiniValine.min.js</code>。</p><p>在<span class=exturl data-url=aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvTWluaVZhbGluZS9ibG9iL21hc3Rlci9kaXN0L01pbmlWYWxpbmUubWluLmpz>→MiniValine.min.js(Github)</span>中复制代码，再在桌面新建一个名为<code>MiniValine.min.js</code>的文件，将复制的代码放入并保存。</p><p>在<span class=exturl data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvTWluaVZhbGluZS9ibG9iL21hc3Rlci9kaXN0L01pbmlWYWxpbmUudmlzaXRvci5taW4uanM=">→MiniValine.visitor.min.js(Github)</span>中复制代码，再在桌面新建一个名为<code>MiniValine.visitor.min.js</code>的文件，将复制的代码放入并保存。</p><p><font size=4><ins><strong>正式开始</strong></ins></font></p><p>浏览器搜索<code>js beautify</code>(随便找一个都行)，将<code>MiniValine.min.js</code>文件中的代码放入，美化并复制后，用复制的代码替换MiniValine.min.js文件中原来的代码</p><ul><li><p>(<strong>step.1 评论游客区域索引链接替换为本地链接</strong>)</p><p><code>MiniValine.min.js</code>文件内搜索<code>throw console.error(e)</code>，将上面一行中a.p的链接地址替换</p><figure class="highlight js"><figcaption data-lang=JavaScript></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">//绝对路径写法</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">//你的网站网址 + /js/</span></pre></td></tr><tr><td data-num=3></td><td><pre>a<span class="token punctuation">.</span>p <span class="token operator">=</span> <span class="token string">"https://xxx.example.com/js/"</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token comment">//你的静态部署链接 + /js/</span></pre></td></tr><tr><td data-num=5></td><td><pre>a<span class="token punctuation">.</span>p <span class="token operator">=</span> <span class="token string">"https://cdn.xxx.com/js/"</span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token comment">//相对路径写法</span></pre></td></tr><tr><td data-num=8></td><td><pre>a<span class="token punctuation">.</span>p <span class="token operator">=</span> <span class="token string">"/js/"</span></pre></td></tr><tr><td data-num=9></td><td><pre></pre></td></tr><tr><td data-num=10></td><td><pre><span class="token comment">//或者用下面提及的Jsdelivr反代链接替换</span></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token comment">//不太推荐，大量的图片反代会影响此插件的加载速度</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token comment">//()为DOMAINS链接地址</span></pre></td></tr><tr><td data-num=13></td><td><pre>a<span class="token punctuation">.</span>p <span class="token operator">=</span> <span class="token string">"https://()/gh/amehime/MiniValine@v4.2.2-beta10/dist/"</span></pre></td></tr></table></figure></li><li><p>(<strong>step.2 评论区表情及头像图片链接替换</strong>)</p><p>由于评论区的表情及头像图片链接都在墙内，为了更方便的更换，此处用了反向代理的方法，通过Vercel反代gravatar(头像)与jsdelivr(表情)的域名链接。我想此处你应该有个疑惑：既然都反代了jsdelivr，为什么后面的插件链接不直接换成反代链接呢？这是因为，我已经试过了，由于请求量太大，导致评论区样式初始缓慢甚至无法显示。</p><p>此处省略了重复操作，请先阅览<a href=https://www.reversesacle.com/computer-science/shoka-theme/image/ >→图片及图床</a>里的<code>Jsdelivr链接引起的图片丢失问题(墙内)</code>标签块，并记录下<code>DOMAINS</code>链接地址。</p><figure class="highlight json"><figcaption data-lang=JSON></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">//由于gravatar也被墙了，导致评论区头像无法显示</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">//因此可再建一个反代域名，下面为其反代代码</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>        <span class="token property">"version"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=5></td><td><pre>        <span class="token property">"routes"</span><span class="token operator">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num=6></td><td><pre>                <span class="token punctuation">&#123;</span><span class="token property">"src"</span><span class="token operator">:</span> <span class="token string">"/(.*)"</span><span class="token punctuation">,</span><span class="token property">"dest"</span><span class="token operator">:</span> <span class="token string">"https://www.gravatar.com/$1"</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=7></td><td><pre>                <span class="token punctuation">]</span></pre></td></tr><tr><td data-num=8></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><code>MiniValine.min.js</code>文件内搜索<code>4.2.2</code></p><figure class="highlight js"><figcaption data-lang=JavaScript></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">//将()替换为刚刚新建的反代gravatar的`DOMAINS`链接地址</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment">//将`xxxx`替换为刚刚记录的`DOMAINS`链接地址</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token comment">//将polyfill链接替换为阿里云加速链接</span></pre></td></tr><tr><td data-num=4></td><td><pre>t<span class="token punctuation">.</span>GBUrl <span class="token operator">=</span> <span class="token string">"https://()/avatar/"</span><span class="token punctuation">,</span> </pre></td></tr><tr><td data-num=5></td><td><pre>t<span class="token punctuation">.</span>EUrl <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"https://xxxx/npm/alus@latest"</span><span class="token punctuation">,</span> </pre></td></tr><tr><td data-num=6></td><td><pre>          <span class="token string">"https://xxxx/gh/MiniValine/qq@master"</span><span class="token punctuation">,</span> </pre></td></tr><tr><td data-num=7></td><td><pre>          <span class="token string">"https://xxxx/gh/MiniValine/Bilibilis@master"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=8></td><td><pre>          <span class="token string">"https://xxxx/gh/MiniValine/tieba@master"</span><span class="token punctuation">,</span> </pre></td></tr><tr><td data-num=9></td><td><pre>          <span class="token string">"https://xxxx/gh/MiniValine/twemoji@master"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=10></td><td><pre>          <span class="token string">"https://xxxx/gh/MiniValine/weibo@master"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> </pre></td></tr><tr><td data-num=11></td><td><pre>t<span class="token punctuation">.</span>pf <span class="token operator">=</span> <span class="token string">"https://polyfill.alicdn.com/polyfill.min.js?features=es6"</span><span class="token punctuation">,</span> </pre></td></tr><tr><td data-num=12></td><td><pre>t<span class="token punctuation">.</span>i18nUrl <span class="token operator">=</span> <span class="token string">"https://xxxx/gh/MiniValine/minivaline-i18n@latest/"</span></pre></td></tr></table></figure></li><li><p>(<strong>step.3 MiniValine使用的插件链接替换</strong>)</p><p>由于评论区需要<ins>初始化</ins>，经测试发现只有在<code>mark.min.js</code>文件与<code>av-min.js</code>文件调用时初始化才不会报错。因此将该js使用的插件划分为了次要插件与主要插件，先请求<ins>次要插件</ins>后再请求<ins>主要插件</ins>并初始化。</p><p>此外，由于没有注释，代码的修改基本上是<ins>小改</ins>，原调用形式基本未变，只是将一次请求多个文件改成了按数组顺序依次请求。<code>t</code>数组的最后一个链接为主要链接插件，其余为次要插件链接。</p><p>由于我测试时使用的宽带有自建墙，弄得我都分不清是我的网络问题还是Leancloud官方服务器中写的respond代码有问题，时不时有一个<code>Request has been terminated</code>错误。还有一个小bug不知道怎么改，就是当部分插件请求未完成时就点击文章，评论区只有一个框。</p><p>还有，经测试发现，当进入文章页面时，按代码逻辑来说应该只是调用三目表达式的第一个true返回，但实际上true与false返回都被调用了，并且false返回<code>只</code>调用了一个初始化。我猜想，之前的combine链接会自动将后面的<ins>刷新空调用</ins>请求屏蔽，但现在这个便利没了，倘若不手动屏蔽，会导致一个<code>undefined</code>错误。之后在后面又添加了一个三目表达式用来区分插件调用与初始化，但增加了不必要的重复代码，最后又做了下精简。</p><p>倘若想使用自己的链接，只需要将<code>.push()</code>方法后面的链接替换为你所使用的链接即可。</p><p><code>MiniValine.min.js</code>文件内搜索<code>window.MV.scriptEle</code>，用下面的代码替换<code>e.exports = function (e) &#123;&#125;</code>代码块。</p><figure class="highlight js"><figcaption data-lang=JavaScript></figcaption><table><tr><td data-num=1></td><td><pre>e<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>        <span class="token keyword">var</span> t<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre>        <span class="token number">1</span> <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>autosize <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"https://unpkg.com/autosize@4.0.2/dist/autosize.min.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>filterXSS <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"https://unpkg.com/xss@1.0.8/dist/xss.min.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>config<span class="token punctuation">.</span>closeUA <span class="token operator">||</span> window<span class="token punctuation">.</span>UAParser <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"https://unpkg.com/ua-parser-js@0.7.22/dist/ua-parser.min.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>math <span class="token operator">&amp;&amp;</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>config<span class="token punctuation">.</span>math <span class="token operator">||</span> <span class="token string">"undefined"</span> <span class="token operator">!=</span> <span class="token keyword">typeof</span> MathJax <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"https://unpkg.com/mathjax@3/es5/tex-svg.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>md <span class="token operator">&amp;&amp;</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>config<span class="token punctuation">.</span>md <span class="token operator">||</span> window<span class="token punctuation">.</span>marked <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"https://unpkg.com/marked@1.2.0/marked.min.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">url</span> <span class="token operator">=></span> i<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>default<span class="token punctuation">)</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>t<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>            e<span class="token punctuation">.</span><span class="token function">initBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span><span class="token constant">MV</span><span class="token punctuation">.</span>scriptEle <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span></pre></td></tr><tr><td data-num=5></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">==</span> window<span class="token punctuation">.</span><span class="token constant">MV</span><span class="token punctuation">.</span>scriptEle <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">==</span> t<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>config<span class="token punctuation">.</span>NoRecordIP <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> window<span class="token punctuation">.</span><span class="token constant">MV</span><span class="token punctuation">.</span>ip <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>default<span class="token punctuation">)</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token constant">C</span><span class="token punctuation">.</span>ip <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">MV</span><span class="token punctuation">.</span>ip<span class="token punctuation">)</span><span class="token punctuation">,</span> t <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>md5 <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"https://unpkg.com/blueimp-md5@2.18.0/js/md5.min.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span><span class="token constant">AV</span> <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"https://unpkg.com/leancloud-storage@4/dist/av-min.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">url</span> <span class="token operator">=></span> i<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>default<span class="token punctuation">)</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=6></td><td><pre>            e<span class="token punctuation">.</span><span class="token function">initCheck</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span><span class="token constant">MV</span><span class="token punctuation">.</span>scriptInit <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span></pre></td></tr><tr><td data-num=7></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">==</span> window<span class="token punctuation">.</span><span class="token constant">MV</span><span class="token punctuation">.</span>scriptInit <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">==</span> t<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=8></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>上述步骤完成后，先备份一份MiniValine.min.js文件，再复制MiniValine.min.js文件中所有代码，浏览器搜索<code>js compress</code>(随便一个都行)，将代码放入，压缩并复制后，将复制的代码放入并保存</p></li><li><p>最后，将<code>MiniValine.min.js</code>文件与<code>MiniValine.visitor.min.js</code>文件拷贝到<code>./themes/shoka/source/js</code>目录中</p></li></ul></div></details><div class="note danger no-icon"><p>当全部配置弄好后，别忘了还有隐私配置 → <span class=exturl data-url=aHR0cHM6Ly9naXRodWIuY29tL2ltYWVnb28vVmFsaW5l>Valine隐私配置详细教程-Github</span></p></div><h2 id=walinev3版本-vercel部署><a class=anchor href=#walinev3版本-vercel部署>#</a> Waline(v3版本-vercel部署)</h2><div class="note info"><p>将hexo-shoka主题的valine评论系统彻底去除，</p><p>并通过覆盖waline的CSS样式以适配hexo-shoka主题。</p><p>保留了文章浏览量统计与最近评论的展示。</p></div><details class=info><summary>Waline服务端部署</summary><div><div class=links><div class=item title=LeanCloud官网 style=--block-color:#0099CC><span class="exturl image" data-url=aHR0cHM6Ly9jb25zb2xlLmxlYW5jbG91ZC5hcHAv data-background-image=https://resa-imgs.oss-accelerate.aliyuncs.com/text/comment/202210031307097.webp></span><div class=info><span class="exturl title" data-url=aHR0cHM6Ly9jb25zb2xlLmxlYW5jbG91ZC5hcHAv>LeanCloud官网</span><p class=desc>前往LeanCloud官网主页</p></div></div></div><ul><li><p>先在LeanCloud官网完成注册认证后，点击左上蓝色logo图标，进入后点创建应用<img data-src=https://resa-imgs.oss-accelerate.aliyuncs.com/text/comment/202210031307092.webp alt=""></p></li><li><p>(<strong>大陆版本必须，国际版可选</strong>)创建好后，点击进行到刚刚创建的应用，点击设置 → 域名绑定，在API 访问域名处绑定新域名</p></li><li><p>点击设置 → 应用凭证</p></li><li><p>进入到<span class=exturl data-url="aHR0cHM6Ly92ZXJjZWwuY29tL25ldy9jbG9uZT9yZXBvc2l0b3J5LXVybD1odHRwcyUzQSUyRiUyRmdpdGh1Yi5jb20lMkZ3YWxpbmVqcyUyRndhbGluZSUyRnRyZWUlMkZtYWluJTJGZXhhbXBsZQ==">→vercel部署</span>，点击<code>Continue with GitHub</code>，填写<code>Repository Name</code>(新建的github仓库名)，点击<code>Create</code>，等待部署完成，之后点击<code>Go to Dashboard</code></p></li><li><p>点击Settings → Environment Variables，在Key内填写waline服务端环境变量名，Value处填写对应的值，通过点击<code>Add another</code>按钮添加新的键值对，详细可看<span class=exturl data-url="aHR0cHM6Ly93YWxpbmUuanMub3JnL3JlZmVyZW5jZS9zZXJ2ZXIvZW52Lmh0bWw=">→Waline服务端环境变量</span></p><table><thead><tr><th style=text-align:left>Key</th><th style=text-align:left>Value</th></tr></thead><tbody><tr><td style=text-align:left>LEAN_ID</td><td style=text-align:left>LeanCloud应用凭证页面的AppID</td></tr><tr><td style=text-align:left>LEAN_KEY</td><td style=text-align:left>LeanCloud应用凭证页面的AppKey</td></tr><tr><td style=text-align:left>LEAN_MASTER_KEY</td><td style=text-align:left>LeanCloud应用凭证页面的MasterKey</td></tr><tr><td style=text-align:left>LEAN_SERVER</td><td style=text-align:left>大陆版本<strong>必须</strong>配置，国际版可选配置，LeanCloud域名绑定处的API 访问域名</td></tr><tr><td style=text-align:left><strong>邮箱通知环境配置</strong></td><td style=text-align:left></td></tr><tr><td style=text-align:left>SITE_NAME</td><td style=text-align:left>网站名称，用于在邮箱消息中显示</td></tr><tr><td style=text-align:left>SITE_URL</td><td style=text-align:left>网站地址，用于在邮箱消息中显示</td></tr><tr><td style=text-align:left>AUTHOR_EMAIL</td><td style=text-align:left>博主邮箱，用来接收新评论通知。如果是博主发布的评论则不进行提醒通知，不能与SMTP邮箱相同</td></tr><tr><td style=text-align:left>SMTP_SERVICE</td><td style=text-align:left>(邮件服务提供商，支持 QQ、163、126、Gmail、Outlook365等)<code>https://xxx.xxxxxxx.com</code>(发件邮箱发送邮件显示的网站名称)</td></tr><tr><td style=text-align:left>SMTP_HOST</td><td style=text-align:left>SMTP服务器地址，一般可以在邮箱的设置中找到。QQ的为(<span class=exturl data-url=aHR0cDovL3NtdHAucXEuY29t>smtp.qq.com</span>)</td></tr><tr><td style=text-align:left>SMTP_PORT</td><td style=text-align:left>SMTP服务器端口，一般可以在邮箱的设置中找到。QQ的为(465或587)</td></tr><tr><td style=text-align:left>SMTP_USER</td><td style=text-align:left>SMTP邮件发送服务的用户名，一般为登录邮箱。</td></tr><tr><td style=text-align:left>SMTP_PASS</td><td style=text-align:left>(邮箱开启SMTP后可得。倘若是QQ邮箱，可点击右上角头像→Settings(设置)→下滑找到IMAP/SMTP，开启后可得)</td></tr><tr><td style=text-align:left>SMTP_SECURE</td><td style=text-align:left>是否使用SSL/TLS连接SMTP，未知值，这里填了true</td></tr><tr><td style=text-align:left><strong>可选部分环境配置</strong></td><td style=text-align:left></td></tr><tr><td style=text-align:left>SENDER_NAME</td><td style=text-align:left>自定义发送邮件的发件人</td></tr><tr><td style=text-align:left>SENDER_EMAIL</td><td style=text-align:left>自定义发送邮件的发件地址</td></tr></tbody></table></li></ul><ul><li>返回到vercel页面(可点击左上角的logo)，点击刚刚创建的项目，点击Deployments，找到搜索栏下面一行，点击最右边的<code>...</code>，点击Redeploy → Redeploy，等待部署完成</li><li>最后，返回到vercel页面，点击刚刚创建的项目，进入后记录下<code>DOMAINS</code>处的链接地址(其中一个即可)</li><li>(<strong>可选，域名绑定</strong>)由于Vercel有时也在墙内，可能需要绑定<ins>子域名</ins>才可顺畅使用。返回到vercel页面，点击刚刚创建的项目，点击右上角的Domains→Edit→Domain处改为自己的子域名→点击Save，之后再在域名购入商处添加值为(<code>cname.vercel-dns.com</code>或<code>cname-china.vercel-dns.com</code>)的CNAME类型记录</li></ul></div></details><details class=info><summary>hexo-shoka主题的waline配置</summary><div><ul><li><p>修改文件：<code>./themes/shoka/_config.yml</code></p><figure class="highlight yaml"><figcaption data-lang=YAML></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment"># 删除掉valine相关的所有内容，并添加下面的内容</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token comment"># Comments</span></pre></td></tr><tr><td data-num=3></td><td><pre><span class="token comment"># For more information: https://github.com/amehime/MiniValine</span></pre></td></tr><tr><td data-num=4></td><td><pre><span class="token key atrule">waline</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num=5></td><td><pre>  <span class="token comment"># Waline的服务端地址，刚刚在Vercel记录的DOMAINS链接或自绑定的域名</span></pre></td></tr><tr><td data-num=6></td><td><pre>  <span class="token key atrule">serverURL</span><span class="token punctuation">:</span> <span class="token string">'https://xxx.vercel.app'</span></pre></td></tr><tr><td data-num=7></td><td><pre>  <span class="token key atrule">comment</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>   <span class="token comment"># 文章评论数统计，填入字符串时会作为 CSS 选择器</span></pre></td></tr><tr><td data-num=8></td><td><pre>  <span class="token key atrule">pageview</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># 文章浏览量统计，填入字符串时会作为 CSS 选择器</span></pre></td></tr><tr><td data-num=9></td><td><pre>  <span class="token key atrule">lang</span><span class="token punctuation">:</span> <span class="token string">'zh-CN'</span>   <span class="token comment"># 多语言支持</span></pre></td></tr><tr><td data-num=10></td><td><pre>  <span class="token key atrule">dark</span><span class="token punctuation">:</span> <span class="token string">'auto'</span> <span class="token comment"># 暗黑模式适配,true | false | 'auto'</span></pre></td></tr><tr><td data-num=11></td><td><pre>  <span class="token key atrule">commentSorting</span><span class="token punctuation">:</span> <span class="token string">'latest'</span> <span class="token comment"># 评论列表排序方式。可选值: 'latest', 'oldest', 'hottest'</span></pre></td></tr><tr><td data-num=12></td><td><pre>  <span class="token key atrule">login</span><span class="token punctuation">:</span>  <span class="token string">'disable'</span> <span class="token comment"># 登录模式状态,'enable' | 'disable' | 'force'</span></pre></td></tr><tr><td data-num=13></td><td><pre>  <span class="token key atrule">wordLimit</span><span class="token punctuation">:</span> <span class="token number">0</span>  <span class="token comment"># 评论字数限制。填入单个数字时为最大字数限制。设置为 0 时无限制</span></pre></td></tr><tr><td data-num=14></td><td><pre>  <span class="token key atrule">pageSize</span><span class="token punctuation">:</span> <span class="token number">10</span>  <span class="token comment"># 评论列表分页，每页条数</span></pre></td></tr><tr><td data-num=15></td><td><pre>  <span class="token key atrule">imageUploader</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># 自定义图片上传方法。</span></pre></td></tr><tr><td data-num=16></td><td><pre>  <span class="token key atrule">highlighter</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># 代码高亮</span></pre></td></tr><tr><td data-num=17></td><td><pre>  <span class="token key atrule">texRenderer</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment">#  自定义tex渲染</span></pre></td></tr><tr><td data-num=18></td><td><pre>  <span class="token key atrule">search</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># 自定义搜索功能</span></pre></td></tr><tr><td data-num=19></td><td><pre>  <span class="token key atrule">noCopyright</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># 是否隐藏页脚版权信息</span></pre></td></tr><tr><td data-num=20></td><td><pre>  <span class="token key atrule">recaptchaV3Key</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># Google提供的验证码服务</span></pre></td></tr><tr><td data-num=21></td><td><pre>  <span class="token key atrule">turnstileKey</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># Cloudflare 提供的验证码服务</span></pre></td></tr><tr><td data-num=22></td><td><pre>  <span class="token key atrule">reaction</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># 为文章增加表情互动功能</span></pre></td></tr><tr><td data-num=23></td><td><pre>  <span class="token key atrule">meta</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'nick'</span><span class="token punctuation">,</span> <span class="token string">'mail'</span><span class="token punctuation">,</span> <span class="token string">'link'</span><span class="token punctuation">]</span>  <span class="token comment"># 评论者相关属性。可选值: 'nick', 'mail', 'link'</span></pre></td></tr><tr><td data-num=24></td><td><pre>  <span class="token key atrule">requiredMeta</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'nick'</span><span class="token punctuation">,</span> <span class="token string">'mail'</span><span class="token punctuation">]</span> <span class="token comment"># 设置必填项，默认匿名([])</span></pre></td></tr><tr><td data-num=25></td><td><pre>  <span class="token key atrule">locale</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token key atrule">placeholder</span><span class="token punctuation">:</span> <span class="token string">"欢迎评论"</span></pre></td></tr><tr><td data-num=27></td><td><pre>  <span class="token punctuation">&#125;</span> <span class="token comment"># https://waline.js.org/cookbook/customize/locale.html</span></pre></td></tr><tr><td data-num=28></td><td><pre>  <span class="token key atrule">emoji</span><span class="token punctuation">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num=29></td><td><pre>    https<span class="token punctuation">:</span>//unpkg.com/@waline/emojis@1.2.0/alus</pre></td></tr><tr><td data-num=30></td><td><pre>  <span class="token punctuation">]</span> <span class="token comment"># 表情</span></pre></td></tr><tr><td data-num=31></td><td><pre>  </pre></td></tr><tr><td data-num=32></td><td><pre><span class="token comment"># 滑动页面到最后面，找到vendors区域，按下面条件修改</span></pre></td></tr><tr><td data-num=33></td><td><pre>将</pre></td></tr><tr><td data-num=34></td><td><pre><span class="token key atrule">comment</span><span class="token punctuation">:</span> css/comment.css</pre></td></tr><tr><td data-num=35></td><td><pre>修改为</pre></td></tr><tr><td data-num=36></td><td><pre><span class="token key atrule">waline_crop</span><span class="token punctuation">:</span> css/comment.css</pre></td></tr><tr><td data-num=37></td><td><pre><span class="token key atrule">waline</span><span class="token punctuation">:</span> combine/npm/@waline/client@3.1.3/dist/waline.min.css<span class="token punctuation">,</span>npm/@waline/client@3.1.3/dist/waline<span class="token punctuation">-</span>meta.min.css</pre></td></tr><tr><td data-num=38></td><td><pre></pre></td></tr><tr><td data-num=39></td><td><pre>将</pre></td></tr><tr><td data-num=40></td><td><pre><span class="token key atrule">valine</span><span class="token punctuation">:</span> gh/amehime/MiniValine@4.2.2<span class="token punctuation">-</span>beta10/dist/MiniValine.min.js</pre></td></tr><tr><td data-num=41></td><td><pre>修改为</pre></td></tr><tr><td data-num=42></td><td><pre><span class="token key atrule">waline</span><span class="token punctuation">:</span> npm/@waline/client@3.1.3/dist/waline.umd.min.js</pre></td></tr></table></figure></li><li><p>修改文件：<code>./themes/shoka/layout/_macro/comment.njk</code></p><p>删除所有内容，添加下面的内容。由于markdown的语法冲突，需手动将<code>\%</code>里的<code>\</code>去除。</p><figure class="highlight html"><figcaption data-lang=HTML></figcaption><table><tr><td data-num=1></td><td><pre>&#123;\% macro render() %&#125;</pre></td></tr><tr><td data-num=2></td><td><pre>&#123;\%- if page.comment !== false %&#125;</pre></td></tr><tr><td data-num=3></td><td><pre>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrap<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=4></td><td><pre>    &#123;\%- if theme.waline.serverURL %&#125;</pre></td></tr><tr><td data-num=5></td><td><pre>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>waline-comment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=6></td><td><pre>    &#123;\%- endif %&#125;</pre></td></tr><tr><td data-num=7></td><td><pre>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num=8></td><td><pre>&#123;\%- endif %&#125;</pre></td></tr><tr><td data-num=9></td><td><pre>&#123;\% endmacro %&#125;</pre></td></tr></table></figure></li><li><p>修改文件：<code>./themes/shoka/layout/_macro/widgets.njk</code></p><p>替换第28行左右的<code>&lt;ul class=&quot;leancloud-recent-comment&quot;&gt;&lt;/ul&gt;</code>，更改为下面这行</p><p><code>&lt;ul id=&quot;waline-recent&quot;&gt;&lt;/ul&gt;</code></p></li><li><p>修改文件：<code>./themes/shoka/layout/_partials/layout.njk</code></p><p>替换111行左右的</p><p><code>valine: &#123;&#123; page.valine|safedump if page.valine else "true" &#125;&#125;,&#123;%- endif %&#125;</code>，</p><p>更改为下面这行</p><p><code>waline: &#123;&#123; page.waline|safedump if page.waline else "true" &#125;&#125;,&#123;%- endif %&#125;</code></p></li><li><p>修改文件：<code>./themes/shoka/layout/_partials/post/footer.njk</code></p><p>第13行左右，将<code>&#123;%- if ~`到`&#123;%- endif %&#125;</code>区域，更改为下面内容。</p><ul><li><p>将<code>&#123;%- if theme.valine.appId and theme.valine.appKey and theme.valine.visitor %&#125;</code>，<br>修改为<code>&#123;%- if theme.waline.serverURL and theme.waline.pageview %&#125;</code></p></li><li><p>将<code>&lt;span id=</code>标签修改为 <code>&lt;span class=&quot;item&quot; data-path=&quot;&#123;&#123; '/' + (page.path | replace('index.html', '')) &#125;&#125;&quot; title=&quot;&#123;&#123; __('post.views') &#125;&#125;&quot;&gt;</code></p></li><li><p>将<code>&lt;span class=&quot;leancloud-visitors-count&quot;&gt;&lt;/span&gt;</code>，</p><p>修改为<code>&lt;span class=&quot;waline-pageview-count&quot;&gt;&lt;/span&gt;</code></p></li></ul></li><li><p>修改文件：<code>./themes/shoka/scripts/generaters/script.js</code></p><p>第23行到38行左右，修改为下面的内容</p><figure class="highlight js"><figcaption data-lang=JavaScript></figcaption><table><tr><td data-num=1></td><td><pre><span class="token literal-property property">js</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>  <span class="token literal-property property">waline</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>vendors<span class="token punctuation">.</span>js<span class="token punctuation">.</span>waline<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=3></td><td><pre>  <span class="token literal-property property">chart</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>vendors<span class="token punctuation">.</span>js<span class="token punctuation">.</span>chart<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=4></td><td><pre>  <span class="token literal-property property">copy_tex</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>vendors<span class="token punctuation">.</span>js<span class="token punctuation">.</span>copy_tex<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=5></td><td><pre>  <span class="token literal-property property">fancybox</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>vendors<span class="token punctuation">.</span>js<span class="token punctuation">.</span>fancybox</pre></td></tr><tr><td data-num=6></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre>  <span class="token literal-property property">waline_crop</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>css <span class="token operator">+</span> <span class="token string">"/comment.css"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=9></td><td><pre>  <span class="token literal-property property">waline</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>vendors<span class="token punctuation">.</span>css<span class="token punctuation">.</span>waline<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=10></td><td><pre>  <span class="token literal-property property">katex</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>vendors<span class="token punctuation">.</span>css<span class="token punctuation">.</span>katex<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=11></td><td><pre>  <span class="token literal-property property">mermaid</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>css <span class="token operator">+</span> <span class="token string">"/mermaid.css"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=12></td><td><pre>  <span class="token literal-property property">fancybox</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>vendors<span class="token punctuation">.</span>css<span class="token punctuation">.</span>fancybox</pre></td></tr><tr><td data-num=13></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token literal-property property">loader</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>loader<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=15></td><td><pre><span class="token literal-property property">search</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token literal-property property">waline</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>waline<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=17></td><td><pre><span class="token literal-property property">quicklink</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=18></td><td><pre>  <span class="token literal-property property">timeout</span> <span class="token operator">:</span> theme<span class="token punctuation">.</span>quicklink<span class="token punctuation">.</span>timeout<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=19></td><td><pre>  <span class="token literal-property property">priority</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>quicklink<span class="token punctuation">.</span>priority</pre></td></tr><tr><td data-num=20></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>修改文件：<code>./themes/shoka/source/css/comment.styl</code></p><p>修改第5行为下面内容</p><figure class="highlight stylus"><figcaption data-lang=stylus></figcaption><table><tr><td data-num=1></td><td><pre><span class="token atrule-declaration"><span class="token atrule">@import</span> <span class="token string">"_common/components/third-party/waline"</span><span class="token punctuation">;</span></span></pre></td></tr></table></figure></li><li><p>修改文件：<code>./themes/shoka/source/js/_app/utils.js</code></p><p>第45行左右的<code>vendorCSS</code>函数，在函数结束的后一行添加下面函数</p><figure class="highlight js"><figcaption data-lang=JavaScript></figcaption><table><tr><td data-num=1></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">vendorCss_body</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=2></td><td><pre>  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'css-'</span> <span class="token operator">+</span> type<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=3></td><td><pre>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">!=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body link'</span> <span class="token operator">+</span> <span class="token string">'.'</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=5></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=6></td><td><pre>    </pre></td></tr><tr><td data-num=7></td><td><pre>  <span class="token keyword">var</span> new_link <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">createChild</span><span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token literal-property property">rel</span><span class="token operator">:</span> <span class="token string">'stylesheet'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=9></td><td><pre>    <span class="token literal-property property">href</span><span class="token operator">:</span> <span class="token function">assetUrl</span><span class="token punctuation">(</span><span class="token string">"css"</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=10></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>  new_link<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=12></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>修改文件：<code>./themes/shoka/source/js/_app/page.js</code></p><p>第408行左右的<code>loadComments</code>函数，修改函数内部的<code>vendorCss('valine');</code>，更改为下面内容</p><figure class="highlight js"><figcaption data-lang=JavaScript></figcaption><table><tr><td data-num=1></td><td><pre><span class="token function">vendorCss_body</span><span class="token punctuation">(</span><span class="token string">'waline_crop'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>修改文件：<code>./themes/shoka/source/js/_app/pjax.js</code></p><p>这里吐槽两句，waline评论区的样式突然多了<code>@</code>，这里又不得不改下算法了。</p><figure class="highlight js"><figcaption data-lang=JavaScript></figcaption><table><tr><td data-num=1></td><td><pre><span class="token comment">// 第49行左右的`siteRefresh`函数，在其前面添加下面的两个函数</span></pre></td></tr><tr><td data-num=2></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">recent_comment_create</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">comments</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=3></td><td><pre>  <span class="token keyword">var</span> waline_recent <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#waline-recent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=4></td><td><pre></pre></td></tr><tr><td data-num=5></td><td><pre>  <span class="token keyword">if</span><span class="token punctuation">(</span>waline_recent<span class="token punctuation">.</span><span class="token function">hasChildNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=6></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=7></td><td><pre>    <span class="token keyword">var</span> parent_label <span class="token operator">=</span> waline_recent<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=8></td><td><pre></pre></td></tr><tr><td data-num=9></td><td><pre>    parent_label<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>waline_recent<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=10></td><td><pre>    parent_label<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>waline_recent<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=11></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=12></td><td><pre></pre></td></tr><tr><td data-num=13></td><td><pre>  <span class="token keyword">var</span> len <span class="token operator">=</span> comments<span class="token punctuation">.</span>length<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=14></td><td><pre>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> len<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=15></td><td><pre></pre></td></tr><tr><td data-num=16></td><td><pre>  <span class="token keyword">var</span> <span class="token function-variable function">getDate</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">timestamp</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=17></td><td><pre>    <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=18></td><td><pre>    <span class="token keyword">var</span> year <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=19></td><td><pre>    <span class="token keyword">var</span> month <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=20></td><td><pre>    <span class="token keyword">var</span> day <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=21></td><td><pre>    month <span class="token operator">=</span> month <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> month <span class="token operator">:</span> month<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=22></td><td><pre>    day <span class="token operator">=</span> day <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> day <span class="token operator">:</span> day<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=23></td><td><pre>    <span class="token keyword">return</span> year <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> month <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> day<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=24></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=25></td><td><pre>  <span class="token keyword">var</span> <span class="token function-variable function">getText</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">new_text</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=26></td><td><pre>    new_text <span class="token operator">=</span> new_text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token keyword">var</span> place_text <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=28></td><td><pre>    <span class="token keyword">var</span> text_size <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=29></td><td><pre>    <span class="token keyword">var</span> len <span class="token operator">=</span> new_text<span class="token punctuation">.</span>length<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=30></td><td><pre>    <span class="token keyword">var</span> smallest <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num=31></td><td><pre>      <span class="token string">'r'</span><span class="token punctuation">,</span><span class="token string">'g'</span><span class="token punctuation">,</span><span class="token string">'t'</span><span class="token punctuation">,</span><span class="token string">'j'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=32></td><td><pre>      <span class="token string">'f'</span><span class="token punctuation">,</span><span class="token string">'i'</span><span class="token punctuation">,</span><span class="token string">'v'</span><span class="token punctuation">,</span><span class="token string">'y'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=33></td><td><pre>      <span class="token string">'x'</span><span class="token punctuation">,</span><span class="token string">'z'</span><span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">,</span><span class="token string">'.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=34></td><td><pre>      <span class="token string">'!'</span><span class="token punctuation">,</span><span class="token string">';'</span><span class="token punctuation">,</span><span class="token string">':'</span><span class="token punctuation">,</span><span class="token string">'"'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=35></td><td><pre>      <span class="token string">'('</span><span class="token punctuation">,</span><span class="token string">')'</span><span class="token punctuation">,</span><span class="token string">'-'</span><span class="token punctuation">,</span><span class="token string">' '</span></pre></td></tr><tr><td data-num=36></td><td><pre>    <span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=37></td><td><pre>    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-z]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=38></td><td><pre>    <span class="token keyword">var</span> regex2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[!"#$%&amp;'()*+,-./:;&lt;=>?@[\]^_`&#123;|&#125;~]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=39></td><td><pre>    <span class="token keyword">var</span> regex3 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[A-Z]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=40></td><td><pre></pre></td></tr><tr><td data-num=41></td><td><pre>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=42></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=43></td><td><pre>      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">'&lt;'</span> <span class="token operator">==</span> new_text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=44></td><td><pre>      <span class="token punctuation">&#123;</span> </pre></td></tr><tr><td data-num=45></td><td><pre>        <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> len <span class="token operator">&amp;&amp;</span> <span class="token string">'>'</span> <span class="token operator">!=</span> new_text<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=46></td><td><pre>        <span class="token keyword">continue</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=47></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=48></td><td><pre>      <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">>=</span> text_size<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=49></td><td><pre>      <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=50></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> len<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> place_text <span class="token operator">+=</span> <span class="token string">'...'</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=51></td><td><pre>        <span class="token keyword">break</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num=52></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=53></td><td><pre>      <span class="token keyword">var</span> c <span class="token operator">=</span> new_text<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=54></td><td><pre>      <span class="token keyword">if</span><span class="token punctuation">(</span>c <span class="token keyword">in</span> smallest<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=55></td><td><pre>      <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">||</span> regex2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> count <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=56></td><td><pre>      <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>regex3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> count <span class="token operator">+=</span> <span class="token number">2.5</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=57></td><td><pre>      <span class="token keyword">else</span><span class="token punctuation">&#123;</span> count <span class="token operator">+=</span> <span class="token number">3.5</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=58></td><td><pre>      </pre></td></tr><tr><td data-num=59></td><td><pre>      place_text <span class="token operator">+=</span> c<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=60></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=61></td><td><pre>  </pre></td></tr><tr><td data-num=62></td><td><pre>    <span class="token keyword">return</span> place_text<span class="token punctuation">;</span></pre></td></tr><tr><td data-num=63></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=64></td><td><pre></pre></td></tr><tr><td data-num=65></td><td><pre>  <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=66></td><td><pre>  <span class="token keyword">var</span> li_label <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=67></td><td><pre>  li_label<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span><span class="token string">'item'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=68></td><td><pre>  </pre></td></tr><tr><td data-num=69></td><td><pre>  <span class="token keyword">var</span> a_label <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=70></td><td><pre>  a_label<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">,</span>comments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=71></td><td><pre>  a_label<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-pjax-state'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=72></td><td><pre></pre></td></tr><tr><td data-num=73></td><td><pre>  <span class="token keyword">var</span> breadcrumb_label <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=74></td><td><pre>  breadcrumb_label<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginBottom <span class="token operator">=</span> <span class="token string">'-5.3px'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=75></td><td><pre>  breadcrumb_label<span class="token punctuation">.</span>innerText <span class="token operator">=</span> comments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nick <span class="token operator">+</span> <span class="token string">' @ '</span> <span class="token operator">+</span> <span class="token function">getDate</span><span class="token punctuation">(</span>comments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=76></td><td><pre></pre></td></tr><tr><td data-num=77></td><td><pre>  <span class="token keyword">var</span> text_span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=78></td><td><pre>  text_span<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token function">getText</span><span class="token punctuation">(</span>comments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>comment<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=79></td><td><pre></pre></td></tr><tr><td data-num=80></td><td><pre>  waline_recent <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#waline-recent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=81></td><td><pre>  a_label<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>breadcrumb_label<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=82></td><td><pre>  a_label<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>text_span<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=83></td><td><pre>  li_label<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a_label<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=84></td><td><pre>  waline_recent<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>li_label<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=85></td><td><pre></pre></td></tr><tr><td data-num=86></td><td><pre>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token operator">++</span>i<span class="token punctuation">;</span>i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=87></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=88></td><td><pre>    <span class="token keyword">var</span> new_li_label <span class="token operator">=</span> li_label<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=89></td><td><pre>    <span class="token keyword">var</span> new_a_label <span class="token operator">=</span> a_label<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=90></td><td><pre>    new_a_label<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">,</span>comments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=91></td><td><pre></pre></td></tr><tr><td data-num=92></td><td><pre>    <span class="token keyword">var</span> new_breadcrumb_label <span class="token operator">=</span> breadcrumb_label<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=93></td><td><pre>    new_breadcrumb_label<span class="token punctuation">.</span>innerText <span class="token operator">=</span> comments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nick <span class="token operator">+</span> <span class="token string">' @ '</span> <span class="token operator">+</span> <span class="token function">getDate</span><span class="token punctuation">(</span>comments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=94></td><td><pre></pre></td></tr><tr><td data-num=95></td><td><pre>    <span class="token keyword">var</span> new_text_span <span class="token operator">=</span> text_span<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=96></td><td><pre>    new_text_span<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token function">getText</span><span class="token punctuation">(</span>comments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>comment<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=97></td><td><pre></pre></td></tr><tr><td data-num=98></td><td><pre>    new_a_label<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>new_breadcrumb_label<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=99></td><td><pre>    new_a_label<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>new_text_span<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=100></td><td><pre>    new_li_label<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>new_a_label<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=101></td><td><pre>    waline_recent<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>new_li_label<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=102></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=103></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=104></td><td><pre></pre></td></tr><tr><td data-num=105></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">waline_create</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=106></td><td><pre>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">CONFIG</span><span class="token punctuation">.</span>waline<span class="token punctuation">.</span>serverURL<span class="token punctuation">)</span></pre></td></tr><tr><td data-num=107></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=108></td><td><pre>    <span class="token function">vendorCss_body</span><span class="token punctuation">(</span><span class="token string">'waline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=109></td><td><pre>    <span class="token keyword">var</span> <span class="token function-variable function">getScript</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=110></td><td><pre>      <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'script-waline'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=111></td><td><pre>      <span class="token keyword">var</span> old_script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body script'</span> <span class="token operator">+</span> <span class="token string">'.'</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=112></td><td><pre>      <span class="token keyword">if</span><span class="token punctuation">(</span>old_script<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>old_script<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=113></td><td><pre></pre></td></tr><tr><td data-num=114></td><td><pre>      <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=115></td><td><pre>      script<span class="token punctuation">.</span>defer <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=116></td><td><pre>      script<span class="token punctuation">.</span>crossOrigin <span class="token operator">=</span> <span class="token string">'anonymous'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=117></td><td><pre>      script<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span><span class="token string">'script-waline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=118></td><td><pre>      Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=119></td><td><pre>          script<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> options<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=120></td><td><pre>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=121></td><td><pre>      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=122></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=123></td><td><pre></pre></td></tr><tr><td data-num=124></td><td><pre>    <span class="token function">getScript</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=125></td><td><pre>      <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token function">assetUrl</span><span class="token punctuation">(</span><span class="token string">'js'</span><span class="token punctuation">,</span><span class="token string">'waline'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=126></td><td><pre>      <span class="token function-variable function">onload</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=127></td><td><pre>        <span class="token keyword">var</span> options <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token constant">CONFIG</span><span class="token punctuation">.</span>waline<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=128></td><td><pre>        options <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token constant">LOCAL</span><span class="token punctuation">.</span>waline<span class="token operator">||</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=129></td><td><pre></pre></td></tr><tr><td data-num=130></td><td><pre>        Waline<span class="token punctuation">.</span><span class="token function">RecentComments</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=131></td><td><pre>          <span class="token literal-property property">serverURL</span><span class="token operator">:</span> options<span class="token punctuation">.</span>serverURL<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=132></td><td><pre>          <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num=133></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> comments <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token function">recent_comment_create</span><span class="token punctuation">(</span>comments<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=134></td><td><pre></pre></td></tr><tr><td data-num=135></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#waline-comment'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num=136></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=137></td><td><pre>          options<span class="token punctuation">.</span>el <span class="token operator">=</span> <span class="token string">'#waline-comment'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=138></td><td><pre>          Waline<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=139></td><td><pre>          <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=140></td><td><pre>            <span class="token function">positionInit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=141></td><td><pre>            <span class="token function">postFancybox</span><span class="token punctuation">(</span><span class="token string">'#waline-comment'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=142></td><td><pre>          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=143></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=144></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=145></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=146></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=147></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num=148></td><td><pre></pre></td></tr><tr><td data-num=149></td><td><pre><span class="token comment">// 之后将`siteRefresh`函数中</span></pre></td></tr><tr><td data-num=150></td><td><pre><span class="token comment">// 第58行到72行左右的`vendorJs('valine',function()&#123;&#125;`部分删除，</span></pre></td></tr><tr><td data-num=151></td><td><pre><span class="token comment">// 并添加下面内容</span></pre></td></tr><tr><td data-num=152></td><td><pre><span class="token function">waline_create</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>删除文件：<code>./themes/shoka/source/css/_common/components/third-party/valine.styl</code></p></li><li><p>创建新文件：<code>./themes/shoka/source/css/_common/components/third-party/waline.styl</code></p><p>将下面的样式代码放入</p><figure class="highlight stylus"><figcaption data-lang=stylus></figcaption><table><tr><td data-num=1></td><td><pre><span class="token selector">:root <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=2></td><td><pre>    <span class="token property-declaration"><span class="token property">--waline-border-color</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=3></td><td><pre>    <span class="token property-declaration"><span class="token property">--waline-border</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=4></td><td><pre>    <span class="token property-declaration"><span class="token property">--waline-font-size</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=5></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=6></td><td><pre></pre></td></tr><tr><td data-num=7></td><td><pre><span class="token selector">[data-theme="dark"]:root <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=8></td><td><pre>    <span class="token property-declaration"><span class="token property">--waline-info-bg-color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=9></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=10></td><td><pre></pre></td></tr><tr><td data-num=11></td><td><pre><span class="token selector">[data-waline] <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=12></td><td><pre>    <span class="token property-declaration"><span class="token property">font-size</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=13></td><td><pre>    <span class="token property-declaration"><span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=14></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=15></td><td><pre></pre></td></tr><tr><td data-num=16></td><td><pre><span class="token selector">[data-waline] * <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=17></td><td><pre>    <span class="token property-declaration"><span class="token property">box-sizing</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=18></td><td><pre>    <span class="token property-declaration"><span class="token property">line-height</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=19></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=20></td><td><pre></pre></td></tr><tr><td data-num=21></td><td><pre><span class="token selector">[data-waline] p <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=22></td><td><pre>    <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=23></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=24></td><td><pre></pre></td></tr><tr><td data-num=25></td><td><pre><span class="token selector">[data-waline] pre <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=26></td><td><pre>    <span class="token property-declaration"><span class="token property">overflow</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=27></td><td><pre>    <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=28></td><td><pre>    <span class="token property-declaration"><span class="token property">line-height</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=29></td><td><pre>    <span class="token property-declaration"><span class="token property">margin</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=30></td><td><pre>    <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=31></td><td><pre>    <span class="token property-declaration"><span class="token property">border-radius</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=32></td><td><pre>    <span class="token property-declaration"><span class="token property">background</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=33></td><td><pre>    <span class="token property-declaration"><span class="token property">font-size</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=34></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=35></td><td><pre></pre></td></tr><tr><td data-num=36></td><td><pre><span class="token selector">[data-waline] code <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=37></td><td><pre>    <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">.1</span><span class="token unit">em</span> <span class="token number">.2</span><span class="token unit">em</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=38></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=39></td><td><pre></pre></td></tr><tr><td data-num=40></td><td><pre><span class="token selector">[data-waline] pre code <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=41></td><td><pre>    <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=42></td><td><pre>    <span class="token property-declaration"><span class="token property">background</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=43></td><td><pre>    <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=44></td><td><pre>    <span class="token property-declaration"><span class="token property">white-space</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=45></td><td><pre>    <span class="token property-declaration"><span class="token property">word-break</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=46></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=47></td><td><pre></pre></td></tr><tr><td data-num=48></td><td><pre><span class="token selector">#comments <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=49></td><td><pre>    <span class="token property-declaration"><span class="token property">animation</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=50></td><td><pre>    <span class="token property-declaration"><span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=51></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=52></td><td><pre></pre></td></tr><tr><td data-num=53></td><td><pre><span class="token selector">#waline-comment</span></pre></td></tr><tr><td data-num=54></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=55></td><td><pre>    <span class="token selector">.wl-comment .wl-footer .upload<span class="token punctuation">,</span></span></pre></td></tr><tr><td data-num=56></td><td><pre>    .wl-comment .wl-footer .wl-gif-popup<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=57></td><td><pre>    .wl-comment .wl-footer .wl-text-number<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=58></td><td><pre>    .wl-meta-head .wl-sort<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=59></td><td><pre>    .wl-cards .wl-like<span class="token punctuation">,</span></pre></td></tr><tr><td data-num=60></td><td><pre>    .wl-cards .wl-addr <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=61></td><td><pre>        <span class="token property-declaration"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=62></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=63></td><td><pre></pre></td></tr><tr><td data-num=64></td><td><pre>    <span class="token selector">input<span class="token punctuation">,</span></span></pre></td></tr><tr><td data-num=65></td><td><pre>    textarea <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=66></td><td><pre>        <span class="token property-declaration"><span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=67></td><td><pre>        <span class="token property-declaration"><span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=68></td><td><pre>        <span class="token property-declaration"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token color">transparent</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=69></td><td><pre>        <span class="token property-declaration"><span class="token property">font-size</span><span class="token punctuation">:</span> $font-size-smallest<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=70></td><td><pre>        <span class="token property-declaration"><span class="token property">transition</span><span class="token punctuation">:</span> all <span class="token number">.25</span><span class="token unit">s</span> ease<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=71></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=72></td><td><pre></pre></td></tr><tr><td data-num=73></td><td><pre>    <span class="token selector">a <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=74></td><td><pre>        <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span>-color-<span class="token color">aqua</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=75></td><td><pre>        <span class="token property-declaration"><span class="token property">border-bottom</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=76></td><td><pre>        <span class="token property-declaration"><span class="token property">padding-bottom</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=77></td><td><pre></pre></td></tr><tr><td data-num=78></td><td><pre>        <span class="token selector">&amp;:hover <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=79></td><td><pre>            <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span>-primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=80></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=81></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=82></td><td><pre></pre></td></tr><tr><td data-num=83></td><td><pre>    <span class="token selector">li <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=84></td><td><pre>        <span class="token property-declaration"><span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=85></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=86></td><td><pre></pre></td></tr><tr><td data-num=87></td><td><pre>    <span class="token selector">.text-center <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=88></td><td><pre>        <span class="token property-declaration"><span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=89></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=90></td><td><pre></pre></td></tr><tr><td data-num=91></td><td><pre>    <span class="token selector">.text-right <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=92></td><td><pre>        <span class="token property-declaration"><span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=93></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=94></td><td><pre></pre></td></tr><tr><td data-num=95></td><td><pre>    <span class="token selector">.float-right <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=96></td><td><pre>        <span class="token property-declaration"><span class="token property">float</span><span class="token punctuation">:</span> right <span class="token important">!important</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=97></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=98></td><td><pre></pre></td></tr><tr><td data-num=99></td><td><pre>    <span class="token selector">.pd5 <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=100></td><td><pre>        <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=101></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=102></td><td><pre></pre></td></tr><tr><td data-num=103></td><td><pre>    <span class="token selector">.pd10 <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=104></td><td><pre>        <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=105></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=106></td><td><pre></pre></td></tr><tr><td data-num=107></td><td><pre>    <span class="token selector">.wl-comment <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=108></td><td><pre>        <span class="token func"><span class="token function">shadow-box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=109></td><td><pre>        <span class="token property-declaration"><span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">.625</span><span class="token unit">rem</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=110></td><td><pre>        <span class="token property-declaration"><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=111></td><td><pre>        <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">.625</span><span class="token unit">rem</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=112></td><td><pre></pre></td></tr><tr><td data-num=113></td><td><pre>        <span class="token selector">.wl-panel <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=114></td><td><pre>            <span class="token property-declaration"><span class="token property">background</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=115></td><td><pre>            <span class="token property-declaration"><span class="token property">margin</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=116></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=117></td><td><pre></pre></td></tr><tr><td data-num=118></td><td><pre>        <span class="token selector">.wl-header <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=119></td><td><pre>            <span class="token property-declaration"><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=120></td><td><pre>            <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">.3</span><span class="token unit">em</span> <span class="token number">.6</span><span class="token unit">em</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=121></td><td><pre></pre></td></tr><tr><td data-num=122></td><td><pre>            <span class="token selector">.wl-header-item <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=123></td><td><pre>                <span class="token property-declaration"><span class="token property">flex</span><span class="token punctuation">:</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">27</span><span class="token unit">%</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=124></td><td><pre>                <span class="token property-declaration"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">27</span><span class="token unit">%</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=125></td><td><pre></pre></td></tr><tr><td data-num=126></td><td><pre>                <span class="token selector">input <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=127></td><td><pre>                    <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">.625</span><span class="token unit">rem</span> <span class="token number">.3125</span><span class="token unit">rem</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=128></td><td><pre>                    <span class="token property-declaration"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=129></td><td><pre>                    <span class="token property-declaration"><span class="token property">border-bottom</span><span class="token punctuation">:</span> <span class="token number">.0625</span><span class="token unit">rem</span> dashed <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=130></td><td><pre>                    <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span>-text-color<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=131></td><td><pre></pre></td></tr><tr><td data-num=132></td><td><pre>                    <span class="token selector">&amp;:focus <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=133></td><td><pre>                        <span class="token property-declaration"><span class="token property">border-bottom-color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span>-primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=134></td><td><pre>                    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=135></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=136></td><td><pre></pre></td></tr><tr><td data-num=137></td><td><pre>                <span class="token selector">label <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=138></td><td><pre>                    <span class="token property-declaration"><span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=139></td><td><pre>                    <span class="token property-declaration"><span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">-10</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=140></td><td><pre>                    <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=141></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=142></td><td><pre>                </pre></td></tr><tr><td data-num=143></td><td><pre>                <span class="token selector">.wl-nick<span class="token punctuation">,</span></span></pre></td></tr><tr><td data-num=144></td><td><pre>                .wl-mail <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=145></td><td><pre>                    <span class="token property-declaration"><span class="token property">padding-left</span><span class="token punctuation">:</span> <span class="token number">35</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=146></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=147></td><td><pre></pre></td></tr><tr><td data-num=148></td><td><pre>                <span class="token selector">.wl-link <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=149></td><td><pre>                    <span class="token property-declaration"><span class="token property">padding-left</span><span class="token punctuation">:</span> <span class="token number">60</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=150></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=151></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=152></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=153></td><td><pre></pre></td></tr><tr><td data-num=154></td><td><pre>        <span class="token selector">.wl-editor <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=155></td><td><pre>            <span class="token property-declaration"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">97</span><span class="token unit">%</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=156></td><td><pre>            <span class="token property-declaration"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">123</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=157></td><td><pre>            <span class="token property-declaration"><span class="token property">min-height</span><span class="token punctuation">:</span> <span class="token number">8.75</span><span class="token unit">em</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=158></td><td><pre>            <span class="token property-declaration"><span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">1.75</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=159></td><td><pre>            <span class="token property-declaration"><span class="token property">resize</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=160></td><td><pre>            <span class="token property-declaration"><span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=161></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=162></td><td><pre></pre></td></tr><tr><td data-num=163></td><td><pre>        <span class="token selector">.wl-footer <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=164></td><td><pre>            <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">.625</span><span class="token unit">rem</span> <span class="token number">0</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=165></td><td><pre>            <span class="token property-declaration"><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=166></td><td><pre>            <span class="token selector">.wl-action <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=167></td><td><pre>                <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=168></td><td><pre>                <span class="token property-declaration"><span class="token property">transition</span><span class="token punctuation">:</span> all <span class="token number">.25</span><span class="token unit">s</span> ease<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=169></td><td><pre></pre></td></tr><tr><td data-num=170></td><td><pre>                <span class="token selector">&amp;:first-child <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=171></td><td><pre>                    <span class="token property-declaration"><span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">1.3</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=172></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=173></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=174></td><td><pre></pre></td></tr><tr><td data-num=175></td><td><pre>            <span class="token selector">.wl-btn <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=176></td><td><pre>                <span class="token property-declaration"><span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=177></td><td><pre>                <span class="token property-declaration"><span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=178></td><td><pre>                <span class="token property-declaration"><span class="token property">touch-action</span><span class="token punctuation">:</span> manipulation<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=179></td><td><pre>                <span class="token property-declaration"><span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=180></td><td><pre>                <span class="token property-declaration"><span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=181></td><td><pre>                <span class="token property-declaration"><span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=182></td><td><pre>                <span class="token property-declaration"><span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=183></td><td><pre>                <span class="token property-declaration"><span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">0.3</span><span class="token unit">rem</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=184></td><td><pre>                <span class="token property-declaration"><span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">0.0625</span><span class="token unit">rem</span> solid <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=185></td><td><pre>                <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=186></td><td><pre>                <span class="token property-declaration"><span class="token property">font-size</span><span class="token punctuation">:</span> $font-size-small<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=187></td><td><pre>                <span class="token property-declaration"><span class="token property">font-weight</span><span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=188></td><td><pre>                <span class="token property-declaration"><span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">1.5</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=189></td><td><pre>                <span class="token property-declaration"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=190></td><td><pre>                <span class="token property-declaration"><span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=191></td><td><pre>                <span class="token property-declaration"><span class="token property">min-height</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">em</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=192></td><td><pre>                <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token unit">em</span> <span class="token number">1.25</span><span class="token unit">em</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=193></td><td><pre>                <span class="token property-declaration"><span class="token property">-webkit-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=194></td><td><pre>                <span class="token property-declaration"><span class="token property">-moz-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=195></td><td><pre>                <span class="token property-declaration"><span class="token property">-ms-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=196></td><td><pre>                <span class="token property-declaration"><span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=197></td><td><pre>                <span class="token property-declaration"><span class="token property">outline</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=198></td><td><pre>                <span class="token property-declaration"><span class="token property">will-change</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=199></td><td><pre>                <span class="token property-declaration"><span class="token property">transition</span><span class="token punctuation">:</span> all <span class="token number">.2</span><span class="token unit">s</span> ease-<span class="token operator">in</span>-out <span class="token number">0</span><span class="token unit">s</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=200></td><td><pre></pre></td></tr><tr><td data-num=201></td><td><pre>                <span class="token selector">&amp;:hover <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=202></td><td><pre>                    <span class="token property-declaration"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span>-primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=203></td><td><pre>                    <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=204></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=205></td><td><pre></pre></td></tr><tr><td data-num=206></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=207></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=208></td><td><pre></pre></td></tr><tr><td data-num=209></td><td><pre>        <span class="token selector">.wl-actions <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=210></td><td><pre>            <span class="token property-declaration"><span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">-20</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=211></td><td><pre></pre></td></tr><tr><td data-num=212></td><td><pre>            <span class="token selector">.wl-action <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=213></td><td><pre>                <span class="token property-declaration"><span class="token property">font-size</span><span class="token punctuation">:</span> $font-size-small<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=214></td><td><pre></pre></td></tr><tr><td data-num=215></td><td><pre>                <span class="token selector">&amp;:first-child svg <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=216></td><td><pre>                    <span class="token property-declaration"><span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">-7</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=217></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=218></td><td><pre></pre></td></tr><tr><td data-num=219></td><td><pre>                <span class="token selector">&amp;:last-child <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=220></td><td><pre>                    <span class="token property-declaration"><span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=221></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=222></td><td><pre></pre></td></tr><tr><td data-num=223></td><td><pre>                <span class="token selector">&amp;:hover <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=224></td><td><pre>                    <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span>-primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=225></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=226></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=227></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=228></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=229></td><td><pre></pre></td></tr><tr><td data-num=230></td><td><pre>    <span class="token selector">.wl-cards <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=231></td><td><pre>        <span class="token selector">.wl-meta <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=232></td><td><pre>            <span class="token property-declaration"><span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token number">-5</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=233></td><td><pre>            <span class="token property-declaration"><span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">-1</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=234></td><td><pre></pre></td></tr><tr><td data-num=235></td><td><pre>            <span class="token selector">>span <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=236></td><td><pre>                <span class="token property-declaration"><span class="token property">font-size</span><span class="token punctuation">:</span> $font-size-smallest<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=237></td><td><pre>                <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token unit">px</span> <span class="token number">2</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=238></td><td><pre>                <span class="token property-declaration"><span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">1.15</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=239></td><td><pre>                <span class="token property-declaration"><span class="token property">padding-top</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=240></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=241></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=242></td><td><pre></pre></td></tr><tr><td data-num=243></td><td><pre>        <span class="token selector">.wl-comment-actions button <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=244></td><td><pre>            <span class="token selector">&amp;:hover <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=245></td><td><pre>                <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span>-primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=246></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=247></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=248></td><td><pre></pre></td></tr><tr><td data-num=249></td><td><pre>        <span class="token selector">.wl-reply-wrapper .wl-close <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=250></td><td><pre>            <span class="token selector">.wl-close-icon <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=251></td><td><pre>                <span class="token property-declaration"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">40</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=252></td><td><pre>                <span class="token property-declaration"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">40</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=253></td><td><pre>                <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=254></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=255></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=256></td><td><pre></pre></td></tr><tr><td data-num=257></td><td><pre>        <span class="token selector">.wl-quote <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=258></td><td><pre>            <span class="token property-declaration"><span class="token property">border-bottom</span><span class="token punctuation">:</span> <span class="token number">0.0625</span><span class="token unit">rem</span> dashed <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=259></td><td><pre></pre></td></tr><tr><td data-num=260></td><td><pre>            <span class="token selector">.wl-card <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=261></td><td><pre>                <span class="token property-declaration"><span class="token property">border-bottom</span><span class="token punctuation">:</span> <span class="token number">0.0625</span><span class="token unit">rem</span> dashed <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=262></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=263></td><td><pre></pre></td></tr><tr><td data-num=264></td><td><pre>            <span class="token selector">div:last-child .wl-card <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=265></td><td><pre>                <span class="token property-declaration"><span class="token property">border-bottom</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=266></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=267></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=268></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=269></td><td><pre></pre></td></tr><tr><td data-num=270></td><td><pre>    <span class="token selector">.wl-meta>.wl-browser::before<span class="token punctuation">,</span></span></pre></td></tr><tr><td data-num=271></td><td><pre>    .wl-meta>.wl-os::before <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=272></td><td><pre>        <span class="token property-declaration"><span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">-0.8</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=273></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=274></td><td><pre></pre></td></tr><tr><td data-num=275></td><td><pre>    <span class="token selector">.wl-content pre<span class="token punctuation">,</span> </span></pre></td></tr><tr><td data-num=276></td><td><pre>    .wl-content pre[class*=language-] <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=277></td><td><pre>        <span class="token property-declaration"><span class="token property">overflow</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=278></td><td><pre>        <span class="token property-declaration"><span class="token property">margin</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=279></td><td><pre>        <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=280></td><td><pre>        <span class="token property-declaration"><span class="token property">border-radius</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=281></td><td><pre>        <span class="token property-declaration"><span class="token property">background</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=282></td><td><pre>        <span class="token property-declaration"><span class="token property">line-height</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=283></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=284></td><td><pre></pre></td></tr><tr><td data-num=285></td><td><pre>    <span class="token selector">.wl-content pre code<span class="token punctuation">,</span> </span></pre></td></tr><tr><td data-num=286></td><td><pre>    .wl-content pre[class*=language-] code <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num=287></td><td><pre>        <span class="token property-declaration"><span class="token property">padding</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=288></td><td><pre>        <span class="token property-declaration"><span class="token property">border-radius</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=289></td><td><pre>        <span class="token property-declaration"><span class="token property">background</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=290></td><td><pre>        <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=291></td><td><pre>        <span class="token property-declaration"><span class="token property">direction</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=292></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=293></td><td><pre></pre></td></tr><tr><td data-num=294></td><td><pre>    <span class="token selector">.wl-content pre <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=295></td><td><pre>        <span class="token property-declaration"><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=296></td><td><pre>        <span class="token property-declaration"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=297></td><td><pre>        <span class="token property-declaration"><span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token unit">rem</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=298></td><td><pre>        <span class="token property-declaration"><span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">0.3125</span><span class="token unit">rem</span> <span class="token number">0.625</span><span class="token unit">rem</span> <span class="token number">-0.125</span><span class="token unit">rem</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-9</span>-a1<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=299></td><td><pre>        <span class="token property-declaration"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=300></td><td><pre>        <span class="token property-declaration"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span><span class="token color">grey</span><span class="token number">-7</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=301></td><td><pre>        <span class="token property-declaration"><span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">1.6</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=302></td><td><pre>        <span class="token property-declaration"><span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">1.25</span><span class="token unit">rem</span> auto<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=303></td><td><pre></pre></td></tr><tr><td data-num=304></td><td><pre>        <span class="token property-declaration"><span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=305></td><td><pre>        <span class="token property-declaration"><span class="token property">margin-block-start</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">em</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=306></td><td><pre>        <span class="token property-declaration"><span class="token property">margin-block-end</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">em</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=307></td><td><pre>        <span class="token property-declaration"><span class="token property">margin-inline-end</span><span class="token punctuation">:</span> <span class="token number">40</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=308></td><td><pre></pre></td></tr><tr><td data-num=309></td><td><pre>        <span class="token property-declaration"><span class="token property">white-space</span><span class="token punctuation">:</span> pre<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=310></td><td><pre>        <span class="token property-declaration"><span class="token property">border-spacing</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=311></td><td><pre>        <span class="token property-declaration"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=312></td><td><pre>        <span class="token property-declaration"><span class="token property">border-collapse</span><span class="token punctuation">:</span> separate<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=313></td><td><pre>        <span class="token property-declaration"><span class="token property">text-indent</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=314></td><td><pre>        <span class="token property-declaration"><span class="token property">overflow-x</span><span class="token punctuation">:</span> scroll<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=315></td><td><pre>        <span class="token property-declaration"><span class="token property">overflow-y</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=316></td><td><pre></pre></td></tr><tr><td data-num=317></td><td><pre>        <span class="token selector">code <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=318></td><td><pre>            <span class="token property-declaration"><span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=319></td><td><pre>            <span class="token property-declaration"><span class="token property">border-color</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=320></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=321></td><td><pre></pre></td></tr><tr><td data-num=322></td><td><pre>        <span class="token selector">span <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=323></td><td><pre>            <span class="token property-declaration"><span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=324></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=325></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=326></td><td><pre></pre></td></tr><tr><td data-num=327></td><td><pre>    <span class="token selector">.wl-loading <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=328></td><td><pre>        </pre></td></tr><tr><td data-num=329></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=330></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=331></td><td><pre></pre></td></tr><tr><td data-num=332></td><td><pre><span class="token selector">#waline-recent <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=333></td><td><pre>    <span class="token selector">.item <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=334></td><td><pre>        <span class="token property-declaration"><span class="token property">counter-increment</span><span class="token punctuation">:</span> counter-post<span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=335></td><td><pre>        <span class="token selector">&amp;::before<span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=336></td><td><pre>            <span class="token property-declaration"><span class="token property">content</span><span class="token punctuation">:</span> <span class="token func"><span class="token function">counter</span><span class="token punctuation">(</span>counter-post<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></pre></td></tr><tr><td data-num=337></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=338></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=339></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num=340></td><td><pre></pre></td></tr><tr><td data-num=341></td><td><pre><span class="token selector">.waline-pageview-count <span class="token punctuation">&#123;</span></span></pre></td></tr><tr><td data-num=342></td><td><pre>    <span class="token property-declaration"><span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token unit">px</span><span class="token punctuation">;</span></span></pre></td></tr><tr><td data-num=343></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ul></div></details><details class=info><summary>LeanCloud数据存储的评论格式变更(评论系统从valine变为waline)</summary><div><p>首先是数据库表格式的变更，与valine评论系统的表相比</p><ul><li><code>url</code>列(属性)格式从<code>path/to/index/</code>变为了<code>/path/to/index/</code>，当评论系统从valine转变为waline的v3版本时，会由于格式不正确而不能显示评论和文章阅读量</li><li>添加了<code>insertedAt</code>列来代替<code>createdAt</code>列与<code>updatedAt</code>列，评论系统从valine转变为waline的v3版本时，会由于评论没有<code>insertedAt</code>列值到导致评论的时间都显示为<code>1970</code></li></ul><p><font size=4><ins><strong>LeanCloud数据格式变更</strong></ins></font></p><ul><li>进入LeanCloud的应用页面，点击数据存储 → 导入导出 → 数据导出 → 勾选限定Class → 勾选<code>Comment</code>与<code>Counter</code> → 导出，导出的数据用于恢复错误操作</li><li>点击数据存储 → 结构化数据 → Users，此处是之前valine的管理员账号登录数，将数据全部删除，勾选添加行下面的方框 → 点击上方的删除 xx 行 → 勾选使用 masterKey → 删除</li><li>点击数据存储 → 结构化数据 → Comment</li><li>修改url列格式的方法，用于解决没有评论显示的问题<ul><li>找到右边三横的图标(列隐藏，排序)，点击该图标 → 点击全部 → 下滑找到url并点击</li><li>复制url列里的内容，点击批量操作 → 增加条件 → 选择url → 将刚刚复制的值复制到右边的框 → 点击测试条件 → 点击下一步 → 更新对象 → 选择要更新的列，选url → 将刚刚复制的值复制到右边的框，并在最左边添加<code>/</code>符号 → 点击下一步 → 勾选使用 masterKey → 点击连续运行</li><li>运行完成后，点击按条件过滤 → 添加 → 选择列，选url → 中间选项选does not equal → 将刚刚复制的值复制到右边的框，并在最左边添加<code>/</code>符号 → 点击使用</li><li>依照上面的过程以此循环操作，直到过滤完后没有数据即可</li></ul></li><li>修改insertAt列格式的方法，用于解决评论显示日期错误的问题<ul><li>先通过<code>hexo s</code>命令打开博客预览，在文章中发一条评论</li><li>返回到LeanCloud的结构化数据 → Comment，找到右边三横的图标(列隐藏，排序)，点击该图标 → 点击全部 → 下滑找到<code>insertedAt</code>和<code>createdAt</code>并点击</li><li>目前没有什么方便的方法，只能手动将<code>createdAt</code>的列值复制到<code>insertedAt</code>列中</li><li>复制完后，找到刚刚发送那条评论并删除</li></ul></li><li>点击数据存储 → 结构化数据 → Counter，依照之前修改url列格式的方法进行即可</li><li>(<strong>info</strong>)当数据操作失误后，先去邮箱下载刚刚导出的文件，并解压，再到LeanCloud结构化数据中，将Comment和Users的数据全部删除。之后点击结构化数据 → 导入导出 → 数据导入 → 选择文件 → 选择刚刚解压的其中一个文件 → 导入，之后再选另外一个文件导入，之后刷新页面</li></ul><p><font size=4><ins><strong>关于评论区代码区域部分</strong></ins></font></p><p>waline评论区的代码区域分布逻辑/高亮逻辑与hexo-theme-shoka主题完全不兼容，无解，除非自己修改waline源码，<code>./themes/shoka/_config.yml</code>文件中waline区域中的highlighter选项建议一直保持值为<code>false</code>。之后可通过修改css样式来改变代码区域的风格。</p></div></details></div><footer><div class=meta><span class=item><span class=icon><i class="ic i-calendar-check"></i></span> <span class=text>更新于</span> <time title="修改时间：2025-01-30 23:45:54" itemprop=dateModified datetime=2025-01-30T23:45:54+08:00>2025-01-30</time></span><span class=item data-path=/computer-science/shoka-theme/comment/ title=阅读次数><span class=icon><i class="ic i-eye"></i></span> <span class=text>阅读次数</span><span class=waline-pageview-count></span> <span class=text>次</span></span></div><div id=copyright><ul><li class=author><strong>本文作者：</strong> ReverseSacle <i class="ic i-at"><em>@</em></i>逆转天平</li><li class=link><strong>本文链接：</strong> <a href=https://www.reversesacle.com/computer-science/shoka-theme/comment/ title=评论区基本功能>https://www.reversesacle.com/computer-science/shoka-theme/comment/</a></li><li class=license><strong>版权声明：</strong> 本站所有文章除特别声明外，均采用 <span class=exturl data-url=aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class=post-nav><div class="item left"><a href=/computer-science/shoka-theme/image/ itemprop=url rel=prev data-background-image=https:&#x2F;&#x2F;resa-imgs.oss-accelerate.aliyuncs.com&#x2F;img&#x2F;acg14.webp title=主要图片及图床配置><span class=type>上一篇</span><span class=category><i class="ic i-flag"></i> Shoka主题</span><h3>主要图片及图床配置</h3></a></div><div class="item right"><a href=/computer-science/shoka-theme/another/ itemprop=url rel=next data-background-image=https:&#x2F;&#x2F;resa-imgs.oss-accelerate.aliyuncs.com&#x2F;img&#x2F;acg4.webp title=额外添加配置><span class=type>下一篇</span><span class=category><i class="ic i-flag"></i> Shoka主题</span><h3>额外添加配置</h3></a></div></div><div class=wrap id=comments><div id=waline-comment></div></div></div><div id=sidebar><div class=inner><div class=panels><div class=inner><div class="contents panel pjax" data-title=文章目录><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#valine%E5%B7%B2%E5%81%9C%E6%AD%A2%E6%9B%B4%E6%96%B0><span class=toc-number>1.</span> <span class=toc-text>Valine(已停止更新)</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#walinev3%E7%89%88%E6%9C%AC-vercel%E9%83%A8%E7%BD%B2><span class=toc-number>2.</span> <span class=toc-text>Waline(v3版本-vercel部署)</span></a></li></ol></div><div class="related panel pjax" data-title=系列文章><ul><li><a href=/computer-science/shoka-theme/supplement-for-shoka-theme/ rel=bookmark title=Hexo-Shoka主题功能介绍补充点>Hexo-Shoka主题功能介绍补充点</a></li><li><a href=/computer-science/shoka-theme/image/ rel=bookmark title=主要图片及图床配置>主要图片及图床配置</a></li><li class=active><a href=/computer-science/shoka-theme/comment/ rel=bookmark title=评论区基本功能>评论区基本功能</a></li><li><a href=/computer-science/shoka-theme/another/ rel=bookmark title=额外添加配置>额外添加配置</a></li></ul></div><div class="overview panel" data-title=站点概览><div class=author itemprop=author itemscope itemtype=http://schema.org/Person><img class=image itemprop=image alt=ReverseSacle data-src=/images/avatar.webp><p class=name itemprop=name>ReverseSacle</p><div class=description itemprop=description>知识书库 & 学习点滴</div></div><nav class=state><div class="item posts"><a href=/archives/ ><span class=count>186</span> <span class=name>文章</span></a></div><div class="item categories"><a href=/categories/ ><span class=count>52</span> <span class=name>分类</span></a></div><div class="item tags"><a href=/tags/ ><span class=count>18</span> <span class=name>标签</span></a></div></nav><div class=social><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL1JldmVyc2VTYWNsZQ==" title=https:&#x2F;&#x2F;github.com&#x2F;ReverseSacle><i class="ic i-github"></i></span><span class="exturl item email" data-url="bWFpbHRvOnByaXZhdGVAcmV2ZXJzZXNhY2xlLmNvbQ==" title=mailto:private@reversesacle.com><i class="ic i-envelope"></i></span></div><ul class=menu><li class=item><a href=/ rel=section><i class="ic i-home"></i> 首页</a></li><li class="item dropdown"><a href=javascript:void(0);><i class="ic i-feather"></i> 文章</a><ul class=submenu><li class=item><a href=/archives/ rel=section><i class="ic i-list-alt"></i> 归档</a></li><li class=item><a href=/categories/ rel=section><i class="ic i-th"></i> 分类</a></li><li class=item><a href=/tags/ rel=section><i class="ic i-tags"></i> 标签</a></li></ul></li><li class=item><a href=/about/ rel=section><i class="ic i-user"></i> 关于</a></li><li class=item><a href=/friend-links/ rel=section><i class="ic i-heart"></i> 友链</a></li></ul></div></div></div><ul id=quick><li class="prev pjax"><a href=/computer-science/shoka-theme/image/ rel=prev title=上一篇><i class="ic i-chevron-left"></i></a></li><li class=up><i class="ic i-arrow-up"></i></li><li class=down><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href=/computer-science/shoka-theme/another/ rel=next title=下一篇><i class="ic i-chevron-right"></i></a></li><li class=percent></li></ul></div></div><div class=dimmer></div></div></main><footer id=footer><div class=inner><div class=widgets><div class="rpost pjax"><h2>随机文章</h2><ul><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/c-algorithm/ title="分类于 C版算法">C版算法</a></div><span><a href=/computer-science/programming/c-language/c-algorithm/simulation/ title=模拟>模拟</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/algorithm/ title="分类于 算法">算法</a></div><span><a href=/computer-science/programming/algorithm/pattern-search/knuth%E2%80%93morris%E2%80%93pratt/ title=Knuth–Morris–Pratt(KMP)>Knuth–Morris–Pratt(KMP)</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/android-development/ title="分类于 安卓开发">安卓开发</a></div><span><a href=/computer-science/programming/android-development/android-newer/ title=Kotlin与安卓开发-基础>Kotlin与安卓开发-基础</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/rust/ title="分类于 Rust">Rust</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/rust/rust-basic/ title="分类于 Rust基础">Rust基础</a></div><span><a href=/computer-science/programming/rust/rust-basic/rustpart2/ title=Rust语言-基础-第二部分>Rust语言-基础-第二部分</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/c-data-structure/ title="分类于 C语言数据结构">C语言数据结构</a></div><span><a href=/computer-science/programming/c-language/c-data-structure/compressed-sparse-matrix/ title=结构数组之稀疏矩阵的压缩>结构数组之稀疏矩阵的压缩</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/c-algorithm/ title="分类于 C版算法">C版算法</a></div><span><a href=/computer-science/programming/c-language/c-algorithm/dynamic-program/ title=动态规划&#x2F;状态转移>动态规划/状态转移</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a></div><span><a href=/computer-science/programming/c-language/c-data-structure/linear-structure/doubly-link-list/ title=C语言-双向链表>C语言-双向链表</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/shoka-theme/ title="分类于 Shoka主题">Shoka主题</a></div><span><a href=/computer-science/shoka-theme/comment/ title=评论区基本功能>评论区基本功能</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/web/ title="分类于 web">web</a></div><span><a href=/computer-science/programming/web/hcpart1/ title=HTML与CSS基础知识-第一部分>HTML与CSS基础知识-第一部分</a></span></li><li class=item><div class=breadcrumb><a href=/categories/computer-science/ title="分类于 计算机科学">计算机科学</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/ title="分类于 编程">编程</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/ title="分类于 C语言">C语言</a><i class="ic i-angle-right"></i> <a href=/categories/computer-science/programming/c-language/seqlist/ title="分类于 顺序表">顺序表</a></div><span><a href=/computer-science/programming/c-language/c-algorithm/seqlist/trick/ title=顺序表基础技巧>顺序表基础技巧</a></span></li></ul></div><div><h2>最新评论</h2><ul id=waline-recent></ul></div></div><div class=status><div class=copyright>&copy; 2021 – <span itemprop=copyrightYear>2025</span><span class=with-love><i class="ic i-sakura rotate"></i></span> <span class=author itemprop=copyrightHolder>ReverseSacle @ ReverseSacle-Blog</span></div><div class=count><i class="ic i-clock" aria-hidden=true></i> <span id=time align=center>载入时间中...<script defer>var now=new Date;function createtime(){var n=new Date("2021-11-16 22:30:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("time").innerHTML="已经过 "+dnum+" 天 "+hnum+" 小时 "+mnum+" 分 "+snum+" 秒 "}setInterval("createtime()",250)</script></span><span class=post-meta-item-icon>|&nbsp<i class="ic i-chart-area"></i></span> <span title=站点总字数>2.1m 字</span> <span class=post-meta-item-icon>|&nbsp<i class="ic i-coffee"></i></span> <span title=站点阅读时长>40:40</span></div></div></div></footer></div><script data-config>var LOCAL={path:"computer-science/shoka-theme/comment/",favicon:{show:"ReverseSacle-Blog",hide:"ReverseSacle-Blog"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},waline:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src=https://polyfill.alicdn.com/v3/polyfill.min.js></script><script src=https://cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1.16.0/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js></script><script src=/js/app.js></script></body></html>